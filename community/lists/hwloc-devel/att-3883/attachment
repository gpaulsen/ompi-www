<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1"
      http-equiv="Content-Type">
  </head>
  <body text="#000000" bgcolor="#FFFFFF">
    <div class="moz-cite-prefix">I can't see any segfault. Where does
      the segfault occurs for you? In OMPI only (or lstopo too)? When
      loading or when using the topology?<br>
      <br>
      I tried lstopo on that file with and without
      HWLOC_NO_LIBXML_IMPORT=1 (in case the bug is in one of XML
      backends), looks ok.<br>
      <br>
      Brice<br>
      <br>
      <br>
      <br>
      <br>
      <br>
      Le 20/09/2013 23:53, Ralph Castain a &eacute;crit&nbsp;:<br>
    </div>
    <blockquote
      cite="mid:AF0473FB-A400-4742-B1D0-3F284C7AFBBF@open-mpi.org"
      type="cite">
      <pre wrap="">Here are the two files I tried - not from the same machine. The foo.xml works, the topo.xml segfaults


</pre>
      <br>
      <fieldset class="mimeAttachmentHeader"></fieldset>
      <br>
      <pre wrap="">

One of our users reported it from their machine, but I don't have their topo file.

On Sep 20, 2013, at 2:41 PM, Brice Goglin <a class="moz-txt-link-rfc2396E" href="mailto:Brice.Goglin@inria.fr">&lt;Brice.Goglin@inria.fr&gt;</a> wrote:

</pre>
      <blockquote type="cite">
        <pre wrap="">Hello,
I don't see anything reason for such an incompatibility. But there are
many combinations, we can't test everything.
I can't reproduce that on my machines. Can you send the XML output of
both versions on one of your machines?
Brice



Le 20/09/2013 23:32, Ralph Castain a &eacute;crit :
</pre>
        <blockquote type="cite">
          <pre wrap="">Hi folks

I've run across a rather strange behavior. We have two branches in OMPI - the devel trunk (using hwloc v1.7.2) and our feature release series (using hwloc 1.5.2). I have found the following:

*the feature series can correctly load an xml file generated by lstopo of versions 1.5 or greater

* the devel series can correctly load an xml file generated by lstopo of versions 1.7 or greater, but not files generated by prior versions. In the latter case, I segfault as soon as I try to use the loaded topology.

Any ideas why the discrepancy? Can I at least detect the version used to create a file when loading it so I can error out instead of segfaulting?

Ralph

_______________________________________________
hwloc-devel mailing list
<a class="moz-txt-link-abbreviated" href="mailto:hwloc-devel@open-mpi.org">hwloc-devel@open-mpi.org</a>
<a class="moz-txt-link-freetext" href="http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel">http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel</a>
</pre>
        </blockquote>
        <pre wrap="">
_______________________________________________
hwloc-devel mailing list
<a class="moz-txt-link-abbreviated" href="mailto:hwloc-devel@open-mpi.org">hwloc-devel@open-mpi.org</a>
<a class="moz-txt-link-freetext" href="http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel">http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel</a>
</pre>
      </blockquote>
      <pre wrap="">
</pre>
      <br>
      <fieldset class="mimeAttachmentHeader"></fieldset>
      <br>
      <pre wrap="">_______________________________________________
hwloc-devel mailing list
<a class="moz-txt-link-abbreviated" href="mailto:hwloc-devel@open-mpi.org">hwloc-devel@open-mpi.org</a>
<a class="moz-txt-link-freetext" href="http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel">http://www.open-mpi.org/mailman/listinfo.cgi/hwloc-devel</a></pre>
    </blockquote>
    <br>
  </body>
</html>

