<?
$subject_val = "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet";
include("../../include/msg-header.inc");
?>
<!-- received="Wed Jul 28 14:38:59 2010" -->
<!-- isoreceived="20100728183859" -->
<!-- sent="Wed, 28 Jul 2010 20:36:02 +0200" -->
<!-- isosent="20100728183602" -->
<!-- name="Brice Goglin" -->
<!-- email="Brice.Goglin_at_[hidden]" -->
<!-- subject="Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet" -->
<!-- id="4C507892.3000101_at_inria.fr" -->
<!-- charset="ISO-8859-15" -->
<!-- inreplyto="4C50609C.7080905_at_inria.fr" -->
<!-- expires="-1" -->
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<p class="headers">
<strong>Subject:</strong> Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet<br>
<strong>From:</strong> Brice Goglin (<em>Brice.Goglin_at_[hidden]</em>)<br>
<strong>Date:</strong> 2010-07-28 14:36:02
</p>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="1226.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Previous message:</strong> <a href="1224.php">Samuel Thibault: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>In reply to:</strong> <a href="1223.php">Brice Goglin: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1227.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Reply:</strong> <a href="1227.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Reply:</strong> <a href="1231.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<!-- reply="end" -->
</ul>
<hr>
<!-- body="start" -->
<p>
Le 28/07/2010 18:53, Brice Goglin a &#233;crit :
<br>
<span class="quotelev1">&gt; Distance matrix between Group0 objects:
</span><br>
<span class="quotelev1">&gt; 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66
</span><br>
<span class="quotelev1">&gt; 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64
</span><br>
<span class="quotelev1">&gt; 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62
</span><br>
<span class="quotelev1">&gt; 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60
</span><br>
<span class="quotelev1">&gt; 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58
</span><br>
<span class="quotelev1">&gt; 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56
</span><br>
<span class="quotelev1">&gt; 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54
</span><br>
<span class="quotelev1">&gt; 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52
</span><br>
<span class="quotelev1">&gt; 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50
</span><br>
<span class="quotelev1">&gt; 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46 48
</span><br>
<span class="quotelev1">&gt; 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44 46
</span><br>
<span class="quotelev1">&gt; 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42 44
</span><br>
<span class="quotelev1">&gt; 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40 42
</span><br>
<span class="quotelev1">&gt; 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38 40
</span><br>
<span class="quotelev1">&gt; 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36 38
</span><br>
<span class="quotelev1">&gt; 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34 36
</span><br>
<span class="quotelev1">&gt; 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32 34
</span><br>
<span class="quotelev1">&gt; 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30 32
</span><br>
<span class="quotelev1">&gt; 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28 30
</span><br>
<span class="quotelev1">&gt; 58 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26 28
</span><br>
<span class="quotelev1">&gt; 60 58 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24 26
</span><br>
<span class="quotelev1">&gt; 62 60 58 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22 24
</span><br>
<span class="quotelev1">&gt; 64 62 60 58 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13 22
</span><br>
<span class="quotelev1">&gt; 66 64 62 60 58 56 54 52 50 48 46 44 42 40 38 36 34 32 30 28 26 24 22 13
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt; Between Group1:
</span><br>
<span class="quotelev1">&gt; 17 24 28 32 36 40 44 48 52 56 60 64
</span><br>
<span class="quotelev1">&gt; 24 17 24 28 32 36 40 44 48 52 56 60
</span><br>
<span class="quotelev1">&gt; 28 24 17 24 28 32 36 40 44 48 52 56
</span><br>
<span class="quotelev1">&gt; 32 28 24 17 24 28 32 36 40 44 48 52
</span><br>
<span class="quotelev1">&gt; 36 32 28 24 17 24 28 32 36 40 44 48
</span><br>
<span class="quotelev1">&gt; 40 36 32 28 24 17 24 28 32 36 40 44
</span><br>
<span class="quotelev1">&gt; 44 40 36 32 28 24 17 24 28 32 36 40
</span><br>
<span class="quotelev1">&gt; 48 44 40 36 32 28 24 17 24 28 32 36
</span><br>
<span class="quotelev1">&gt; 52 48 44 40 36 32 28 24 17 24 28 32
</span><br>
<span class="quotelev1">&gt; 56 52 48 44 40 36 32 28 24 17 24 28
</span><br>
<span class="quotelev1">&gt; 60 56 52 48 44 40 36 32 28 24 17 24
</span><br>
<span class="quotelev1">&gt; 64 60 56 52 48 44 40 36 32 28 24 17
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt; Group2:
</span><br>
<span class="quotelev1">&gt; 20 28 36 44 52 60
</span><br>
<span class="quotelev1">&gt; 28 20 28 36 44 52
</span><br>
<span class="quotelev1">&gt; 36 28 20 28 36 44
</span><br>
<span class="quotelev1">&gt; 44 36 28 20 28 36
</span><br>
<span class="quotelev1">&gt; 52 44 36 28 20 28
</span><br>
<span class="quotelev1">&gt; 60 52 44 36 28 20
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt; Group3:
</span><br>
<span class="quotelev1">&gt; 24 36 52
</span><br>
<span class="quotelev1">&gt; 36 24 36
</span><br>
<span class="quotelev1">&gt; 52 36 24
</span><br>
<span class="quotelev1">&gt;   
</span><br>
<p>Actually, all these distance matrices (except the NUMA nodes' one, the
<br>
one not included above) show a ring topology without the link between
<br>
the first and the last object. So grouping makes no sense there. hwloc
<br>
1.0.x groups object #2N with object #2N+1 because its grouping algorithm
<br>
isn't very clever. It could also link #2N-1 with #2N, it wouldn't be
<br>
worse. The grouping algorithm is more clever in svn trunk. It detects
<br>
this ring properly and does not group anything (except pairs of NUMA node).
<br>
<p>It's actually surprising that this machine doesn't show a better
<br>
distance matrix. I guess SGI still has a hypercube or whatever nice
<br>
topology interconnected IRUs and blades. Older Altix machines had very
<br>
nice distance matrices were we would detect multiple levels of groups
<br>
that really showed the physical hierarchy of blades/IRUs/... I wonder if
<br>
your SGI BIOS is buggy :)
<br>
<p>Michael Raymond, anything to say about this?
<br>
<p>Brice
<br>
<!-- body="end" -->
<hr>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="1226.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Previous message:</strong> <a href="1224.php">Samuel Thibault: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>In reply to:</strong> <a href="1223.php">Brice Goglin: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1227.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Reply:</strong> <a href="1227.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<li><strong>Reply:</strong> <a href="1231.php">Bernd Kallies: "Re: [hwloc-devel] Bug report: topology strange on SGI UltraViolet"</a>
<!-- reply="end" -->
</ul>
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<? include("../../include/msg-footer.inc") ?>
