<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Hi folks<div class=""><br class=""></div><div class="">I’ve been working on updating the OMPI hwloc code to the 1.11 version. I reported via Jeff about the config issue, so I updated to the latest nightly tarball of 1.11 to pickup that change. I’m now able to configure, but hit one last required change to make it build:</div><div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/opal/mca/hwloc/hwloc1110/hwloc/src/topology.c b/opal/mca/hwloc/hwloc1110/hwloc/src/topology.c</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 8d129d0..01be274 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/opal/mca/hwloc/hwloc1110/hwloc/src/topology.c</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/opal/mca/hwloc/hwloc1110/hwloc/src/topology.c</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -2599,7 +2599,7 @@<span style="font-variant-ligatures: no-common-ligatures; color: #000000" class=""> next_noncpubackend:</span></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &amp;&amp; strcmp(topology-&gt;backends-&gt;component-&gt;name, "xml")) {</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; char *value;</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; /* add a hwlocVersion */</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-&nbsp; &nbsp; hwloc_obj_add_info(topology-&gt;levels[0][0], "hwlocVersion", VERSION);</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+&nbsp; &nbsp; hwloc_obj_add_info(topology-&gt;levels[0][0], "hwlocVersion", HWLOC_VERSION);</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; /* add a ProcessName */</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; value = hwloc_progname(topology);</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; if (value) {</div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">I’m not sure if this is a prefixing issue when embedded, or a more general problem. Any thoughts?</div><div class="">Ralph</div><div class=""><br class=""></div></body></html>
