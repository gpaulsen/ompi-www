<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div>On 29-set-09, at 18:55, Fawzi Mohamed wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><blockquote type="cite"><blockquote type="cite">ok, I was thinking that maybe you did/would like to provide in the<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">future something akin to what opensolaris does with locality groups<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><a href="http://opensolaris.org/os/community/performance/mpo_overview.pdf">http://opensolaris.org/os/community/performance/mpo_overview.pdf</a><br></blockquote></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Yes, we intend to provide something similar.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><blockquote type="cite">In fact what I "need" (or at least I think I need ;) is just the next<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">neighbors, basically I go up the hierarchy, and look which new<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">neighbors I have, so some hierarchy like the lgroups is close to what<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">I need, and simpler to handle than the full graph.<br></blockquote></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">That's what future heuristics would build for you, yes.<br></blockquote><br>tha's great, I am really looking forward to it.<br></span></blockquote></div><br><div>So as summary, if I have understood correctly the current idea for the (future) structure of hwloc is:</div><div><br></div><div>1) a fully hierarchical representation of the machine/hardware where each level is a partition, and each level fully covers the previous one (from any node you go through all levels using father/childrens, father/child are just one level away from each other.</div><div>This is basically what is there now.</div><div><br></div><div>2) outside the hierarchy 1 (but built using its object, probably the NUMA nodes) there will be</div><div>2.1) maybe the full connection graph</div><div>2.2) a hierarchical view of it, like the lgroups, where the levels are not necessarily a partition, and that could also refer not to the sublevel, but directly to lower levels. Going up the hierarchy you get the next neighbors.</div><div><br></div><div>Separating 1 &amp; 2 has the advantage that stronger assumption can be done on 1, simplifying it.</div><div><br></div><div>ciao</div><div>Fawzi</div></body></html>
