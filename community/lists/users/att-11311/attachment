<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Verdana
}
--></style>
</head>
<body class='hmmessage'>
Thank you very very much Gus. Does this mean that OpenMPI does not copy the executable from the master node to the worker nodes?<br>If that's case, I will go ahead and NFS mount my working directory.<br><br>~Belaid.<br><br><br>&gt; Date: Tue, 1 Dec 2009 13:50:57 -0500<br>&gt; From: gus@ldeo.columbia.edu<br>&gt; To: users@open-mpi.org<br>&gt; Subject: Re: [OMPI users] Elementary question on openMPI application location when using PBS submission<br>&gt; <br>&gt; Hi Belaid MOA<br>&gt; <br>&gt; See this FAQ:<br>&gt; http://www.open-mpi.org/faq/?category=running#do-i-need-a-common-filesystem<br>&gt; http://www.open-mpi.org/faq/?category=building#where-to-install<br>&gt; http://www.open-mpi.org/faq/?category=tm#tm-obtain-host<br>&gt; <br>&gt; Your executable needs to be on a directory that is accessible<br>&gt; by all nodes in your node pool.<br>&gt; An easy way to achieve this is to put it in a directory that<br>&gt; is NFS mounted on all nodes, and launch your pbs script from there.<br>&gt; <br>&gt; A less convenient alternative, if no NFS directory is available,<br>&gt; is to copy the executable over to the nodes.<br>&gt; <br>&gt; I also find it easier to write a PBS script instead of putting<br>&gt; all the PBS directives in the command line.<br>&gt; In this case you can put the lines below in your PBS script,<br>&gt; to ensure all nodes will be on your work directory (cd $PBS_O_WORKDIR):<br>&gt; <br>&gt; ########<br>&gt; <br>&gt; #PBS ... (PBS directives)<br>&gt; ...<br>&gt; cd $PBS_O_WORKDIR<br>&gt; mpiexec -n ....<br>&gt; <br>&gt; ########<br>&gt; <br>&gt; IIRR, by default Torque/PBS puts you in your home directory on<br>&gt; the nodes, which may or may not be the location of your executable.<br>&gt; <br>&gt; I hope this helps,<br>&gt; Gus Correa<br>&gt; ---------------------------------------------------------------------<br>&gt; Gustavo Correa<br>&gt; Lamont-Doherty Earth Observatory - Columbia University<br>&gt; Palisades, NY, 10964-8000 - USA<br>&gt; ---------------------------------------------------------------------<br>&gt; <br>&gt; Belaid MOA wrote:<br>&gt; &gt; Hello everyone,<br>&gt; &gt;  I am new to this list and I have a very elementary question: suppose we <br>&gt; &gt; have three machines, HN (Head Node hosting the pbs server), WN1 (A <br>&gt; &gt; worker node) and WN (another worker node). The PBS nodefile has WN1 and <br>&gt; &gt; WN2 in it (DOES NOT HAVE HN).<br>&gt; &gt; My openMPI program (hello) and PBS script(my_script.sh) reside on the <br>&gt; &gt; HN. When I submit my PBS script using qsub -l nodes=2 my_script.sh, I <br>&gt; &gt; get the following error:<br>&gt; &gt; <br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; mpirun was unable to launch the specified application as it could not <br>&gt; &gt; find an executable:<br>&gt; &gt; <br>&gt; &gt; Executable: hello<br>&gt; &gt; Node: WN2<br>&gt; &gt; <br>&gt; &gt; while attempting to start process rank 0.<br>&gt; &gt; --------------------------------------------------------------------------<br>&gt; &gt; <br>&gt; &gt; How come my hello program is not copied automatically to the worker <br>&gt; &gt; nodes? This leads to my elementary question:<br>&gt; &gt; where the application should be when using a PBS submission?<br>&gt; &gt; <br>&gt; &gt; Note that when I run mpirun from HN with machinefile containing WN1 and <br>&gt; &gt; WN2, I get the right output. <br>&gt; &gt; <br>&gt; &gt; Any help on this is very appreciated.<br>&gt; &gt; <br>&gt; &gt; ~Belaid.<br>&gt; &gt; <br>&gt; &gt; <br>&gt; &gt; ------------------------------------------------------------------------<br>&gt; &gt; Windows Live: Keep your friends up to date with what you do online. <br>&gt; &gt; &lt;http://go.microsoft.com/?linkid=9691810&gt;<br>&gt; &gt; <br>&gt; &gt; <br>&gt; &gt; ------------------------------------------------------------------------<br>&gt; &gt; <br>&gt; &gt; _______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; users@open-mpi.org<br>&gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; users@open-mpi.org<br>&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br> 		 	   		  <br /><hr />Windows Live: Make it easier for your friends to see  <a href='http://go.microsoft.com/?linkid=9691811' target='_new'>what you’re up to on Facebook.</a></body>
</html>
