
<HTML><BODY><p>Hello!</p><p>What param can i tune to increase perfomance(scalability) for my app (all to all pattern with message size = constant/nnodes)?<br>I can read&nbsp;<a href="http://www.open-mpi.org/faq/?category=openfabrics#ib-small-message-rdma">this faq</a>&nbsp;for&nbsp;mpi, but is it correct for shmem?</p><p>I have 2 programm doing the same thing(with same input) each node send messages(message size = constant/nnodes) to random set of nodes (but the same set in prg1 and prg2):<br></p><ol><li>with mpi_isend, mpi_irecv and mpi_waitall</li><li>with shmem_put and shmem_barrier_all</li></ol>on 1 2 4 8 16 32 nodes thay have same perfomance(scalabilyty)<br><p>on 64 128 256 nodes shmem programm stop scaling but over 512 nodes shmem programm gets much better perfomance than mpi<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1prg &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2prg<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;perf unit &nbsp; &nbsp; perf unit &nbsp; &nbsp; &nbsp;<br>1 &nbsp; &nbsp; &nbsp; &nbsp; 30 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;30<br>2 &nbsp; &nbsp; &nbsp; &nbsp; 50 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;53<br>4 &nbsp; &nbsp; &nbsp; &nbsp; 75 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;85<br>8 &nbsp; &nbsp; &nbsp; &nbsp; 110 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;130<br>16 &nbsp; &nbsp; &nbsp; 180 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;200<br>32 &nbsp; &nbsp; &nbsp; 310 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;350<br>64 &nbsp; &nbsp; &nbsp; 500 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;400 (strange)<br>128 &nbsp; &nbsp; 830 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;400&nbsp;(strange)<br>256 &nbsp; &nbsp; 1350 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 600&nbsp;(strange)<br>512 &nbsp; &nbsp; 1770 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2350 (wow!)<br><br>In scalabel shmem(ompi 1.6.5?) I get the same scalability in this programms.<br></p></BODY></HTML>
