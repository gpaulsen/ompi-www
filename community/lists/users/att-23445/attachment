<div dir="ltr"><span style="font-family:arial,sans-serif;font-size:13px">I have a specific use case that I want to describe, and I&#39;m brand new to MPI. It&#39;s rather complex, so I want to be careful that I design it so that there are no race conditions.</span><div style="font-family:arial,sans-serif;font-size:13px">
<br></div><div style="font-family:arial,sans-serif;font-size:13px">Pool A is a buffer (of type 1) handle manager, that feeds buffer handles into thread set 1, and receives old handles from thread set 2. There is only one thread running pool A.</div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Thread set 1 is a set of N threads that fill up buffers of type 1 with regular data. It pushes full buffers to thread set 2.</div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Thread set 2 is a set of M threads that compress buffers of type 1 into data buffers of type 2. Once the buffer of type 1 has be used up, it is cleared and sent back to Pool A. It pulls fresh data buffers of type 2 from Pool B, and sends freshly filled compressed buffers to Pool C. </div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Pool C does something with the buffer, clears it and hands it to Pool B.</div><div style="font-family:arial,sans-serif;font-size:13px">
<br></div><div style="font-family:arial,sans-serif;font-size:13px">Can this be done safely using an implementation like what I see here: <a href="http://www.justsoftwaresolutions.co.uk/threading/implementing-a-thread-safe-queue-using-condition-variables.html" target="_blank">http://www.justsoftwaresolutions.co.uk/threading/implementing-a-thread-safe-queue-using-condition-variables.html</a></div>
<div style="font-family:arial,sans-serif;font-size:13px">?</div><div><pre><div style="font-family:arial,sans-serif;font-size:13px;white-space:normal"><pre style="white-space:pre-wrap">Note 1: -= denotes a 1-to-N connect and =- a N-to-1 connect</pre>
<pre style="white-space:pre-wrap">RR = Request reply relationship</pre></div><div><pre><font size="3"><span style="white-space:pre-wrap"><a href="http://imgur.com/6tWZglJ">http://imgur.com/6tWZglJ</a></span></font><font face="arial, sans-serif" size="3"><span style="white-space:pre-wrap"><br>
</span></font></pre></div></pre></div><div style="font-family:arial,sans-serif;font-size:13px">Questions: does MPI work with intel PIN tools? If so, then how can I apply it to this? (I need specific modules and some examples, the OpenMPI manual just appears to be a bunch of references with no textual guides...).</div>
</div>

