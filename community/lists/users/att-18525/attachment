Hi,<div><br></div><div>In running this minimal program (test.c)</div><div><br></div><div><div>#include &lt;stdlib.h&gt;</div><div>#include &lt;mpi.h&gt;</div><div><br></div><div>int main (int argc, char ** argv) {</div><div>
  MPI_Init(&amp;argc, &amp;argv);</div><div>  MPI_Finalize();</div><div><br></div><div>  exit(EXIT_FAILURE);</div><div>}</div></div><div><br></div><div>compiled and ran with the commands</div><div><br></div><div>mpicc test.c</div>
<div>mpirun -n 1 a.out</div><div><br></div><div>I get the output</div><div><br></div><div><div>--------------------------------------------------------------------------</div><div>mpirun noticed that the job aborted, but has no info as to the process</div>
<div>that caused that situation.</div><div>--------------------------------------------------------------------------</div></div><div><br></div><div>The return value of mpirun is 1 (presumably the value of EXIT_FAILURE) instead of the expected 0.</div>
<div>Citing the manual page of mpirun, &quot;mpirun returns 0 if all ranks started by mpirun exit after calling MPI_FINALIZE.&quot; which should be the case in the program.</div><div><br></div><div>If EXIT_FAILURE is changed to EXIT_SUCCESS there is no output and mpirun returns 0 as expected.</div>
<div><br></div><div>My OpenMPI version is 1.5.4, the code and output from ompi_info --all is attached.</div><div><br></div><div>If it is relevant my OS is Fedora 16 and the packages installed are openmpi.i686 and openmpi-devel.i686, the code is ran at a single node with a single Intel atom processor. I have also ensured that no calls to MPI_Init or MPI_Finalize have been optimized out by the compiler.</div>

