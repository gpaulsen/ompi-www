<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">The difficulty here is that you have bundled several errors again into a single message, making it hard to keep the conversation from getting terribly confused. I was trying to address the segfault errors on cleanup, which have nothing to do with the accept being rejected.<div><br></div><div>It looks like those are being caused by MCA params that are not properly registered, so I'll keep poking for those - I fixed one earlier, but don't know where some of these others are originating.</div><div><br></div><div>As for the accept error: it looks like your system is rejecting TCP connect requests for some reason, and so we are erroring out. You might check for firewalls, or see if there is something odd about the networking configuration. Setting -mca oob_base_verbose 20 might help generate some useful info.</div><div><br></div><div><br><div><div>On Sep 2, 2014, at 12:43 PM, Siegmar Gross &lt;<a href="mailto:Siegmar.Gross@informatik.hs-fulda.de">Siegmar.Gross@informatik.hs-fulda.de</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Hi Ralph,<br><br><blockquote type="cite">I don't see any line numbers on the errors I flagged - all I<br>see are the usual memory offsets in bytes, which is of little<br>help. I'm afraid I don't what what you'd have to do under SunOS<br>to get line numbers, but I can't do much without it<br></blockquote><br>I used "truss" to follow function calls. The error message is in<br>line 2566 of the attached file. Is the output helpful? Which<br>commands would you use in gdb for Linux to track down the error,<br>if you would try it on your machine?<br><br><br>Kind regards<br><br>Siegmar<br><br><br><br><br><blockquote type="cite">On Sep 2, 2014, at 10:26 AM, Siegmar Gross<span class="Apple-converted-space">&nbsp;</span><br></blockquote>&lt;<a href="mailto:Siegmar.Gross@informatik.hs-fulda.de">Siegmar.Gross@informatik.hs-fulda.de</a>&gt; wrote:<br><blockquote type="cite"><br><blockquote type="cite">Hi Ralph,<br><br><blockquote type="cite">Could you please configure this OMPI install with --enable-debug<br>so that gdb will provide line numbers where the error is occurring?<br>Otherwise, I'm having a hard time chasing this problem down.<br></blockquote><br>I always configure with "--enable-debug" and I used the following<br>command. I my original email I have had a backtrace with line<br>numbers for both my C and Java problems.<br><br>tyr openmpi-1.9a1r32657-SunOS.sparc.64_cc 119 head config.log<br>This file contains any messages produced by compilers while<br>running configure, to aid debugging if configure makes a mistake.<br><br>It was created by Open MPI configure 1.9a1, which was<br>generated by GNU Autoconf 2.69. &nbsp;Invocation command line was<br><br>$ ../openmpi-1.9a1r32657/configure --prefix=/usr/local/openmpi-1.9_64_cc<span class="Apple-converted-space">&nbsp;</span><br>--libdir=/usr/local/openmpi-1.9_64_cc/lib64<span class="Apple-converted-space">&nbsp;</span><br>--with-jdk-bindir=/usr/local/jdk1.8.0/bin<span class="Apple-converted-space">&nbsp;</span><br>--with-jdk-headers=/usr/local/jdk1.8.0/include JAVA_HOME=/usr/local/jdk1.8.0<span class="Apple-converted-space">&nbsp;</span><br>LDFLAGS=-m64 CC=cc CXX=CC FC=f95 CFLAGS=-m64 CXXFLAGS=-m64 -library=stlport4<span class="Apple-converted-space">&nbsp;</span><br>FCFLAGS=-m64 CPP=cpp CXXCPP=cpp CPPFLAGS= CXXCPPFLAGS= --enable-mpi-cxx<span class="Apple-converted-space">&nbsp;</span><br>--enable-cxx-exceptions --enable-mpi-java --enable-heterogeneous<span class="Apple-converted-space">&nbsp;</span><br>--enable-mpi-thread-multiple --with-threads=posix --with-hwloc=internal<span class="Apple-converted-space">&nbsp;</span><br>--without-verbs --with-wrapper-cflags=-m64 --enable-debug<br><br><br>What can I do to provide line numbers for the "mca_oob_tcp_accept:<br>accept() failed" error?<br><br>Kind regards<br><br>Siegmar<br><br><br><blockquote type="cite">On Sep 2, 2014, at 6:01 AM, Siegmar Gross<span class="Apple-converted-space">&nbsp;</span><br></blockquote>&lt;<a href="mailto:Siegmar.Gross@informatik.hs-fulda.de">Siegmar.Gross@informatik.hs-fulda.de</a>&gt; wrote:<br><blockquote type="cite"><br><blockquote type="cite">C problem:<br>==========<br><br>tyr small_prog 111 mpiexec -np 1 --host linpc0 init_finalize<br>[<a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a>:00593] mca_oob_tcp_accept: accept() failed:<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>Error 0 (11).<br><blockquote type="cite"><blockquote type="cite">Hello!<br><br>tyr small_prog 112 mpiexec -np 1 --host sunpc0 init_finalize<br>[<a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a>:00597] mca_oob_tcp_accept: accept() failed:<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>Error 0 (11).<br><blockquote type="cite"><blockquote type="cite">Hello!<br><br>tyr small_prog 113 mpiexec -np 1 --host tyr init_finalize<br>[tyr:00606] *** Process received signal ***<br>[tyr:00606] Signal: Bus Error (10)<br>[tyr:00606] Signal code: Invalid address alignment (1)<br>[tyr:00606] Failing at address: ffffffff7fffd7fc<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_back<br><blockquote type="cite"><blockquote type="cite">trace_print+0x1c<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:0x1a4960<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">/lib/sparcv9/libc.so.1:0xd8b98<br>/lib/sparcv9/libc.so.1:0xcc70c<br>/lib/sparcv9/libc.so.1:0xcc918<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack_int64+0xf4 [ Signal<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">2096416616 (?)]<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack_buffer+0x168<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack+0x24c<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/openmpi/mca_pmix_native.so:0x1<br><blockquote type="cite"><blockquote type="cite">4e10<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libmpi.so.0.0.0:ompi_mpi_init+<br><blockquote type="cite"><blockquote type="cite">0xd18<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libmpi.so.0.0.0:MPI_Init+0x26c<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">/home/fd1026/SunOS/sparc/bin/init_finalize:main+0x10<br>/home/fd1026/SunOS/sparc/bin/init_finalize:_start+0x12c<br>[tyr:00606] *** End of error message ***<br>--------------------------------------------------------------------------<br>mpiexec noticed that process rank 0 with PID 606 on node tyr exited on<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>signal 10 (Bus Error).<br><blockquote type="cite"><blockquote type="cite">--------------------------------------------------------------------------<br>tyr small_prog 114<span class="Apple-converted-space">&nbsp;</span><br><br><br><br>gdb shows the following backtrace.<br><br>tyr small_prog 115 /usr/local/gdb-7.6.1_64_gcc/bin/gdb<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>/usr/local/openmpi-1.9_64_cc/bin/mpiexec<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">GNU gdb (GDB) 7.6.1<br>Copyright (C) 2013 Free Software Foundation, Inc.<br>License GPLv3+: GNU GPL version 3 or later<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>&lt;<a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>&gt;<br><blockquote type="cite"><blockquote type="cite">This is free software: you are free to change and redistribute it.<br>There is NO WARRANTY, to the extent permitted by law. &nbsp;Type "show copying"<br>and "show warranty" for details.<br>This GDB was configured as "sparc-sun-solaris2.10".<br>For bug reporting instructions, please see:<br>&lt;<a href="http://www.gnu.org/software/gdb/bugs/">http://www.gnu.org/software/gdb/bugs/</a>&gt;...<br>Reading symbols from<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/bin/orterun...done.<br><blockquote type="cite"><blockquote type="cite">(gdb) run -np 1 --host tyr init_finalize &nbsp;&nbsp;<br>Starting program: /usr/local/openmpi-1.9_64_cc/bin/mpiexec -np 1 --host<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote></blockquote></blockquote>tyr<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">init_finalize<br><blockquote type="cite"><blockquote type="cite">[Thread debugging using libthread_db enabled]<br>[New Thread 1 (LWP 1)]<br>[New LWP &nbsp;&nbsp;&nbsp;2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>[tyr:00628] *** Process received signal ***<br>[tyr:00628] Signal: Bus Error (10)<br>[tyr:00628] Signal code: Invalid address alignment (1)<br>[tyr:00628] Failing at address: ffffffff7fffd73c<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_back<br><blockquote type="cite"><blockquote type="cite">trace_print+0x1c<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:0x1a4960<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">/lib/sparcv9/libc.so.1:0xd8b98<br>/lib/sparcv9/libc.so.1:0xcc70c<br>/lib/sparcv9/libc.so.1:0xcc918<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack_int64+0xf4 [ Signal<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">2096416616 (?)]<br><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack_buffer+0x168<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libopen-pal.so.0.0.0:opal_dss_<br><blockquote type="cite"><blockquote type="cite">unpack+0x24c<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/openmpi/mca_pmix_native.so:0x1<br><blockquote type="cite"><blockquote type="cite">4e10<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libmpi.so.0.0.0:ompi_mpi_init+<br><blockquote type="cite"><blockquote type="cite">0xd18<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><br></blockquote></blockquote>/export2/prog/SunOS_sparc/openmpi-1.9_64_cc/lib64/libmpi.so.0.0.0:MPI_Init+0x26c<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">/home/fd1026/SunOS/sparc/bin/init_finalize:main+0x10<br>/home/fd1026/SunOS/sparc/bin/init_finalize:_start+0x12c<br>[tyr:00628] *** End of error message ***<br>--------------------------------------------------------------------------<br>mpiexec noticed that process rank 0 with PID 628 on node tyr exited on<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>signal 10 (Bus Error).<br><blockquote type="cite"><blockquote type="cite">--------------------------------------------------------------------------<br>[<br></blockquote><br></blockquote><br></blockquote><br><br></blockquote><span>&lt;accept_failed.truss.tar.gz&gt;</span></div></blockquote></div><br></div></body></html>
