<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">It seems to be working fine for me:<div><br></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">[rhc@bend001 tcp]$ mpirun -np 2 -host bend001 -report-bindings -mca rmaps_lama_bind 1c -mca rmaps lama hostname</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">bend001</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">[bend001:17005] MCW rank 1 bound to socket 0[core 1[hwt 0-1]]: [../BB/../../../..][../../../../../..]</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">[bend001:17005] MCW rank 0 bound to socket 0[core 0[hwt 0-1]]: [BB/../../../../..][../../../../../..]</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">bend001</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">[rhc@bend001 tcp]$&nbsp;</div><div><br></div><div>(I also checked the internals using "-mca rmaps_base_verbose 10") so it could be your hier inversion causing problems again. Or it could be that you are hitting a connection issue we are seeing in some scenarios in the OOB subsystem - though if you are able to run using a non-lama mapper, that would seem unlikely.</div><div><br></div><div><br></div><div><div><div>On Dec 20, 2013, at 8:09 PM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><br><br>Hi Ralph,<br><br>Thank you very much. I tried many things such as:<br><br>mpirun -np 2 -host node05 -report-bindings -mca rmaps lama -mca<br>rmaps_lama_bind 1c myprog<br><br>But every try failed. At least they were accepted by openmpi-1.7.3 as far<br>as I remember.<br>Anyway, please check it when you have a time, because using lama comes from<br>my curiosity.<br><br>Regards,<br>Tetsuya Mishima<br><br><br><blockquote type="cite">I'll try to take a look at it - my expectation is that lama might get<br></blockquote>stuck because you didn't tell it a pattern to map, and I doubt that code<br>path has seen much testing.<br><blockquote type="cite"><br><br>On Dec 20, 2013, at 5:52 PM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> wrote:<br><br><blockquote type="cite"><br><br>Hi Ralph, I'm glad to hear that, thanks.<br><br>By the way, yesterday I tried to check how lama in 1.7.4rc treat numa<br></blockquote></blockquote>node.<br><blockquote type="cite"><blockquote type="cite"><br>Then, even wiht this simple command line, it freezed without any<br></blockquote></blockquote>massage:<br><blockquote type="cite"><blockquote type="cite"><br> mpirun -np 2 -host node05 -mca rmaps lama myprog<br><br>Could you check what happened?<br><br>Is it better to open new thread or continue this thread?<br><br>Regards,<br>Tetsuya Mishima<br><br><br><blockquote type="cite">I'll make it work so that NUMA can be either above or below socket<br><br>On Dec 20, 2013, at 2:57 AM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> wrote:<br><br><blockquote type="cite"><br><br>Hi Brice,<br><br>Thank you for your comment. I understand what you mean.<br><br>My opinion was made just considering easy way to adjust the code for<br>inversion of hierarchy in object tree.<br><br>Tetsuya Mishima<br><br><br><blockquote type="cite">I don't think there's any such difference.<br>Also, all these NUMA architectures are reported the same by hwloc,<br></blockquote></blockquote></blockquote></blockquote></blockquote>and<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">therefore used the same in Open MPI.<br><br>And yes, L3 and NUMA are topologically-identical on AMD Magny-Cours<br></blockquote></blockquote></blockquote>(and<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">most recent AMD and Intel platforms).<br><br>Brice<br><br><br><br>Le 20/12/2013 11:33, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> a écrit :<br><blockquote type="cite"><br>Hi Ralph,<br><br>The numa-node in AMD Mangy-Cours/Interlagos is so called cc(cache<br>coherent)NUMA,<br>which seems to be a little bit different from the traditional numa<br></blockquote></blockquote>defined<br><blockquote type="cite"><blockquote type="cite">in openmpi.<br><br>I notice that ccNUMA object is almost same as L3cache object.<br>So "-bind-to l3cache" or "-map-by l3cache" is valid for what I want<br></blockquote></blockquote></blockquote></blockquote>to<br><blockquote type="cite"><blockquote type="cite">do.<br><blockquote type="cite"><blockquote type="cite">Therefore, "do not touch it" is one of the solution, I think ...<br><br>Anyway, mixing up these two types of numa is the problem.<br><br>Regards,<br>Tetsuya Mishima<br><br><blockquote type="cite">I can wait it'll be fixed in 1.7.5 or later, because putting<br></blockquote></blockquote></blockquote></blockquote></blockquote>"-bind-to<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">numa"<br>and "-map-by numa" at the same time works as a workaround.<br><br>Thanks,<br>Tetsuya Mishima<br><br><blockquote type="cite">Yeah, it will impact everything that uses hwloc topology maps, I<br></blockquote></blockquote></blockquote></blockquote>fear.<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br>One side note: you'll need to add --hetero-nodes to your cmd<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>line.<br><blockquote type="cite"><blockquote type="cite">If<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">we<br><blockquote type="cite">don't see that, we assume that all the node topologies are<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>identical<br><blockquote type="cite"><blockquote type="cite">-<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">which clearly isn't true here.<br><blockquote type="cite">I'll try to resolve the hier inversion over the holiday - won't<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>be<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">for<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">1.7.4, but hopefully for 1.7.5<br><blockquote type="cite">Thanks<br>Ralph<br><br>On Dec 18, 2013, at 9:44 PM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> wrote:<br><br><blockquote type="cite"><br>I think it's normal for AMD opteron having 8/16 cores such as<br>magny cours or interlagos. Because it usually has 2 numa nodes<br>in a cpu(socket), numa-node can not include a socket. This type<br>of hierarchy would be natural.<br><br>(node03 is Dell PowerEdge R815 and maybe quite common, I guess)<br><br>By the way, I think this inversion should affect rmaps_lama<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>mapping.<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br>Tetsuya Mishima<br><br><blockquote type="cite">Ick - yeah, that would be a problem. I haven't seen that type<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>of<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">hierarchical inversion before - is node03 a different type of<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>chip?<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Might take awhile for me to adjust the code to handle hier<br></blockquote>inversion... :-(<br><blockquote type="cite">On Dec 18, 2013, at 9:05 PM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a> wrote:<br><br><blockquote type="cite"><br>Hi Ralph,<br><br>I found the reason. I attached the main part of output with 32<br>core node(node03) and 8 core node(node05) at the bottom.<br><br>From this information, socket of node03 includes numa-node.<br>On the other hand, numa-node of node05 includes socket.<br>The direction of object tree is opposite.<br><br>Since "-map-by socket" may be assumed as default,<br>for node05, "-bind-to numa and -map-by socket" means<br>upward search. For node03, this should be downward.<br><br>I guess that openmpi-1.7.4rc1 will always assume numa-node<br>includes socket. Is it right? Then, upward search is assumed<br>in orte_rmaps_base_compute_bindings even for node03 when I<br>put "-bind-to numa and -map-by socket" option.<br><br>[node03.cluster:15508] [[38286,0],0] rmaps:base:compute_usage<br>[node03.cluster:15508] mca:rmaps: compute bindings for job<br></blockquote></blockquote></blockquote></blockquote></blockquote>[38286,1]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">with<br><blockquote type="cite"><blockquote type="cite">policy NUMA<br>[node03.cluster:15508] mca:rmaps: bind upwards for job<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[38286,1]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">with<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">bindings NUMA<br>[node03.cluster:15508] [[38286,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Machine<br><br>That's the reason of this trouble. Therefore, adding "-map-by<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>core"<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">works.<br><blockquote type="cite"><blockquote type="cite">(mapping pattern seems to be strange ...)<br><br>[mishima@node03 demos]$ mpirun -np 8 -bind-to numa -map-by<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>core<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">-report-bindings myprog<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Cache<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] [[38679,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">NUMANode<br>[node03.cluster:15885] MCW rank 2 bound to socket 0[core 0[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 1[hwt 0]], socket 0[core 2[hwt 0]], so<br>cket 0[core 3[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[B/B/B/B/./././.][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 3 bound to socket 0[core 0[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 1[hwt 0]], socket 0[core 2[hwt 0]], so<br>cket 0[core 3[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[B/B/B/B/./././.][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 4 bound to socket 0[core 4[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 5[hwt 0]], socket 0[core 6[hwt 0]], so<br>cket 0[core 7[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[././././B/B/B/B][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 5 bound to socket 0[core 4[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 5[hwt 0]], socket 0[core 6[hwt 0]], so<br>cket 0[core 7[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[././././B/B/B/B][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 6 bound to socket 0[core 4[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 5[hwt 0]], socket 0[core 6[hwt 0]], so<br>cket 0[core 7[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[././././B/B/B/B][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 7 bound to socket 0[core 4[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 5[hwt 0]], socket 0[core 6[hwt 0]], so<br>cket 0[core 7[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[././././B/B/B/B][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 0 bound to socket 0[core 0[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 1[hwt 0]], socket 0[core 2[hwt 0]], so<br>cket 0[core 3[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[B/B/B/B/./././.][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[node03.cluster:15885] MCW rank 1 bound to socket 0[core 0[hwt<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>0]],<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">socket<br><blockquote type="cite"><blockquote type="cite">0[core 1[hwt 0]], socket 0[core 2[hwt 0]], so<br>cket 0[core 3[hwt 0]]:<br><br></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[B/B/B/B/./././.][./././././././.][./././././././.][./././././././.]<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Hello world from process 6 of 8<br>Hello world from process 5 of 8<br>Hello world from process 0 of 8<br>Hello world from process 7 of 8<br>Hello world from process 3 of 8<br>Hello world from process 4 of 8<br>Hello world from process 2 of 8<br>Hello world from process 1 of 8<br><br>Regards,<br>Tetsuya Mishima<br><br>[node03.cluster:15508] Type: Machine Number of child objects:<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>4<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;&nbsp;Name=NULL<br> &nbsp;&nbsp;&nbsp;total=132358820KB<br> &nbsp;&nbsp;&nbsp;Backend=Linux<br> &nbsp;&nbsp;&nbsp;OSName=Linux<br> &nbsp;&nbsp;&nbsp;OSRelease=2.6.18-308.16.1.el5<br> &nbsp;&nbsp;&nbsp;OSVersion="#1 SMP Tue Oct 2 22:01:43 EDT 2012"<br> &nbsp;&nbsp;&nbsp;Architecture=x86_64<br> &nbsp;&nbsp;&nbsp;Cpuset: &nbsp;0xffffffff<br> &nbsp;&nbsp;&nbsp;Online: &nbsp;0xffffffff<br> &nbsp;&nbsp;&nbsp;Allowed: 0xffffffff<br> &nbsp;&nbsp;&nbsp;Bind CPU proc: &nbsp;&nbsp;TRUE<br> &nbsp;&nbsp;&nbsp;Bind CPU thread: TRUE<br> &nbsp;&nbsp;&nbsp;Bind MEM proc: &nbsp;&nbsp;FALSE<br> &nbsp;&nbsp;&nbsp;Bind MEM thread: TRUE<br> &nbsp;&nbsp;&nbsp;Type: Socket Number of child objects: 2<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name=NULL<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total=33071780KB<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CPUModel="AMD Opteron(tm) Processor 6136"<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cpuset: &nbsp;0x000000ff<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Online: &nbsp;0x000000ff<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allowed: 0x000000ff<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type: NUMANode Number of child objects: 1<br><br><br>[node05.cluster:21750] Type: Machine Number of child objects:<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>2<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;&nbsp;Name=NULL<br> &nbsp;&nbsp;&nbsp;total=33080072KB<br> &nbsp;&nbsp;&nbsp;Backend=Linux<br> &nbsp;&nbsp;&nbsp;OSName=Linux<br> &nbsp;&nbsp;&nbsp;OSRelease=2.6.18-308.16.1.el5<br> &nbsp;&nbsp;&nbsp;OSVersion="#1 SMP Tue Oct 2 22:01:43 EDT 2012"<br> &nbsp;&nbsp;&nbsp;Architecture=x86_64<br> &nbsp;&nbsp;&nbsp;Cpuset: &nbsp;0x000000ff<br> &nbsp;&nbsp;&nbsp;Online: &nbsp;0x000000ff<br> &nbsp;&nbsp;&nbsp;Allowed: 0x000000ff<br> &nbsp;&nbsp;&nbsp;Bind CPU proc: &nbsp;&nbsp;TRUE<br> &nbsp;&nbsp;&nbsp;Bind CPU thread: TRUE<br> &nbsp;&nbsp;&nbsp;Bind MEM proc: &nbsp;&nbsp;FALSE<br> &nbsp;&nbsp;&nbsp;Bind MEM thread: TRUE<br> &nbsp;&nbsp;&nbsp;Type: NUMANode Number of child objects: 1<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name=NULL<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local=16532232KB<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total=16532232KB<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cpuset: &nbsp;0x0000000f<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Online: &nbsp;0x0000000f<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allowed: 0x0000000f<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type: Socket Number of child objects: 1<br><br><br><blockquote type="cite">Hmm...try adding "-mca rmaps_base_verbose 10 -mca<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>ess_base_verbose<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">5"<br><blockquote type="cite"><blockquote type="cite">to<br><blockquote type="cite"><blockquote type="cite">your cmd line and let's see what it thinks it found.<br><blockquote type="cite"><br>On Dec 18, 2013, at 6:55 PM, <a href="mailto:tmishima@jcity.maeda.co.jp">tmishima@jcity.maeda.co.jp</a><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>wrote:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br><blockquote type="cite"><br>Hi, I report one more problem with openmpi-1.7.4rc1,<br>which is more serious.<br><br>For our 32 core nodes(AMD magny cours based) which has<br>8 numa-nodes, "-bind-to numa" does not work. Without<br>this option, it works. For your infomation, at the<br>bottom of this mail, I added the lstopo information<br>of the node.<br><br>Regards,<br>Tetsuya Mishima<br><br>[mishima@manage ~]$ qsub -I -l nodes=1:ppn=32<br>qsub: waiting for job 8352.manage.cluster to start<br>qsub: job 8352.manage.cluster ready<br><br>[mishima@node03 demos]$ mpirun -np 8 -report-bindings<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>-bind-to<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">numa<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">myprog<br><blockquote type="cite"><blockquote type="cite">[node03.cluster:15316] [[37582,0],0] bind:upward target<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>NUMANode<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">type<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Machine<br><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote><br></blockquote></blockquote><br></blockquote></blockquote>--------------------------------------------------------------------------<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">A request was made to bind to NUMA, but an appropriate<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>target<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">could<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">not<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">be found on node node03.<br><br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><br></blockquote></blockquote><br></blockquote></blockquote><br></blockquote></blockquote>--------------------------------------------------------------------------<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[mishima@node03 ~]$ cd ~/Desktop/openmpi-1.7/demos/<br>[mishima@node03 demos]$ mpirun -np 8 -report-bindings myprog<br>[node03.cluster:15282] MCW rank 2 bound to socket 1[core 8<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][B/././././././.][./././././././.][<br>./././././././.]&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; [node03.cluster:15282] MCW rank<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>3 bound to socket 1[core 9[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][./B/./././././.][./././././././.][<br>./././././././.]<br>[node03.cluster:15282] MCW rank 4 bound to socket 2[core 16<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][./././././././.][B/././././././.]<br>[./././././././.]<br>[node03.cluster:15282] MCW rank 5 bound to socket 2[core 17<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][./././././././.][./B/./././././.]<br>[./././././././.]<br>[node03.cluster:15282] MCW rank 6 bound to socket 3[core 24<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][./././././././.][./././././././.]<br>[B/././././././.]<br>[node03.cluster:15282] MCW rank 7 bound to socket 3[core 25<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./././././././.][./././././././.][./././././././.]<br>[./B/./././././.]<br>[node03.cluster:15282] MCW rank 0 bound to socket 0[core 0<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[B/././././././.][./././././././.][./././././././.][<br>./././././././.]<br>[node03.cluster:15282] MCW rank 1 bound to socket 0[core 1<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>[hwt<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">0]]:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">[./B/./././././.][./././././././.][./././././././.][<br>./././././././.]<br>Hello world from process 2 of 8<br>Hello world from process 5 of 8<br>Hello world from process 4 of 8<br>Hello world from process 3 of 8&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Hello world from<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>process 1 of 8<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Hello world from process 7 of 8<br>Hello world from process 6 of 8<br>Hello world from process 0 of 8<br>[mishima@node03 demos]$ ~/opt/hwloc/bin/lstopo-no-graphics<br>Machine (126GB)<br>Socket L#0 (32GB)<br>NUMANode L#0 (P#0 16GB) + L3 L#0 (5118KB)<br> L2 L#0 (512KB) + L1d L#0 (64KB) + L1i L#0 (64KB) + Core L#0<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#0<br><blockquote type="cite"><blockquote type="cite">(P#0)<br> L2 L#1 (512KB) + L1d L#1 (64KB) + L1i L#1 (64KB) + Core L#1<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#1<br><blockquote type="cite"><blockquote type="cite">(P#1)<br> L2 L#2 (512KB) + L1d L#2 (64KB) + L1i L#2 (64KB) + Core L#2<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#2<br><blockquote type="cite"><blockquote type="cite">(P#2)<br> L2 L#3 (512KB) + L1d L#3 (64KB) + L1i L#3 (64KB) + Core L#3<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#3<br><blockquote type="cite"><blockquote type="cite">(P#3)<br>NUMANode L#1 (P#1 16GB) + L3 L#1 (5118KB)<br> L2 L#4 (512KB) + L1d L#4 (64KB) + L1i L#4 (64KB) + Core L#4<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#4<br><blockquote type="cite"><blockquote type="cite">(P#4)<br> L2 L#5 (512KB) + L1d L#5 (64KB) + L1i L#5 (64KB) + Core L#5<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#5<br><blockquote type="cite"><blockquote type="cite">(P#5)<br> L2 L#6 (512KB) + L1d L#6 (64KB) + L1i L#6 (64KB) + Core L#6<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#6<br><blockquote type="cite"><blockquote type="cite">(P#6)<br> L2 L#7 (512KB) + L1d L#7 (64KB) + L1i L#7 (64KB) + Core L#7<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU&gt;&gt;&gt;&gt;&gt;&gt; L#7<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">(P#7)<br>Socket L#1 (32GB)<br>NUMANode L#2 (P#6 16GB) + L3 L#2 (5118KB)<br> L2 L#8 (512KB) + L1d L#8 (64KB) + L1i L#8 (64KB) + Core L#8<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#8<br><blockquote type="cite"><blockquote type="cite">(P#8)<br> L2 L#9 (512KB) + L1d L#9 (64KB) + L1i L#9 (64KB) + Core L#9<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#9<br><blockquote type="cite"><blockquote type="cite">(P#9)<br> L2 L#10 (512KB) + L1d L#10 (64KB) + L1i L#10 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#10<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#10 (P#10)<br> L2 L#11 (512KB) + L1d L#11 (64KB) + L1i L#11 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#11<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#11 (P#11)<br>NUMANode L#3 (P#7 16GB) + L3 L#3 (5118KB)<br> L2 L#12 (512KB) + L1d L#12 (64KB) + L1i L#12 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#12<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#12 (P#12)<br> L2 L#13 (512KB) + L1d L#13 (64KB) + L1i L#13 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#13<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#13 (P#13)<br> L2 L#14 (512KB) + L1d L#14 (64KB) + L1i L#14 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#14<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#14 (P#14)<br> L2 L#15 (512KB) + L1d L#15 (64KB) + L1i L#15 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#15<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#15 (P#15)<br>Socket L#2 (32GB)<br>NUMANode L#4 (P#4 16GB) + L3 L#4 (5118KB)<br> L2 L#16 (512KB) + L1d L#16 (64KB) + L1i L#16 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#16<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#16 (P#16)<br> L2 L#17 (512KB) + L1d L#17 (64KB) + L1i L#17 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#17<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#17 (P#17)&gt; &gt;&gt;&gt;&gt;&gt; &nbsp;&nbsp;&nbsp;L2 L#18 (512KB) + L1d L#18 (64KB) +<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L1i<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">L#18 (64KB) + Core L#18<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#18 (P#18)<br> L2 L#19 (512KB) + L1d L#19 (64KB) + L1i L#19 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#19<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#19 (P#19)<br>NUMANode L#5 (P#5 16GB) + L3 L#5 (5118KB)<br> L2 L#20 (512KB) + L1d L#20 (64KB) + L1i L#20 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#20<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#20 (P#20)<br> L2 L#21 (512KB) + L1d L#21 (64KB) + L1i L#21 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#21<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#21 (P#21)<br> L2 L#22 (512KB) + L1d L#22 (64KB) + L1i L#22 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#22<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#22 (P#22)<br> L2 L#23 (512KB) + L1d L#23 (64KB) + L1i L#23 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#23<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#23 (P#23)<br>Socket L#3 (32GB)<br>NUMANode L#6 (P#2 16GB) + L3 L#6 (5118KB)<br> L2 L#24 (512KB) + L1d L#24 (64KB) + L1i L#24 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#24<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#24 (P#24)&gt;&gt;&gt;&gt;&gt; &nbsp;&nbsp;&nbsp;L2 L#25 (512KB) + L1d L#25 (64KB) + L1i<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#25<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">(64KB) + Core L#25 +<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#25 (P#25)<br> L2 L#26 (512KB) + L1d L#26 (64KB) + L1i L#26 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#26<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#26 (P#26)<br> L2 L#27 (512KB) + L1d L#27 (64KB) + L1i L#27 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#27<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#27 (P#27)<br>NUMANode L#7 (P#3 16GB) + L3 L#7 (5118KB)<br> L2 L#28 (512KB) + L1d L#28 (64KB) + L1i L#28 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#28<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#28 (P#28)<br> L2 L#29 (512KB) + L1d L#29 (64KB) + L1i L#29 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#29<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#29 (P#29)<br> L2 L#30 (512KB) + L1d L#30 (64KB) + L1i L#30 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#30<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#30 (P#30)<br> L2 L#31 (512KB) + L1d L#31 (64KB) + L1i L#31 (64KB) + Core<br></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>L#31<br><blockquote type="cite">+<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">PU<br><blockquote type="cite"><blockquote type="cite">L#31 (P#31)<br>HostBridge L#0<br>PCIBridge<br> PCI 14e4:1639<br> &nbsp;&nbsp;Net L#0 "eth0"<br> PCI 14e4:1639<br> &nbsp;&nbsp;Net L#1 "eth1"<br>PCIBridge<br> PCI 14e4:1639<br> &nbsp;&nbsp;Net L#2 "eth2"<br> PCI 14e4:1639<br> &nbsp;&nbsp;Net L#3 "eth3"<br>PCIBridge<br> PCIBridge<br> &nbsp;&nbsp;PCIBridge<br> &nbsp;&nbsp;&nbsp;&nbsp;PCI 1000:0072<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block L#4 "sdb"<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block L#5 "sda"<br>PCI 1002:4390<br> Block L#6 "sr0"<br>PCIBridge<br> PCI 102b:0532<br>HostBridge L#7<br>PCIBridge<br> PCI 15b3:6274<br> &nbsp;&nbsp;Net L#7 "ib0"<br> &nbsp;&nbsp;OpenFabrics L#8 "mthca0"<br><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a>&gt;&gt;<br></blockquote></blockquote></blockquote><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br><blockquote type="cite"><blockquote type="cite">_______________________________________________<br>users mailing list<br>users@open-mpi.org<br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br>users@open-mpi.org<br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br>users@open-mpi.org<br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote></div><br></div></body></html>
