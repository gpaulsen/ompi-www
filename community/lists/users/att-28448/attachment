<div dir="ltr"><span style="font-size:12.8px">I have a question about the standards compliance of OpenMPI.  Is the following program valid according to the MPI standard?</span><div style="font-size:12.8px"><br></div><div style="font-size:12.8px"><div>#include &lt;stdio.h&gt;</div><div>#include &lt;mpi.h&gt;</div><div><br></div><div>int main(int argc, char **argv)</div><div>{</div><div>  int rank;</div><div>  double in[2], out[2];</div><div><br></div><div>  MPI_Init(&amp;argc, &amp;argv);</div><div>  MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);</div><div><br></div><div>  in[1] = in[0] = (double) rank;</div><div><br></div><div>  MPI_Reduce(in, out, 1, MPI_2DOUBLE_PRECISION, MPI_MAXLOC, 0, MPI_COMM_WORLD);</div><div><br></div><div>  if (rank == 0) printf(&quot;out = %f %f\n&quot;, out[0], out[1]);</div><div><br></div><div>  MPI_Finalize();</div><div><br></div><div>  return 0;</div><div>}</div></div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Specifically, I am wondering if MPI_2DOUBLE_PRECISION can be used with MPI_MAXLOC (or MPI_MINLOC) in a C program.  MPI_2DOUBLE_PRECISION is not included in the list of datatypes for reduction functions in C in Appendix A.1 of the MPI 3.1 standard, although it is included in the list of reduction functions for Fortran.  What exactly does that mean?<br></div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">The program above runs with OpenMPI 1.10.2 and gives the output one would expect for an equivalent program written in Fortran.  Can I rely on this being portable to other MPI implementations?</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Thanks,</div><div style="font-size:12.8px">Brian</div></div>

