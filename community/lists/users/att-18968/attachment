<html><body><div style="color:#000; background-color:#fff; font-family:times new roman, new york, times, serif;font-size:12pt"><div id="yiv1010763795"><div><div style="color:#000;background-color:#fff;font-family:times new roman, new york, times, serif;font-size:12pt;"><div id="yiv1010763795yui_3_2_0_16_133359949242740"><span>Hello !&nbsp; </span><br><span id="result_box" class="short_text" lang="en"><span class="">I had some</span>&nbsp;<span class="hps"></span> <span class="hps">problems</span></span> . <br>My environment <br>
&nbsp;&nbsp; BLCR= 0.8.4&nbsp;&nbsp; , openMPI= 1.5.5&nbsp; , OS= ubuntu 11.04<br>
&nbsp;&nbsp; I have 2 Node : cuda05(Master ,it have NFS&nbsp; file system)&nbsp; , cuda07(slave ,mount Master)<br><br>
&nbsp;&nbsp; I had also set&nbsp; ~/.openmpi/mca-params.conf-&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; crs_base_snapshot_dir=/root/kidd_openMPI/Tmp<br>
&nbsp;&nbsp;&nbsp;&nbsp; snapc_base_global_snapshot_dir=/root/kidd_openMPI/checkpoints<br>
<br>
&nbsp; my configure format=./configure --prefix=/root/kidd_openMPI --with-ft=cr --enable-ft-thread&nbsp; --with-blcr=/usr/local/BLCR&nbsp; <br>
--with-blcr-libdir=/usr/local/BLCR/lib --enable-mpirun-prefix-by-default
 --enable-static --enable-shared&nbsp; --enable-opal-multi-threads;<br><br>problem 1: ompi-restart&nbsp; on multiple Node<br>&nbsp;&nbsp;&nbsp;&nbsp; command 01: mpirun -hostfile&nbsp; Hosts -am ft-enable-cr&nbsp; -x&nbsp; LD_LIBRARY_PATH&nbsp; -np 2&nbsp; ./TEST &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; command 02: ompi-restart&nbsp; ompi_global_snapshot_2892.ckpt<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; I can checkpoint 2 process on multiples nodes ,but when I restart ,it can only restart on Master-Node.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp; &nbsp;&nbsp; command 03 : ompi-restart&nbsp; -hostfile Hosts ompi_global_snapshot_2892.ckpt<br>&nbsp; &nbsp; -&gt;Error Message . &nbsp; I make sure BLCR&nbsp; is OK.<br>################################################################################################<br>&nbsp;&nbsp;
 --------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp; root@cuda05:~/kidd_openMPI/checkpoints# ompi-restart -hostfile Hosts ompi_global_snapshot_2892.ckpt/<br>&nbsp;&nbsp; --------------------------------------------------------------------------<br>&nbsp;&nbsp; Error: BLCR was not able to restart the process because exec failed.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check the installation of BLCR on all of the machines in your<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; system. The following information may be of help:<br>&nbsp;Return Code : -1<br>&nbsp;BLCR Restart Command : cr_restart<br>&nbsp;Restart Command Line : cr_restart /root/kidd_openMPI/checkpoints/ompi_global_snapshot_2892.ckpt/0/opal_snapshot_1.ckpt/ompi_blcr_context.2704<br>--------------------------------------------------------------------------<br>--------------------------------------------------------------------------<br>Error: Unable to
 obtain the proper restart command to restart from the <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; checkpoint file (opal_snapshot_1.ckpt). Returned -1.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check the installation of the blcr checkpoint/restart service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on all of the machines in your system.essage<br>####################################################################################################<br>&nbsp;problem 2: ompi-migrate i can't find . &nbsp; <span id="result_box" class="short_text" lang="en"><span class="">How</span> <span class="hps">to</span> <span class="hps">use</span> <span class="hps">ompi-migrate ?<br><br></span></span>&nbsp;<br><br><br></div></div></div></div></div></body></html>
