<div>Even simpler, you could just write a macro wrapper around MPI_Send (as opposed to C code). However, if your calls are happening inside a precompiled library (and you don&#39;t have source code for it or don&#39;t want to recompile it) then this won&#39;t work and you&#39;d want a real profiler. However, I don&#39;t think you should be tracking PMPI_* calls anyway; those are implementatiopn details and not user exposed APIs. Am I right, Jeff?
</div>
<div>Durga<br><br>&nbsp;</div>
<div><span class="gmail_quote">On 4/4/07, <b class="gmail_sendername">Jeff Squyres</b> &lt;<a href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt; wrote:</span>
<blockquote class="gmail_quote" style="PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">On Apr 4, 2007, at 11:12 AM, <a href="mailto:pooja@cc.gatech.edu">pooja@cc.gatech.edu</a> wrote:<br><br>&gt; I want to see how profiling is done .I need to track open mpi _send
<br>&gt; command.<br>&gt; And so need to see how profiling is done.I dont know how to use<br>&gt; PMPI_SEND.<br>&gt; Can anybody help me???<br><br>Generally, you just write an MPI_Send function yourself, like this:<br><br>
my_send.c:<br><br>include &quot;mpi.h&quot;<br>int MPI_Send(void *buf, int count, MPI_Datatype type, int dest,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int tag, MPI_Comm comm) {<br>&nbsp;&nbsp;int ret;<br>&nbsp;&nbsp;/* ...gather whatever statistics you want ... */<br>
&nbsp;&nbsp;ret = PMPI_Send(buf, count, type, dest, tag, comm);<br>&nbsp;&nbsp;/* ...gather whatever statistics you want ... */<br>&nbsp;&nbsp;return ret;<br>}<br><br>Then compile my_send.c into your application (either as a standalone<br>library or as part of the application itself).&nbsp;&nbsp;It&#39;ll naturally
<br>intercept all calls to MPI_Send (as long as it is the rightmost<br>linker unit before -lmpi on the command line -- so, when using the<br>wrapper compilers, the last linker unit on the right, since &quot;-lmpi&quot;<br>
is added automatically by the wrapper compilers), do your stats<br>gathering, invoke the back-end PMPI function, etc.<br><br>See chapter 8 of the MPI-1 standard for more information:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.mpi-forum.org/docs/mpi-11-html/node152.html#Node152">
http://www.mpi-forum.org/docs/mpi-11-html/node152.html#Node152</a><br><br>--<br>Jeff Squyres<br>Cisco Systems<br><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">
users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br><br clear="all"><br>-- <br>Its a battle between humans and communists;
<br>Which side are you in?<br>. 

