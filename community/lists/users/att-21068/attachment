<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hi Doug<div><br></div><div>What modules software do you use on the Mac? Would be nice to know :-)</div><div><br></div><div><br><div><div>On Jan 3, 2013, at 8:34 AM, Doug Reeder &lt;<a href="mailto:dlr1@centurylink.net">dlr1@centurylink.net</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Chuck,<div><br></div><div>In step 4 you might want to consider the following</div><div><br></div><div>--prefix=/usr/local/openmpi-1.7rc5</div><div><br></div><div>and use the modules software to select which version of openmpi to use. I have to have multiple versions of openmpi available on my macs and this approach has worked well for me.</div><div><br></div><div>Doug Reeder<br><div><div>On Jan 3, 2013, at 9:22 AM, Chuck Mosher wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div><div style="background-color: rgb(255, 255, 255); font-family: 'times new roman', 'new york', times, serif; font-size: 12pt; "><div id="yiv173397614"><div style="background-color: rgb(255, 255, 255); font-family: 'times new roman', 'new york', times, serif; "><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 12pt; font-family: 'times new roman', 'new york', times, serif; ">Hi,</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 12pt; font-family: 'times new roman', 'new york', times, serif; "><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">I've been trying to get a working version of the MPI java bindings on Mac OSX (10.6.8 with Java 1.6.0_37).</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><br id="yiv173397614yui_3_7_2_17_1357156626821_88"></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">I ran into a number of issues along the way that I thought I would record here for others who might be foolish enough to try the same ;-)</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">The issues I had to spend time with were:</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; font-family: 'times new roman', 'new york', times, serif; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_52 yui_3_7_2_21_1357048406265_88"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">1. Installing a C compiler that can run from the command line</div><font class="Apple-style-span" size="3">2. Finding and installing an appropriate Java JDK for my OS version</font><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">3. Building and installing OpenMPI for the first time on a Mac</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">4. Conflicts with the existing OpenMPI version 1.2.8 that was installed already on my Mac</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">5. Figuring out syntax for using the mpirun command line to run java</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">6. Odd behavior when trying to use "localhost" or the output from `hostname` on the command line or in a hostfile</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">Resolution for each of these in order:</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><b>1. Installing a C compiler for the command line</b></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">Found a good resource here:</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_52"><a href="http://www.macobserver.com/tmo/article/install_the_command_line_c_compilers_in_os_x_lion"><font class="Apple-style-span">http://www.macobserver.com/tmo/article/install_the_command_line_c_compilers_in_os_x_lion</font></a><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">The solution is to install XCode, then enable command line compilers from the XCode console.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><b>2. Finding and installing an appropriate Java JDK for my OS version</b><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><span>Used this resource to eventually figure out what to do:</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><span><a href="http://www.wikihow.com/Install-the-JDK-(Java-Development-Kit)-on-Mac-OS-X"><font class="Apple-style-span">http://www.wikihow.com/Install-the-JDK-(Java-Development-Kit)-on-Mac-OS-X</font></a><br></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><span>It didn't exactly match my setup, but had enough clues.</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><span>The solution is to first find your java version (java -version, 1.6.0_37 in my case) and then match that version number to the Apple Java update version (11 in my case).&nbsp;</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; font-family: 'times new roman', 'new york', times, serif; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_52 yui_3_7_2_21_1357048406265_144"><span>The key document is:</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><span><a href="http://developer.apple.com/library/mac/#technotes/tn2002/tn2110.html">http://developer.apple.com/library/mac/#technotes/tn2002/tn2110.html</a><br></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">Which is a table relating java version numbers to the appropriate
 "Java for Mac OS X xx.x Update xx".</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">Once you know the update number, you can download the JDK installer from</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><a href="https://developer.apple.com/downloads/index.action">https://developer.apple.com/downloads/index.action</a><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">where you of course have to have an Apple
 developer ID to access.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52">Enter "java" in the search bar on the left and find the matching java update, and you're good to go.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_52"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><b>3. Building and installing OpenMPI for the first time on a Mac</b><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">After the usual false starts with a new installation on a new OS, I managed to get a working build of&nbsp;openmpi-1.7rc5 with Java bindings.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_54">I could only find the java bindings in the 1.7 pre-release.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">I used the defaults as
 much as possible.&nbsp;</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><br id="yiv173397614yui_3_7_2_17_1357156626821_132"></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">After downloading from:</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><a href="http://www.open-mpi.org/software/ompi/v1.7/">http://www.open-mpi.org/software/ompi/v1.7/</a><br id="yiv173397614yui_3_7_2_17_1357156626821_113"></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">and unarchiving to Downloads, open a Terminal window.</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><br id="yiv173397614yui_3_7_2_17_1357156626821_120"></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><font class="Apple-style-span" face="'lucida console', sans-serif">cd Downloads/openmpi-1.7rc5</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><font class="Apple-style-span" face="'lucida console', sans-serif">./configure --enable-java --prefix=/usr/local</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><font class="Apple-style-span" face="'lucida console', sans-serif">make all</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><font class="Apple-style-span" face="'lucida console', sans-serif">sudo make install</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; "><br id="yiv173397614yui_3_7_2_17_1357156626821_136"></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; ">Verify that you can run the commands and examples:</div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; font-family: 'times new roman', 'new york', times, serif; " class="yui_3_7_2_21_1357048406265_66"><br></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console',
 sans-serif">chuck-&gt; /usr/local/bin/mpirun -version</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">mpirun (Open MPI) 1.7rc5</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; cd examples</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; make</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif" style="font-size: 16px; font-style: normal; ">chuck-&gt;&nbsp;</font><font class="Apple-style-span" face="'lucida console', sans-serif">/usr/local/bin/mpirun -np 2 hello_c</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">Hello, world, I am 0 of 2, (Open MPI v1.7rc5, package: Open MPI <a href="mailto:chuck@chucks-iMac.local">chuck@chucks-iMac.local</a>
 Distribution, ident: 1.7rc5, Oct 30, 2012, 111)</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">Hello, world, I am 1 of 2, (Open MPI v1.7rc5, package: Open MPI <a href="mailto:chuck@chucks-iMac.local">chuck@chucks-iMac.local</a> Distribution, ident: 1.7rc5, Oct 30, 2012, 111)</font></div><div style="font-size: 16px; font-style: normal; "><br></div><div style="font-size: 16px; font-style: normal; "><b>4. Conflicts with the existing OpenMPI version 1.2.8 that was installed already on my Mac</b><br></div><div style="font-size: 16px; font-style: normal; ">OpenMPI Version 1.2.8 was already installed for my OS in /usr/bin</div><div style="font-size: 16px; font-style: normal; ">So, if you accidentally type:</div><div style="font-size: 16px; font-style: normal; "><br></div><div style="font-size: 16px; font-style: normal; "><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; mpirun -np 2 hello_c</font></div><div><div><font class="Apple-style-span" face="'lucida console', sans-serif">--------------------------------------------------------------------------</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">A requested component was not found, or was unable to be opened</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">...</font></div></div><div style="font-size: 16px; font-style: normal; "><br></div><div style="font-size: 16px; font-style: normal; ">you picked up the wrong "mpirun" and you will get a bunch of error output complaining about sockets or mis-matched shared library versions.</div><div style="font-size: 16px; font-style: normal; "><br></div><div style="font-size: 16px; font-style: normal; ">I dealt with this moving the existing OpenMPI related commands to a subdirectory, and then created symbolic links from /usr/local/bin to /usr/bin for the commands I needed.</div><div style="font-size: 16px; font-style: normal; "><br></div><div style="font-size: 16px; font-style: normal; "><b>5. Figuring out syntax for using the mpirun command line to run java</b><br></div><div style="font-size: 16px; font-style: normal; "><span>First be sure you can run Java</span></div><div style="font-size: 16px; font-style: normal; "><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; /usr/bin/java -version</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">java version "1.6.0_37"</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">Java(TM) SE Runtime Environment (build 1.6.0_37-b06-434-10M3909)</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">Java HotSpot(TM) 64-Bit Server VM (build 20.12-b01-434, mixed mode)</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span">Then be sure you can run your java class from the command line as well. To figure this out I created a couple of simple java files in a temp
 directory:</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span"><br></font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; cd ~/tmp</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; mkdir classes</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck -&gt; cat HelloWorld.java</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="font-size: 16px; background-color: transparent; font-style: normal; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span"><span><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">public class HelloWorld {</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; public static void main(String[] args) {</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp; System.out.println("Hello World, from Java !");</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; }</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">}</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div style="font-size: 16px; font-style: normal; "><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; javac -d classes HelloWorld.java</font></div><div style="font-size: 16px; font-style: normal; "><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; java -cp ./classes HelloWorld</font></div><div style="font-size: 16px; font-style: normal; "><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div><div><font class="Apple-style-span" face="'lucida console', sans-serif">Hello World, from Java !</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div><font class="Apple-style-span">No sense going further until you can get the code above to run.</font></div><div>If you have that working, then you can try the MPI version of HelloWorld:</div><div><br></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; cat HelloWorldMPI.java</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div><div><font class="Apple-style-span" face="'lucida console', sans-serif">import mpi.*;</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">class HelloWorldMPI {</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; public static void main(String[] args) throws MPIException {</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp; MPI.Init(args);</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp;
 System.out.println("Hello world from rank " +&nbsp;</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp; &nbsp; MPI.COMM_WORLD.Rank() + " of " +</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp; &nbsp; MPI.COMM_WORLD.Size() );</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; &nbsp; MPI.Finalize();</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">&nbsp; }</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">}</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; /usr/local/bin/mpijavac -d classes HelloWorldMPI.java<br></font></div><div><div><font class="Apple-style-span" face="'lucida console',
 sans-serif">/usr/local/bin/mpirun -np 2 /usr/bin/java -cp ./classes HelloWorldMPI</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">Hello world from rank 0 of 2</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">Hello world from rank 1 of 2</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div><font class="Apple-style-span">And you're ready to go !</font></div><div><font class="Apple-style-span">Except for one last thing ...</font></div><div><font class="Apple-style-span"><br></font></div></div></div></span></font><span class="Apple-style-span" style="font-size: 16px; "><b>6. Odd behavior when trying to use "localhost" or the output from `hostname` on the command line or in a hostfile</b></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span>You will note in the examples above no host names, hostifle, or appfile was used.</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span>I found that trying to use "-host localhost" or "-hostfile hostfile" which contained "localhost" would not work:</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span><br></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span><font class="Apple-style-span" face="'lucida console', sans-serif">mpirun -host localhost -np 2 ...</font></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span>in the examples above would not work, returning:</span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span><br></span></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><span><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">chuck$ /usr/local/bin/mpirun -host localhost -np 2 /usr/bin/java -cp ./classes HelloWorldMPI</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">--------------------------------------------------------------------------</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">All nodes which are allocated for this job are already filled.</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif">--------------------------------------------------------------------------</font></div><div id="yiv173397614yui_3_7_2_17_1357156626821_39" style="background-color: transparent; " class="yui_3_7_2_21_1357048406265_66"><font class="Apple-style-span" face="'lucida console', sans-serif"><br></font></div><div>I posted this in a previous e-mail to this list, and it looks like a bug.</div><div>You can get around it by using the output from `hostname -s` which provides a trimmed name:</div><div><br></div><div><div><font class="Apple-style-span" face="'lucida console', sans-serif">chuck-&gt; /usr/local/bin/mpirun -host `hostname -s` -np 2 /usr/bin/java -cp ./classes HelloWorldMPI</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">Hello world from rank 0 of 2</font></div><div><font class="Apple-style-span" face="'lucida console', sans-serif">Hello world from rank 1 of 2</font></div><div><br></div></div><div>You will also need to use this name in any hostfiles or appfiles as well until the bug is fixed.</div><div><br></div><div>Thanks to all for this great product !</div><div><br></div><div>Chuck Mosher for
 <a href="http://javaseis.org/">JavaSeis.org</a></div></span><font class="Apple-style-span"><span><div><br></div><div style="font-size: 16px; font-style: normal; "><br></div></span></font></div></div></div></div></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote></div><br></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></body></html>
