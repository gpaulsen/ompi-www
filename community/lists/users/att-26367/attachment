<div dir="ltr">Josh,<div><br></div><div>Thanks for the help.</div><div>I&#39;m running on a single host. How do I confirm that it is an issue with the shared memory?</div><div><br></div><div>Sachin</div><div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Feb 20, 2015 at 11:58 PM, Joshua Ladd <span dir="ltr">&lt;<a href="mailto:jladd.mlnx@gmail.com" target="_blank">jladd.mlnx@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><div>Sachin,<br><br></div>Are you running this on a single host or across multiple hosts (i.e. are you communicating between processes via networking.) If it&#39;s on a single host, then it might be an issue with shared memory.<br><br></div>Josh<br></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div class="h5">On Fri, Feb 20, 2015 at 1:51 AM, Sachin Krishnan <span dir="ltr">&lt;<a href="mailto:sachkris@gmail.com" target="_blank">sachkris@gmail.com</a>&gt;</span> wrote:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr"><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">Hello Josh,</p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">The command i use to compile the code is:</p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">mpicc bcast_loop.c</p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px"><br></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">To run the code I use:</p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">mpirun -np 2 ./a.out</span></font><br></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">Output is unpredictable. It gets stuck at different places.</span></font></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">Im attaching lstopo and ompi_info outputs. Do you need any other info?</p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px"><br></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">lstopo-no-graphics output:</p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">Machine (3433MB)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Socket L#0 + L3 L#0 (8192KB)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    L2 L#0 (256KB) + L1d L#0 (32KB) + L1i L#0 (32KB) + Core L#0</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#0 (P#0)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#1 (P#4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    L2 L#1 (256KB) + L1d L#1 (32KB) + L1i L#1 (32KB) + Core L#1</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#2 (P#1)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#3 (P#5)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    L2 L#2 (256KB) + L1d L#2 (32KB) + L1i L#2 (32KB) + Core L#2</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#4 (P#2)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#5 (P#6)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    L2 L#3 (256KB) + L1d L#3 (32KB) + L1i L#3 (32KB) + Core L#3</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#6 (P#3)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      PU L#7 (P#7)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  HostBridge L#0</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    PCI 8086:0162</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      GPU L#0 &quot;card0&quot;</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      GPU L#1 &quot;renderD128&quot;</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      GPU L#2 &quot;controlD64&quot;</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    PCI 8086:1502</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Net L#3 &quot;eth0&quot;</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    PCI 8086:1e02</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Block L#4 &quot;sda&quot;</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Block L#5 &quot;sr0&quot;</span></font></p><div><br></div><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px"><br></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">ompi_info output:</p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px"><br></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 Package: Open MPI builduser@anatol Distribution</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                Open MPI: 1.8.4</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Open MPI repo revision: v1.8.3-330-g0344f04</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Open MPI release date: Dec 19, 2014</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                Open RTE: 1.8.4</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Open RTE repo revision: v1.8.3-330-g0344f04</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Open RTE release date: Dec 19, 2014</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                    OPAL: 1.8.4</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      OPAL repo revision: v1.8.3-330-g0344f04</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       OPAL release date: Dec 19, 2014</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MPI API: 3.0</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            Ident string: 1.8.4</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  Prefix: /usr</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> Configured architecture: i686-pc-linux-gnu</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Configure host: anatol</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Configured by: builduser</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Configured on: Sat Dec 20 17:00:34 PST 2014</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Configure host: anatol</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                Built by: builduser</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                Built on: Sat Dec 20 17:12:16 PST 2014</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              Built host: anatol</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              C bindings: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            C++ bindings: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">             Fort mpif.h: yes (all)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            Fort use mpi: yes (full: ignore TKR)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       Fort use mpi size: deprecated-ompi-info-value</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">        Fort use mpi_f08: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> Fort mpi_f08 compliance: The mpi_f08 module is available, but due to</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          limitations in the /usr/bin/gfortran compiler, does</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          not support the following: array subsections,</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          direct passthru (where possible) to underlying Open</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          MPI&#39;s C functionality</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Fort mpi_f08 subarrays: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Java bindings: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Wrapper compiler rpath: runpath</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              C compiler: gcc</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">     C compiler absolute: /usr/bin/gcc</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  C compiler family name: GNU</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      C compiler version: 4.9.2</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            C++ compiler: g++</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   C++ compiler absolute: /usr/bin/g++</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Fort compiler: /usr/bin/gfortran</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       Fort compiler abs: </span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         Fort ignore TKR: yes (!GCC$ ATTRIBUTES NO_ARG_CHECK ::)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Fort 08 assumed shape: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Fort optional args: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Fort INTERFACE: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    Fort ISO_FORTRAN_ENV: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       Fort STORAGE_SIZE: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Fort BIND(C) (all): yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">      Fort ISO_C_BINDING: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> Fort SUBROUTINE BIND(C): yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       Fort TYPE,BIND(C): yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> Fort T,BIND(C,name=&quot;a&quot;): yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            Fort PRIVATE: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Fort PROTECTED: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Fort ABSTRACT: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       Fort ASYNCHRONOUS: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Fort PROCEDURE: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Fort C_FUNLOC: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> Fort f08 using wrappers: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         Fort MPI_SIZEOF: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">             C profiling: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           C++ profiling: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Fort mpif.h profiling: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Fort use mpi profiling: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Fort use mpi_f08 prof: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          C++ exceptions: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          Thread support: posix (MPI_THREAD_MULTIPLE: no, OPAL support: yes,</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          OMPI progress: no, ORTE progress: yes, Event lib:</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          yes)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           Sparse Groups: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  Internal debug support: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  MPI interface warnings: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">     MPI parameter check: runtime</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">Memory profiling support: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">Memory debugging support: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         libltdl support: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Heterogeneous support: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px"> mpirun default --prefix: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         MPI I/O support: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       MPI_WTIME support: gettimeofday</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">     Symbol vis. support: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   Host topology support: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          MPI extensions: </span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   FT Checkpoint support: no (checkpoint thread: no)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">   C/R Enabled Debugging: no</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">     VampirTrace support: yes</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  MPI_MAX_PROCESSOR_NAME: 256</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">    MPI_MAX_ERROR_STRING: 256</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">     MPI_MAX_OBJECT_NAME: 64</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">        MPI_MAX_INFO_KEY: 36</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">        MPI_MAX_INFO_VAL: 256</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">       MPI_MAX_PORT_NAME: 1024</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">  MPI_MAX_DATAREP_STRING: 128</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           MCA backtrace: execinfo (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            MCA compress: bzip (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            MCA compress: gzip (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA crs: none (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA db: hash (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA db: print (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA event: libevent2021 (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA hwloc: external (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA if: posix_ipv4 (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA if: linux_ipv6 (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         MCA installdirs: env (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">         MCA installdirs: config (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">          MCA memchecker: valgrind (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA memory: linux (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA pstat: linux (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA sec: basic (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA shmem: mmap (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA shmem: posix (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA shmem: sysv (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA timer: linux (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA dfs: app (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA dfs: orted (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA dfs: test (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA errmgr: default_app (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA errmgr: default_hnp (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA errmgr: default_orted (MCA v2.0, API v3.0, Component</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                          v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA errmgr: default_tool (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ess: env (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ess: hnp (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ess: singleton (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ess: tool (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA filem: raw (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">             MCA grpcomm: bad (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA iof: hnp (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA iof: mr_hnp (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA iof: mr_orted (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA iof: orted (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA iof: tool (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA odls: default (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA oob: tcp (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA plm: isolated (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA plm: rsh (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ras: loadleveler (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA ras: simulator (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: lama (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: mindist (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: ppr (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: rank_file (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: resilient (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: round_robin (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: seq (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA rmaps: staged (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA rml: oob (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA routed: binomial (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA routed: debruijn (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA routed: direct (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA routed: radix (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: app (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: hnp (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: novm (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: orted (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: staged_hnp (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: staged_orted (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA state: tool (MCA v2.0, API v1.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           MCA allocator: basic (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           MCA allocator: bucket (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA bcol: basesmuma (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA bcol: ptpcoll (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA bml: r2 (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA btl: self (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA btl: sm (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA btl: tcp (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA btl: vader (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: basic (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: hierarch (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: inter (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: libnbc (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: ml (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: self (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: sm (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA coll: tuned (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA dpm: orte (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA fbtl: posix (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA fcoll: dynamic (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA fcoll: individual (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA fcoll: static (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA fcoll: two_phase (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA fcoll: ylib (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA fs: ufs (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA io: ompio (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                  MCA io: romio (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA mpool: grdma (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">               MCA mpool: sm (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA osc: rdma (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA osc: sm (MCA v2.0, API v3.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA pml: v (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA pml: bfo (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA pml: cm (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA pml: ob1 (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA pubsub: orte (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">              MCA rcache: vma (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                 MCA rte: orte (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA sbgp: basesmsocket (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA sbgp: basesmuma (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA sbgp: p2p (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            MCA sharedfp: individual (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            MCA sharedfp: lockedfile (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">            MCA sharedfp: sm (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">                MCA topo: basic (MCA v2.0, API v2.1, Component v1.8.4)</span></font></p><p><font color="#000000" face="verdana, arial, helvetica"><span style="font-size:12px">           MCA vprotocol: pessimist (MCA v2.0, API v2.0, Component v1.8.4)</span></font></p><div><br></div><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">Sachin</p><span><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">&gt;Sachin, <br></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">&gt;Can you, please, provide a command line? Additional information about your <br>&gt;system could be helpful also. <br></p><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">&gt;Josh <br></p></span><span><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">&gt;&gt;On Wed, Feb 18, 2015 at 3:43 AM, Sachin Krishnan &lt;sachkris_at_[hidden]&gt; wrote: <br></p></span><p style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px"><span><span style="color:rgb(153,0,153)">&gt;&gt; Hello, </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; I am new to MPI and also this list. </span><br><span style="color:rgb(153,0,153)">&gt;&gt; I wrote an MPI code with several MPI_Bcast calls in a loop. My code was </span><br><span style="color:rgb(153,0,153)">&gt;&gt; getting stuck at random points, ie it was not systematic. After a few hours </span><br><span style="color:rgb(153,0,153)">&gt;&gt; of debugging and googling, I found that the issue may be with the several </span><br><span style="color:rgb(153,0,153)">&gt;&gt; MPI_Bcast calls in a loop. </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; I stumbled on this test code which can reproduce the issue: </span><br><span style="color:rgb(153,0,153)">&gt;&gt; <a href="https://github.com/fintler/ompi/blob/master/orte/test/mpi/bcast_loop.c" target="_blank">https://github.com/fintler/ompi/blob/master/orte/test/mpi/bcast_loop.c</a> </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Im using OpenMPI v1.8.4 installed from official Arch Linux repo. </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Is it a known issue with OpenMPI? </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Is it some problem with the way openmpi is configured in my system? </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Thanks in advance. </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Sachin </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span><br><span style="color:rgb(153,0,153)">&gt;&gt; _______________________________________________ </span><br><span style="color:rgb(153,0,153)">&gt;&gt; users mailing list </span><br></span><span style="color:rgb(153,0,153)">&gt;&gt; users_at_[hidden] </span><span><br><span style="color:rgb(153,0,153)">&gt;&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a> </span><br><span style="color:rgb(153,0,153)">&gt;&gt; Link to this post: </span><br><span style="color:rgb(153,0,153)">&gt;&gt; <a href="http://www.open-mpi.org/community/lists/users/2015/02/26338.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26338.php</a> </span><br><span style="color:rgb(153,0,153)">&gt;&gt; </span></span></p></div>
<br></div></div>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/02/26363.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26363.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/02/26366.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26366.php</a><br></blockquote></div><br></div></div></div>

