<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">I would suggest that if C receives some kind of quit command, it should send that command to both A &amp; B, and then call MPI_Finalize. When A &amp; B receive the quit command, they can complete whatever they are currently doing (you'll have to set a flag so they know they should do this), and then also call MPI_Finalize.<div><br></div><div>There is a barrier in MPI_Finalize, so nobody will actually terminate until everyone gets there.</div><div><br></div><div><br><div><div>On Feb 22, 2009, at 8:49 PM, Tee Wen Kai wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td valign="top" style="font: inherit;"><div>Hi,</div> <div>&nbsp;</div> <div>I have three processes A,B &amp; C. A will receive some data and process and after that will pass results to B. Thereafter, A will go back to get data and process and prepare to send them to B again. Same goes for B to C where C will provide the final output. As all the processes are running asynchronously, I can't find a method to quit all processes gracefully. I have tried to use C to issue MPI_Abort when quit command is received with processes A and B entering the SIGTERM handler to free all the allocated memories. However, the processes may be in the midst of a communication when SIGTERM signal is raise, resulting in some error msg like "remote connection close" etc. To prevent such error messages from displaying, I couldn't use MPI_Finalize. </div> <div>&nbsp;</div> <div>I seek your advice on methods to quit asynchonous processes properly without all these error messages. And I would also like to find out what will be the outcome eventually if I don't close the processes with an MPI_Finalize command, will it lead to eventual memory leak etc?</div> <div>&nbsp;</div> <div>Thank you very much.</div> <div>&nbsp;</div> <div>Regards</div> <div>Wenkai<br></div></td></tr></tbody></table><br>      <hr size="1"> <a href="http://sg.rd.yahoo.com/sg/mail/domainchoice/mail/signature/*http://mail.promotions.yahoo.com/newdomains/sg/"> Get your preferred Email name! </a> <br> Now you can @ymail.com and @rocketmail.com._______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></body></html>
