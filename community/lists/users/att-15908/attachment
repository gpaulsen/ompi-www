<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Tahoma
}
--></style>
</head>
<body class='hmmessage'>
<div><font class="Apple-style-span" face="Tahoma" size="2">Hi,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I am running a C++ program with OMPI.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I got error:&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">*** glibc detected *** /nsga2b: free(): invalid next size (fast): 0x0000000001817a90 ***</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I used GDB:&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">======= Backtrace: =========</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">Program received signal SIGABRT, Aborted.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">0x00000038b8830265 in raise () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">(gdb) bt</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#0 &nbsp;0x00000038b8830265 in raise () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#1 &nbsp;0x00000038b8831d10 in abort () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#2 &nbsp;0x00000038b886a99b in __libc_message () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#3 &nbsp;0x00000038b887245f in _int_free () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#4 &nbsp;0x00000038b88728bb in free () from /lib64/libc.so.6</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#5 &nbsp;0x000000000044a4e3 in workerRunTask (message_to_master_type=0x38c06efe18,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;nodeSize=2, myRank=1, xVSize=84, objSize=7,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;xdata_to_workers_type=0x1206350,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;recvXDataVec=std::vector of length 0, capacity 84, myNsga2=...,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;Mpara_to_workers_type=0x1205390, events=0x7fffffffb1f0, netplan=...)</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;at src/nsga2/workerRunTask.cpp:447</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">#6 &nbsp;0x00000000004514d9 in main (argc=1, argv=0x7fffffffcb48)</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;&nbsp; &nbsp;at src/nsga2/main-parallel2.cpp:425</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">-------------------------------------------------</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">In valgrind,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">there are some invalid read and write butno errors about this&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">&nbsp;free(): invalid next size .</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">-----------------------------------------------</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">(populp.ind)-&gt;xreal <span class="Apple-tab-span" style="white-space:pre">	</span>= new double[nreal];</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>(populp.ind)-&gt;obj <span class="Apple-tab-span" style="white-space:pre">	</span>= new double[nobj];</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>(populp.ind)-&gt;constr <span class="Apple-tab-span" style="white-space:pre">	</span>= new double[ncon];</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>(populp.ind)-&gt;xbin <span class="Apple-tab-span" style="white-space:pre">	</span>= new double[nbin];</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>if ((populp.ind)-&gt;xreal == NULL || (populp.ind)-&gt;obj == NULL || (populp.ind)-&gt;constr == NULL || (populp.ind)-&gt;xbin == NULL )</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>{</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">			</span>#ifdef DEBUG_workerRunTask</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">			</span>cout &lt;&lt; "In workerRunTask(), I am rank "&lt;&lt; myRank &lt;&lt; " (populp.ind)-&gt;xreal or (populp.ind)-&gt;obj or (populp.ind)-&gt;constr or (populp.ind)-&gt;xbin is NULL .\n\n" &lt;&lt; endl; &nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">			</span>#endif</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>}<span class="Apple-tab-span" style="white-space:pre">	</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">delete [] (populp.ind)-&gt;xreal ;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>delete [] (populp.ind)-&gt;xbin ;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>delete [] (populp.ind)-&gt;obj ;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>delete [] (populp.ind)-&gt;constr ;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><span class="Apple-tab-span" style="white-space:pre">		</span>delete [] sendResultArrayPr;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">----------------------------------------</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">thanks</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">Any help is really appreciated.&nbsp;</font></div><div style="font-family: Tahoma; font-size: 10pt; "><br></div> 		 	   		  </body>
</html>
