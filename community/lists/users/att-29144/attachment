<div dir="ltr"><div><div>Hello <span name="Llolsten Kaonga" class="">Llolsten<br><br></span></div><span name="Llolsten Kaonga" class="">Is there a specific reason you run as root? This practice is discouraged, isn&#39;t it?<br><br></span></div><div><span name="Llolsten Kaonga" class="">Also, isn&#39;t it true that OMPI uses ephemeral (i.e. &#39;user level, randomly chosen&#39;) ports for TCP transport? In that case, how did this ever worked with a firewall enabled?<br><br></span></div><div><span name="Llolsten Kaonga" class="">I have, in the past, have faced similar situations, thus I am curious to know the answer as well.<br><br></span></div><div><span name="Llolsten Kaonga" class="">Thanks<br></span></div><div><span name="Llolsten Kaonga" class="">Durga<br></span></div><span name="Llolsten Kaonga" class=""></span><div class="gmail_extra"><br clear="all"><div><div class="gmail_signature"><div dir="ltr"><div><div dir="ltr">The surgeon general advises you to eat right, exercise regularly and quit ageing.</div></div></div></div></div>
<br><div class="gmail_quote">On Mon, May 9, 2016 at 2:31 PM, Llolsten Kaonga <span dir="ltr">&lt;<a href="mailto:llk@soft-forge.com" target="_blank">llk@soft-forge.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div link="#0563C1" vlink="#954F72" lang="EN-US"><div><p class="MsoNormal">Hello all,<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">We’ve been running openmpi for a long time and up to version 1.8.2 and CentOS 6.7 with commands such as the one below:<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal"><span style="font-size:8.0pt;font-family:Consolas">usr/local/bin/mpirun --allow-run-as-root --mca btl openib,self,sm --mca pml ob1 -np 2 -np 8 -hostfile /root/mpi-hosts /usr/local/bin/IMB-MPI1</span><u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">To be able to run the above command, we normally just disabled the IPv4 firewall and SELinux.<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">We recently made the following updates:<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">OS:         CentOS 7.2<u></u><u></u></p><p class="MsoNormal">IMB:      4.1<u></u><u></u></p><p class="MsoNormal">OpenMPI: 1.10.2<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">When we tried to execute the above mpirun command, we got a TCP Broken Pipe error. There was no IP assignment conflict and eventually, we narrowed down the problem to the firewall. Disabling the firewalld daemon allows the command to run to completion. We would prefer not to disable the daemon as our servers may sometimes be connected to the rest of our subnet.<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">Are there other options such as perhaps specifying a port (I am guessing, so specific instructions will be greatly appreciated).<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">I thank you.<u></u><u></u></p></div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29143.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29143.php</a><br></blockquote></div><br></div></div>

