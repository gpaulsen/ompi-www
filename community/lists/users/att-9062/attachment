<html><head><style type="text/css"><!-- DIV {margin:0px;} --></style></head><body><div style="font-family:'times new roman', 'new york', times, serif;font-size:12pt"><div>Hi,</div><div>Hardware setups:</div><div>+ We have 4 NICs for each node in our cluster. That is why I called 4 links.</div><div>+ All nodes are connected by 4 switches (1Gb switch).</div><div>+ 4GB memory for each node.</div><div>How can I check that NUMA or UMA memory access?</div><div><br></div><div>Thank you!</div><div><br></div><div style="font-family:times new roman, new york, times, serif;font-size:12pt"><br><div style="font-family:arial, helvetica, sans-serif;font-size:13px"><font size="2" face="Tahoma"><hr size="1"><b><span style="font-weight: bold;">From:</span></b> Jeff Squyres &lt;jsquyres@cisco.com><br><b><span style="font-weight: bold;">To:</span></b> Open MPI Users &lt;users@open-mpi.org><br><b><span style="font-weight: bold;">Sent:</span></b> Thursday, April 23, 2009
 8:23:52 PM<br><b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] MPI_Bcast from OpenMPI<br></font><br>
Very strange; 6 seconds for a 1MB broadcast over 64 processes is *way* too long.  Even 2.5 sec at 2MB seems too long -- what is your network speed?  I'm not entirely sure what you mean by "4 link" on your graph.<br><br>Without more information, I would first check your hardware setup to see if there's some kind of network buffering / congestion issue occurring.  Here's a total guess: your ethernet switch(es) are low quality (from an HPC perspective, at least) such that you're incurring congestion and/or retransmission at that size for some reason.<br><br>You could also be running up against memory bus congestion (I assume you mean 4 cores per node; are they NUMA or UMA?).  But that wouldn't account for the huge spike at 1MB.<br><br><br>On Apr 23, 2009, at 1:32 AM, shan axida wrote:<br><br>> Hi,<br>> One more question:<br>> I have executed the MPI_Bcast() in 64 processes in 16 nodes Ethernet multiple links cluster.<br>> The result is shown in the file
 attached on this E-mail.<br>> What is going on at 131072 double message size?<br>> I have executed it many times but the result is still the same.<br>> <br>> THANK YOU!<br>> <br>> <br>> <br>> <br>> <br>> <br>> <br>> &lt;openmpi.pdf>_______________________________________________<br>> users mailing list<br>> <a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><span>> <a target="_blank" href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></span><br><br><br>--Jeff Squyres<br>Cisco Systems<br><br>_______________________________________________<br>users mailing list<br><a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div><div style="position:fixed"></div></div><br>

      </body></html>
