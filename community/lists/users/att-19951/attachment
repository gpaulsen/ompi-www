<html><body><div style="color:#000; background-color:#fff; font-family:times new roman, new york, times, serif;font-size:18pt"><div><span>I'm
 so sorry, Actually my problem is in another mpi program which is 
"sudoku game". But because of the fact I got inclusion error whenever I 
use MPI_Group_incl. For simplicity, I decided to put a simple program 
with MPI_Group_incl. Please take a look at the following lines of code, 
and please note that in this program I'm supposed to work just with 82 
processes and I tried to divide the processes into 2 groups, namely 
"master" and "workers", master for "rank 0" process and workers for rest
 of processes(81 processes). <br></span></div><div><br><span></span></div><div><span>Here is the codes:</span></div><div style="color:rgb(0, 0, 127);"><span><br></span></div><div style="color:rgb(0, 0, 127);"><span>#include &lt;string.h&gt;<br>#include "mpi.h"<br>#include &lt;stdio.h&gt;<br>#include &lt;unistd.h&gt;<br>#include
 &lt;time.h&gt;<br>#include &lt;stdlib.h&gt;<br><br>int main(int argc, char *argv[])<br>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Initializing the MPI world, rank, and size<br>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; int&nbsp; size,rank,m,w,i;<br>&nbsp; &nbsp;&nbsp; &nbsp; MPI_Group group,master,workers;<br>&nbsp; &nbsp; &nbsp;&nbsp; MPI_Comm comm_world, comm_workers, comm_master;<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; MPI_Status status;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI_Request request;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI_Init(&amp;argc, &amp;argv);<br>&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; MPI_Comm_size(MPI_COMM_WORLD, &amp;size);<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (size != 82 ){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("Please run with 82
 processors.\n");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fflush(stdout);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI_Finalize();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; exit(1);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>&nbsp;&nbsp;&nbsp; comm_world = MPI_COMM_WORLD;<br>&nbsp;&nbsp;&nbsp; MPI_Comm_group(comm_world, &amp;group);<br>&nbsp;&nbsp;&nbsp; MPI_Group_incl(group, 1, 0 , &amp;master);<br>&nbsp;&nbsp;&nbsp; MPI_Group_excl(group, 1, 0, &amp;workers);<br>&nbsp;&nbsp;&nbsp; MPI_Comm_create(comm_world, master, &amp;comm_master);<br>&nbsp;&nbsp;&nbsp; MPI_Comm_create(comm_world, workers, &amp;comm_workers);<br></span></div><div style="color:rgb(0, 0, 127);">&nbsp;&nbsp;&nbsp; MPI_Finalize();<br>}</div><br><div style="font-family: times new roman, new york, times,
 serif; font-size: 18pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Jeff Squyres &lt;jsquyres@cisco.com&gt;<br> <b><span style="font-weight: bold;">To:</span></b> Open MPI Users &lt;users@open-mpi.org&gt; <br><b><span style="font-weight: bold;">Cc:</span></b> maryam moein &lt;maryam_moein2005@yahoo.com&gt; <br> <b><span style="font-weight: bold;">Sent:</span></b> Thursday, August 16, 2012 7:41 PM<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] mpi_group_incl erros<br> </font> </div> <br>
Further, if Neven is greater than 3, then you've got uninitialized values in the members array.&nbsp; That could be causing Open MPI to say "there's a bad rank number in there!", for example, if members[3] is randomly initialized to 1234.<br><br><br>On Aug 16, 2012, at 10:01 AM, Ralph Castain wrote:<br><br>&gt; Well, one thing immediately leaps to the eye. You compute Neven based on the number of procs in the job, which you set when executing mpirun. However, the number of members you put in your group is fixed. Then you pass Neven to the MPI_Group call as the parameter telling it how many entries are in your member array!<br>&gt; <br>&gt; On Aug 16, 2012, at 5:07 AM, maryam moein &lt;<a ymailto="mailto:maryam_moein2005@yahoo.com" href="mailto:maryam_moein2005@yahoo.com">maryam_moein2005@yahoo.com</a>&gt; wrote:<br>&gt; <br>&gt;&gt; I'm new memeber in this weblog, and I should deliver my assignment as soon as possible, but I have a big problem that I
 can't solve it. Please help me. In MPI I should divide my group into two groups. But all the time when I want to run a program I got error about mpi_group_incl. This is my error: <br>&gt;&gt; <br>&gt;&gt; [ubuntu:3346] *** An error occurred in MPI_Group_incl<br>&gt;&gt; [ubuntu:3346] *** on communicator MPI_COMM_WORLD<br>&gt;&gt; [ubuntu:3346] *** MPI_ERR_RANK: invalid rank<br>&gt;&gt; [ubuntu:3346] *** MPI_ERRORS_ARE_FATAL (your MPI job will now abort)<br>&gt;&gt; --------------------------------------------------------------------------<br>&gt;&gt; mpiexec has exited due to process rank 0 with PID 3345 on<br>&gt;&gt; node ubuntu exiting without calling "finalize". This may<br>&gt;&gt; have caused other processes in the application to be<br>&gt;&gt; terminated by signals sent by mpiexec (as reported here).<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; I should mention that I run this program with diffrent number of process but I got same errors. In below you
 can find my c program.<br>&gt;&gt; <br>&gt;&gt;&nbsp; #include &lt;stdio.h&gt;<br>&gt;&gt; #include "mpi.h"<br>&gt;&gt; #include &lt;unistd.h&gt;<br>&gt;&gt; #include &lt;time.h&gt;<br>&gt;&gt; #include &lt;stdlib.h&gt;<br>&gt;&gt; #include &lt;string.h&gt;<br>&gt;&gt; void main(int argc, char *argv[]) <br>&gt;&gt; {<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  int Iam, p;<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  int Neven, Nodd, members[6], even_rank, odd_rank;<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Group group_world, even_group, odd_group;<br>&gt;&gt; /* Starts MPI processes ... */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Init(&amp;argc, &amp;argv);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* starts MPI */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Comm_rank(MPI_COMM_WORLD, &amp;Iam);&nbsp; /* get current process id */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Comm_size(MPI_COMM_WORLD, &amp;p);&nbsp; &nbsp; /* get number of processes
 */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  Neven = (p + 1)/2;&nbsp; &nbsp;  /* All processes of MPI_COMM_WORLD are divided */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  Nodd = p - Neven;&nbsp; &nbsp; &nbsp; /* into 2 groups, odd- and even-numbered groups */<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  members[0] = 2;<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  members[1] = 0;<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  members[2] = 4;<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Comm_group(MPI_COMM_WORLD, &amp;group_world);<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Group_incl(group_world, Neven, members, &amp;even_group);<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Group_excl(group_world, Neven, members,&nbsp; &amp;odd_group);<br>&gt;&gt; <br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Barrier(MPI_COMM_WORLD);<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  if(Iam == 0) {<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("MPI_Group_incl/excl Usage Example\n");<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("\n");<br>&gt;&gt;&nbsp; &nbsp; &nbsp;
 &nbsp;  printf("Number of processes is %d\n", p);<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("Number of odd processes is %d\n", Nodd);<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("Number of even processes is %d\n", Neven);<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("\n");<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp;  printf("&nbsp; &nbsp;  Iam&nbsp; &nbsp;  even&nbsp; &nbsp; &nbsp; odd\n");<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  }<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Barrier(MPI_COMM_WORLD);<br>&gt;&gt; <br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Group_rank(even_group, &amp;even_rank);<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Group_rank( odd_group,&nbsp; &amp;odd_rank);<br>&gt;&gt;&nbsp; &nbsp; &nbsp;  printf("%d %d %d\n",Iam, even_rank, odd_rank);<br>&gt;&gt; <br>&gt;&gt;&nbsp; &nbsp; &nbsp;  MPI_Finalize();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* let MPI finish up ...&nbsp; */<br>&gt;&gt; }&nbsp; &nbsp;  <br>&gt;&gt; <br>&gt;&gt;
 _______________________________________________<br>&gt;&gt; users mailing list<br>&gt;&gt; <a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt;&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; <a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br><br><br>-- <br>Jeff Squyres<br><a ymailto="mailto:jsquyres@cisco.com" href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a><br>For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br><br><br><br> </div> </div>  </div></body></html>
