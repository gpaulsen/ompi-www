<div dir="ltr">My application have a heartbeat that checks if a node is alive and can redistribute a task to another node if the master lost communication with it. The application also have a checkpoint/restart, but since I usually have hundreds of nodes for one job and usually takes a long time to restart the job, in this case I would prefer to go on with the job and not terminate it. It&#39;s possible?<div><br></div><div>Regards,</div><div>Guilherme.</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Mon, May 16, 2016 at 12:28 PM, Gilles Gouaillardet <span dir="ltr">&lt;<a href="mailto:gilles.gouaillardet@gmail.com" target="_blank">gilles.gouaillardet@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">What do you mean by fault tolerant application ?<div>from an OpenMPI point of view, if such a connection is lost, your application will no more be able to communicate, so killing it is the best option.</div><div>if your application has built in checkpoint/restart, then you have to restart it with mpirun after the first mpirun aborts and your environment is fixed.</div><div>or your batch manager should restart/resubmit the job, possibly on a different set of nodes.</div><div><br></div>makes sense ?<br><div><br></div><div>Cheers,</div><div><br></div><div>Gilles<span class=""><br><br>On Monday, May 16, 2016, Zabiziz Zaz &lt;<a>zabiziz@gmail.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi,<div>I&#39;m using openmpi-1.10.2 and sometimes I&#39;m receiving the message below:</div><div><div>--------------------------------------------------------------------------</div><div>ORTE has lost communication with its daemon located on node:</div><div><br></div><div>  hostname:  xxxx</div><div><br></div><div>This is usually due to either a failure of the TCP network</div><div>connection to the node, or possibly an internal failure of</div><div>the daemon itself. We cannot recover from this failure, and</div><div>therefore will terminate the job.</div><div><br></div><div>--------------------------------------------------------------------------</div></div><div><br></div><div>My applications are fault tolerant and the jobs usually takes weeks to finish. Sometimes a hardware problem occurs with one node, for example, the node shutdown. I don&#39;t want mpi to terminate the job, my jobs usually have hundreds of nodes and I don&#39;t care if 1 node lost communication.</div><div><br></div><div>It&#39;s possible to change this behavior of openmpi? I tried to set orte_abort_on_non_zero_status to 0 but it didn&#39;t work. </div><div><br></div><div>Thanks for your help.</div><div><br></div><div>Regards,</div><div>Guilherme.</div></div>
</blockquote></span></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29219.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29219.php</a><br></blockquote></div><br></div>

