<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"></head><body dir="auto"><div>I have no idea what ESMF is and am too lazy to google it, but I would consider a failure to build with dynamic OpenMPI libs to be a bug in EMSF, OpenMPI, the Intel compiler or the linker and devote the least amount of time possible to mitigating it. I guess that static linking is the easiest fix, but you should nonetheless be unforgiving of whoever broke your user experience.&nbsp;</div><div id="AppleMailSignature"><br></div><div id="AppleMailSignature">Jeff<br><br>Sent from my iPhone</div><div><br>On Dec 31, 2015, at 3:10 PM, Matt Thompson &lt;<a href="mailto:fortran@gmail.com">fortran@gmail.com</a>&gt; wrote:<br><br></div><blockquote type="cite"><div><div dir="ltr"><div class="gmail_extra"><div class="gmail_quote">On Thu, Dec 31, 2015 at 4:37 PM, Jeff Hammond <span dir="ltr">&lt;<a href="mailto:jeff.science@gmail.com" target="_blank">jeff.science@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Try using the same LDFLAGS for PGI<span></span>. I think you got exactly&nbsp;what you asked for from PGI when you used -Bstatic_pgi.&nbsp;<div><br></div><div>I'm not sure what value there is to having mpirun be a static binary, other than enabling users to be ignorant of how&nbsp;LD_LIBRARY_PATH works and&nbsp;</div></blockquote><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div>wasting space in your filesystem. You should instead consider rpath.&nbsp;</div></blockquote><div>&nbsp;</div><div>Jeff,</div><div><br></div><div>I found one excuse. On a desktop of mine I build Open MPI with gfortran, PGI, and Intel. It turns out if I built Intel Fortran + Open MPI with --enable-shared, it would not compile ESMF correctly. I'm going to try and revisit it next week because I want Intel OpenMPI as shared so I can easily use Allinea MAP.&nbsp;</div><div><br></div><div>I'll try and make a good report for you/ESMF.</div><div><br></div></div>-- <br><div><div dir="ltr"><div><div dir="ltr"><div>Matt Thompson</div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><div>Man Among Men</div></div></div><div><div><div>Fulcrum of History</div></div></div></blockquote></div></div>
</div></div>
</div></blockquote><blockquote type="cite"><div><span>_______________________________________________</span><br><span>users mailing list</span><br><span><a href="mailto:users@open-mpi.org">users@open-mpi.org</a></span><br><span>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></span><br><span>Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/12/28210.php">http://www.open-mpi.org/community/lists/users/2015/12/28210.php</a></span></div></blockquote></body></html>
