<HTML dir=ltr><HEAD><TITLE>RE: users Digest, Vol 1658, Issue 2</TITLE>
<META http-equiv=Content-Type content="text/html; charset=unicode">
<META content="MSHTML 6.00.3790.4696" name=GENERATOR></HEAD>
<BODY>
<DIV id=idOWAReplyText89476 dir=ltr>
<DIV dir=ltr><FONT face=Arial color=#000000 size=2>Josh</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV dir=ltr><FONT face=Arial size=2>I have stack traces of all 8 python processes when I observed the hang after successful completion of checkpoint. They are in the attached document. Please see if these stack traces provide any clue.</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV dir=ltr><FONT face=Arial size=2>Thanks</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2>Ananda</FONT><BR>
<HR tabIndex=-1>
<FONT face=Tahoma size=2><B>From:</B> Ananda Babu Mudar (WT01 - Energy and Utilities)<BR><B>Sent:</B> Fri 8/13/2010 9:12 AM<BR><B>To:</B> users@open-mpi.org<BR><B>Subject:</B> RE: users Digest, Vol 1658, Issue 2<BR></FONT><BR></DIV></DIV>
<DIV>
<P><FONT size=2>Josh<BR><BR>I am having problems compiling the sources from the latest trunk. It complains of libgomp.spec missing even though that file exists on my system. I will see if I have to change any other environment variables to have a successful compilation. I will keep you posted.<BR><BR>BTW, were you successful in reproducing the problem on a system with OpenMPI 1.4.2?<BR><BR>Thanks<BR>Ananda<BR>-----Original Message-----<BR>Date: Thu, 12 Aug 2010 09:12:26 -0400<BR>From: Joshua Hursey &lt;jjhursey@open-mpi.org&gt;<BR>Subject: Re: [OMPI users] Checkpointing mpi4py program<BR>To: Open MPI Users &lt;users@open-mpi.org&gt;<BR>Message-ID: &lt;1F1445AB-9208-4EF0-AF25-5926BD53C7E1@open-mpi.org&gt;<BR>Content-Type: text/plain; charset=us-ascii<BR><BR>Can you try this with the current trunk (r23587 or later)?<BR><BR>I just added a number of new features and bug fixes, and I would be interested to see if it fixes the problem. In particular I suspect that this might be related to the Init/Finalize bounding of the checkpoint region.<BR><BR>-- Josh<BR><BR>On Aug 10, 2010, at 2:18 PM, &lt;ananda.mudar@wipro.com&gt; &lt;ananda.mudar@wipro.com&gt; wrote:<BR><BR>&gt; Josh<BR>&gt;<BR>&gt; Please find attached is the python program that reproduces the hang that<BR>&gt; I described. Initial part of this file describes the prerequisite<BR>&gt; modules and the steps to reproduce the problem. Please let me know if<BR>&gt; you have any questions in reproducing the hang.<BR>&gt;<BR>&gt; Please note that, if I add the following lines at the end of the program<BR>&gt; (in case sleep_time is True), the problem disappears ie; program resumes<BR>&gt; successfully after successful completion of checkpoint.<BR>&gt; # Add following lines at the end for sleep_time is True<BR>&gt; else:<BR>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time.sleep(0.1)<BR>&gt; # End of added lines<BR>&gt;<BR>&gt;<BR>&gt; Thanks a lot for your time in looking into this issue.<BR>&gt;<BR>&gt; Regards<BR>&gt; Ananda<BR>&gt;<BR>&gt; Ananda B Mudar, PMP<BR>&gt; Senior Technical Architect<BR>&gt; Wipro Technologies<BR>&gt; Ph: 972 765 8093<BR>&gt; ananda.mudar@wipro.com<BR>&gt;<BR>&gt;<BR>&gt; -----Original Message-----<BR>&gt; Date: Mon, 9 Aug 2010 16:37:58 -0400<BR>&gt; From: Joshua Hursey &lt;jjhursey@open-mpi.org&gt;<BR>&gt; Subject: Re: [OMPI users] Checkpointing mpi4py program<BR>&gt; To: Open MPI Users &lt;users@open-mpi.org&gt;<BR>&gt; Message-ID: &lt;270BD450-743A-4662-9568-1FEDFCC6F9C6@open-mpi.org&gt;<BR>&gt; Content-Type: text/plain; charset=windows-1252<BR>&gt;<BR>&gt; I have not tried to checkpoint an mpi4py application, so I cannot say<BR>&gt; for sure if it works or not. You might be hitting something with the<BR>&gt; Python runtime interacting in an odd way with either Open MPI or BLCR.<BR>&gt;<BR>&gt; Can you attach a debugger and get a backtrace on a stuck checkpoint?<BR>&gt; That might show us where things are held up.<BR>&gt;<BR>&gt; -- Josh<BR>&gt;<BR>&gt;<BR>&gt; On Aug 9, 2010, at 4:04 PM, &lt;ananda.mudar@wipro.com&gt;<BR>&gt; &lt;ananda.mudar@wipro.com&gt; wrote:<BR>&gt;<BR>&gt;&gt; Hi<BR>&gt;&gt;<BR>&gt;&gt; I have integrated mpi4py with openmpi 1.4.2 that was built with BLCR<BR>&gt; 0.8.2. When I run ompi-checkpoint on the program written using mpi4py, I<BR>&gt; see that program doesn?t resume sometimes after successful checkpoint<BR>&gt; creation. This doesn?t occur always meaning the program resumes after<BR>&gt; successful checkpoint creation most of the time and completes<BR>&gt; successfully. Has anyone tested the checkpoint/restart functionality<BR>&gt; with mpi4py programs? Are there any best practices that I should keep in<BR>&gt; mind while checkpointing mpi4py programs?<BR>&gt;&gt;<BR>&gt;&gt; Thanks for your time<BR>&gt;&gt; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ananda<BR>&gt;&gt; Please do not print this email unless it is absolutely necessary.<BR>&gt;&gt;<BR>&gt;&gt; The information contained in this electronic message and any<BR>&gt; attachments to this message are intended for the exclusive use of the<BR>&gt; addressee(s) and may contain proprietary, confidential or privileged<BR>&gt; information. If you are not the intended recipient, you should not<BR>&gt; disseminate, distribute or copy this e-mail. Please notify the sender<BR>&gt; immediately and destroy all copies of this message and any attachments.<BR>&gt;&gt;<BR>&gt;&gt; WARNING: Computer viruses can be transmitted via email. The recipient<BR>&gt; should check this email and any attachments for the presence of viruses.<BR>&gt; The company accepts no liability for any damage caused by any virus<BR>&gt; transmitted by this email.<BR>&gt;&gt;<BR>&gt;&gt; www.wipro.com<BR>&gt;&gt;<BR>&gt;&gt; _______________________________________________<BR>&gt;&gt; users mailing list<BR>&gt;&gt; users@open-mpi.org<BR>&gt;&gt; <A href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</A><BR></FONT></P></DIV><P><strong><span style='font-size:10.0pt;font-family:
"Palatino Linotype","serif";color:green'> Please do not print this email unless it is absolutely necessary. </span></strong><span style='font-family:"Arial","sans-serif"'><o:p></o:p></span></p>


<p> The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee(s) and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments. </p>

<p>WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email. </p>
<p>
www.wipro.com
</p>
</BODY></HTML>
