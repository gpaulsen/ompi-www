this is neat but it will need to identify whether the MPI implementation is openmpi. -- Not all the implementations accept --showme flag.<br><br>--Rich<br><br><div><span class="gmail_quote">On 6/5/07, <b class="gmail_sendername">
Nuno Sucena Almeida</b> &lt;<a href="mailto:slug@aeminium.org">slug@aeminium.org</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&#39;s an autoconf macro you can find at<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://autoconf-archive.cryp.to/acx_mpi.html">http://autoconf-archive.cryp.to/acx_mpi.html</a><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it might be useful to you. I prefer to use it just to test the existence of
<br>MPI and then inside <a href="http://configure.ac">configure.ac</a> something like (ugly):<br><br>(...)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MPI_CXXLIBS=`mpicxx --showme:link`<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MPI_CXXFLAGS=`mpicxx --showme:compile`<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AC_SUBST(MPI_CXXLIBS)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AC_SUBST(MPI_CXXFLAGS)<br>(...)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is for C++, mind you, and then use these variables inside the<br><a href="http://Makefile.am">Makefile.am</a>&#39;s which works fine for me, both for building libraries and
<br>programs. Of course if mpicxx doesn&#39;t have the --showme you are out of luck<br>with this approach.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Another alternative would be to just use the macro and then define C/C++<br>compilers to point to the ones found by it, although I could never have it
<br>working perfectly when I use it along with libtool.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If anyone has a better alternative, I would be glad to hear it!<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nuno<br><br>On Tuesday 05 June 2007 13:59, Lie-Quan Lee wrote:
<br>&gt; I am wondering if anyone has already had a way to identify openmpi in<br>&gt; configure script using autoconf macro. By identifying openmpi in the<br>&gt; configure, I will be able to handle those libraries. Thanks.
<br><br>--<br><a href="http://aeminium.org/slug/">http://aeminium.org/slug/</a><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">
http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br><br clear="all"><br>-- <br>Best regards,<br>Rich

