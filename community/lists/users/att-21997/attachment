<div dir="ltr"><span style="font-family:arial,sans-serif;font-size:13px">Hello everybody,</span><br><div><span style="font-family:arial,sans-serif;font-size:13px"><br></span></div><div style><span style="font-family:arial,sans-serif;font-size:13px">I&#39;m a beginner in Open MPI world.</span></div>
<div style><font face="arial, sans-serif">Maybe it&#39;s a simple problem, but I cannot figure out what happen on it...</font></div><div style><font face="arial, sans-serif"><br></font></div><div style><font face="arial, sans-serif">My situation is</font></div>
<div style><font face="arial, sans-serif">I use 4 hosts totally, and their IP address are static.</font></div><div style><span style="font-family:arial,sans-serif">I can&#39;t do </span><u style="font-family:arial,sans-serif">mpirun</u><span style="font-family:arial,sans-serif"> over 1500 times almost at the same time.</span><br>
</div><div style><font face="arial, sans-serif">(but it&#39;s always okay less than 1000 times)</font></div><div style><font face="arial, sans-serif">I got many &quot;<b>ssh_exchange_identification: connection closed by remote host</b></font><span style="font-family:arial,sans-serif">&quot; errors.</span></div>
<div style><br></div><div style>--------------------------------------------------------------------------------------------------------------------------<br></div><div style><font face="arial, sans-serif">My Open MPI version : 1.6.2</font></div>
<div style>--------------------------------------------------------------------------------------------------------------------------<font face="arial, sans-serif"><br></font></div><div style><font face="arial, sans-serif">I use a simple bash shell script file to run my Open MPI file(named </font><span style="font-family:arial,sans-serif">openMPI_test</span><span style="font-family:arial,sans-serif">)</span></div>
<div style><font face="arial, sans-serif">Here is my script content :</font></div><div style><font face="arial, sans-serif"><br></font></div><div style><font face="arial, sans-serif">for (( index=0; index&lt;2000 ; index++))<br>
</font></div><div style><font face="arial, sans-serif">   do</font></div><div style><font face="arial, sans-serif">       (time mpirun --hostfile my_hostfile openMPI_test &amp;) &gt;&gt; file 2&gt;&amp;1</font></div><div style>
<font face="arial, sans-serif">   done</font></div><div style><font face="arial, sans-serif"><br></font></div><div style><font face="arial, sans-serif"><br></font></div><div style>p.s.1 &quot;<span style="font-family:arial,sans-serif">my_hostfile</span>&quot; file lists 4 hosts&#39; IP address.<font face="arial, sans-serif"><br>
</font></div><div style>p.s.2 &quot;<span style="font-family:arial,sans-serif">openMPI_test</span>&quot; file ask each host do the same thing, it means:</div><div style>          if(rank == 0){      for(i=0 ; i&lt;65535 ; i++)    temp = i/(i+1);  }</div>
<div style>          else if(rank == 1){      for(i=0 ; i&lt;65535 ; i++)    temp = i/(i+1);  }<br></div><div style>          else if(rank == 2){      for(i=0 ; i&lt;65535 ; i++)    temp = i/(i+1);  }<br></div><div style>
          else if(rank == 3){      for(i=0 ; i&lt;65535 ; i++)    temp = i/(i+1);  }<br></div><div style>--------------------------------------------------------------------------------------------------------------------------<br>
</div><div style><br></div><div style>At the first, I thought I have some system problems,</div><div style>so I tried to modify my /etc/ssh/sshd_config file.</div><div style>I set Max_Sessions up to 65535, and MaxStartups up to 65535,</div>
<div style>but the result made me so sad because it still didn&#39;t work :((<br></div><div style><br></div><div style>I&#39;m not sure if there are some settings or limits in Open MPI,<br></div><div style>or I just have another system problems?</div>
<div style><br></div><div style>I really hope someone can help me..</div><div style>Thank you all very very much!!<br></div><div style><br></div><div style><br></div><div style><br></div><div style>Best Wishes,</div><div style>
Jen</div><div style><br></div></div>

