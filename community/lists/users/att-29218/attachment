<div dir="ltr">Hi Llolsten,<div>the problem is not a firewall issue. The simplest way to reproduce the problem is rebooting a node in the middle of the job. It&#39;s possible to configure the openmpi to not terminate the job if, in the middle of the job, one node is rebooted?</div><div><br></div><div>Thanks again for your help.</div><div><br></div><div>Regards,</div><div>Guilherme</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Mon, May 16, 2016 at 12:11 PM, Llolsten Kaonga <span dir="ltr">&lt;<a href="mailto:llk@soft-forge.com" target="_blank">llk@soft-forge.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div lang="EN-US" link="#0563C1" vlink="#954F72"><div><p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif">Hello Guilherme,<u></u><u></u></span></p><p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif"><u></u> <u></u></span></p><p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif">This may be off but try running your mpirun command with the option </span>“–tag-output”. If you see a “broken pipe”, then your issue may be firewall related. You could then check the thread “<b>Re: [OMPI users] mpirun command won&#39;t run unless the firewalld daemon is disabled</b>” for how to get around this from Gilles or Jeff.<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">I thank you.<u></u><u></u></p><p class="MsoNormal">--<u></u><u></u></p><p class="MsoNormal">Llolsten<u></u><u></u></p><p class="MsoNormal"><a name="m_3555192236463516660__MailEndCompose"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif"><u></u> <u></u></span></a></p><span></span><p class="MsoNormal"><b><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif">From:</span></b><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif"> users [mailto:<a href="mailto:users-bounces@open-mpi.org" target="_blank">users-bounces@open-mpi.org</a>] <b>On Behalf Of </b>Zabiziz Zaz<br><b>Sent:</b> Monday, May 16, 2016 10:46 AM<br><b>To:</b> <a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><b>Subject:</b> [OMPI users] ORTE has lost communication<u></u><u></u></span></p><div><div class="h5"><p class="MsoNormal"><u></u> <u></u></p><div><p class="MsoNormal">Hi,<u></u><u></u></p><div><p class="MsoNormal">I&#39;m using openmpi-1.10.2 and sometimes I&#39;m receiving the message below:<u></u><u></u></p></div><div><div><p class="MsoNormal">--------------------------------------------------------------------------<u></u><u></u></p></div><div><p class="MsoNormal">ORTE has lost communication with its daemon located on node:<u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">  hostname:  xxxx<u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">This is usually due to either a failure of the TCP network<u></u><u></u></p></div><div><p class="MsoNormal">connection to the node, or possibly an internal failure of<u></u><u></u></p></div><div><p class="MsoNormal">the daemon itself. We cannot recover from this failure, and<u></u><u></u></p></div><div><p class="MsoNormal">therefore will terminate the job.<u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">--------------------------------------------------------------------------<u></u><u></u></p></div></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">My applications are fault tolerant and the jobs usually takes weeks to finish. Sometimes a hardware problem occurs with one node, for example, the node shutdown. I don&#39;t want mpi to terminate the job, my jobs usually have hundreds of nodes and I don&#39;t care if 1 node lost communication.<u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">It&#39;s possible to change this behavior of openmpi? I tried to set orte_abort_on_non_zero_status to 0 but it didn&#39;t work. <u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">Thanks for your help.<u></u><u></u></p></div><div><p class="MsoNormal"><u></u> <u></u></p></div><div><p class="MsoNormal">Regards,<u></u><u></u></p></div><div><p class="MsoNormal">Guilherme.<u></u><u></u></p></div></div></div></div></div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29214.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29214.php</a><br></blockquote></div><br></div>

