<html><body><div style="color:#000; background-color:#fff; font-family:times new roman, new york, times, serif;font-size:12pt"><div><span>It seems that the problem is solved.</span></div><div><br><span></span></div><div><span>Actually, when I replaced "use mpi" by "include "mipf.h".</span></div><div><span>And adding -lmpi -lmpi90, everything works.&nbsp;</span></div><div><br><span></span></div><div><span>I think you need these two "</span><span>-lmpi -lmpi90" when you have Blas or LAPACK libraries.</span></div><div><br><span></span></div><div><span>Regards,</span></div><div><span>Ali<br></span></div><div><br></div>  <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font size="2" face="Arial"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Jeff Squyres &lt;jsquyres@cisco.com&gt;<br> <b><span
 style="font-weight: bold;">To:</span></b> Mohamad Ali Rostami &lt;ma.rostami@yahoo.com&gt; <br><b><span style="font-weight: bold;">Cc:</span></b> Open MPI Users &lt;users@open-mpi.org&gt; <br> <b><span style="font-weight: bold;">Sent:</span></b> Wednesday, June 27, 2012 6:45 PM<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] MPI Problem<br> </font> </div> <br>
Did you verify that the exact same mpif77 / mpif90 is being invoked from within your Makefile as is invoked when you do it manually at a shell prompt?<br><br><br>On Jun 27, 2012, at 3:36 AM, Mohamad Ali Rostami wrote:<br><br>&gt; Something strange,<br>&gt; <br>&gt; By adding all the libraries which I found from mpif90/mpif77 --showme,<br>&gt; Fortran 77 version worked finally,<br>&gt; but Fortran 90 version still has the problem.<br>&gt; <br>&gt; Error: There is no specific subroutine for the generic 'mpi_init' at (1)<br>&gt; <br>&gt; any idea??<br>&gt; <br>&gt; From: Jeff Squyres &lt;<a ymailto="mailto:jsquyres@cisco.com" href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt;<br>&gt; To: Mohamad Ali Rostami &lt;<a ymailto="mailto:ma.rostami@yahoo.com" href="mailto:ma.rostami@yahoo.com">ma.rostami@yahoo.com</a>&gt; <br>&gt; Cc: Open MPI Users &lt;<a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a>&gt;
 <br>&gt; Sent: Monday, June 25, 2012 10:22 PM<br>&gt; Subject: Re: [OMPI users] MPI Problem<br>&gt; <br>&gt; On Jun 25, 2012, at 3:59 PM, Mohamad Ali Rostami wrote:<br>&gt; <br>&gt; &gt; &gt;&nbsp; &nbsp; mpif90 my_application.f90 -o my_application<br>&gt; &gt; <br>&gt; &gt; Yes, as I told you out of make file, it works.<br>&gt; &gt; The problem is something strange in the make file.<br>&gt; <br>&gt; I'm sorry; I must have mis-parsed your issue, then.&nbsp; So just to make sure I understand:<br>&gt; <br>&gt; shell$ mpif90 my_application.f90 -o my_application<br>&gt; <br>&gt; Works fine, but:<br>&gt; <br>&gt; shell$ make<br>&gt; ...something that eventually invokes "mpif90 my_application.f90 -o my_application"<br>&gt; <br>&gt; doesn't work.&nbsp; Right?<br>&gt; <br>&gt; If you're invoking the exact same command in both cases (interactive shell and makefile), the *usual* cause of this kind of problem is that the "mpif90" in your Makefile is picking up a
 different mpif90 than the one that is picked up by your shell.&nbsp; Meaning: your PATH has been reset in the sub-process where "make" is executed, and so when make forks off "mpif90", it finds a different one than the one you execute interactively in the shell.<br>&gt; <br>&gt; Check what your path is and/or exactly which mpif90 is getting invoked by your Makefile.<br>&gt; <br>&gt; -- <br>&gt; Jeff Squyres<br>&gt; <a ymailto="mailto:jsquyres@cisco.com" href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a><br>&gt; For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br>&gt; <br>&gt; <br>&gt; <br><br><br>-- <br>Jeff Squyres<br><a ymailto="mailto:jsquyres@cisco.com" href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a><br>For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/"
 target="_blank">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br><br><br><br> </div> </div>  </div></body></html>
