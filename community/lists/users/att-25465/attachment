<div dir="ltr"><span style="font-family:arial,sans-serif;font-size:13px">Hi all, </span><div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">I&#39;m starting with OpenMPI and actually I&#39;m trying to do a simple example of combining OpenMP and OpenMPI The thing is that when I trying to run with &quot;mpirun&quot; it&#39;s getting hanged. </div><div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">I send the number of processors parameter and also I set the OMP_THREADS_NUM</div><div style="font-family:arial,sans-serif;font-size:13px"><div><br></div><div>Above is my code:</div><div><br></div><div><div>#include &quot;omp.h&quot;</div><div>#include &quot;mpi.h&quot; /* Include MPI header file */</div><div><br></div><div>int main(int argc, char **argv){</div><div><br></div><div>  int rnk, sz, n, I, info, i, chunk;</div><div><br></div><div>  double *x, *y, *buff;</div><div><br></div><div>  n = atoi(argv[1]); /* Get input size */</div><div><br></div><div>  /* Initialize threaded MPI environment */</div><div>  MPI_Init_thread(&amp;argc, &amp;argv, MPI_THREAD_FUNNELED, &amp;info);</div><div>  MPI_Comm_size(MPI_COMM_WORLD, &amp;sz); /* Find out how many MPI procs */</div><div><br></div><div>  chunk = n / sz; /* Assume sz divides n exactly */</div><div><br></div><div>  MPI_Scatter(buff,chunk,MPI_DOUBLE,x,chunk,MPI_DOUBLE,0,MPI_COMM_WORLD);</div><div>  MPI_Scatter(&amp;buff[n],chunk,MPI_DOUBLE,y,chunk,MPI_DOUBLE,0,MPI_COMM_WORLD);</div><div><br></div><div>#pragma omp parallel for private(i,chunk) shared(x, y)</div><div>  for (i=0; i&lt;chunk; i++) </div><div>      x[i] = x[i] + y[i];</div><div><br></div><div>  MPI_Gather(x,chunk,MPI_DOUBLE,buff,chunk,MPI_DOUBLE,0,MPI_COMM_WORLD);</div><div>  MPI_Finalize(); </div><div><br></div><div>  return 0;</div><div>}</div></div><div><br></div><div><br></div><div>Thanks, I really appreciate your help.</div><div class=""><div id=":1hv" class="" tabindex="0"><img class="" src="https://ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif"></div></div><span class=""><font color="#888888">-- <br><i style="color:rgb(0,0,0);text-align:-webkit-auto;font-family:arial;font-size:small"><b>Obed Nehemias Muñoz Reynoso</b></i><br style="color:rgb(0,0,0);font-family:arial;text-align:-webkit-auto;font-size:small"><span style="text-align:center;color:rgb(51,51,51);font-family:arial,helvetica,clean,sans-serif;line-height:16px;font-size:10pt"><b>B.Sc. in Computer Sciences</b></span></font></span></div>
</div>

