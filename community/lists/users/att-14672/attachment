<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Tahoma
}
--></style>
</head>
<body class='hmmessage'>
<div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">thanks</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">I use&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">double* recvArray &nbsp;= new double[buffersize];</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">The receive buffer size&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">MPI::COMM_WORLD.Recv(&amp;(recvDataArray[0]), xVSize, MPI_DOUBLE, 0, mytaskTag);</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">delete [] recvArray &nbsp;;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">In first iteration, the receiver works well.</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">But, in second iteration ,&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">I got the&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">MPI_ERR_TRUNCATE: message truncated</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">the buffersize is the same in two iterations.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">ANy help is appreciated.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">thanks</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Nov. 1 2010</span><span class="Apple-style-span" style="font-size: 10pt;">&nbsp;</span></font><br><br><div id="SkyDrivePlaceholder" style="font-family: Tahoma; font-size: 10pt; "></div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Date: Mon, 1 Nov 2010 08:08:08 +0100</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; From: jody.xha@gmail.com</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; To: users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Subject: Re: [OMPI users] message truncated error</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Hi Jack</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Usually MPI_ERR_TRUNCATE means that the buffer you use in MPI_Recv</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; (or MPI::COMM_WORLD.Recv) is too sdmall to hold the message coming in.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Check your code to make sure you assign enough memory to your buffers.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; regards</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Jody</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; On Mon, Nov 1, 2010 at 7:26 AM, Jack Bryan &lt;dtustudy68@hotmail.com&gt; wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; HI,</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; In my MPI program, master send many msaages to another worker with the same</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; tag.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; The worker uses</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; s</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; MPI::COMM_WORLD.Recv(&amp;message_para_to_one_worker, 1,</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; message_para_to_workers_type, 0, downStreamTaskTag);</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; to receive the messages</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; I got error:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; n36:94880] *** An error occurred in MPI_Recv</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] *** on communicator MPI_COMM_WORLD</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] *** MPI_ERR_TRUNCATE: message truncated</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] *** MPI_ERRORS_ARE_FATAL (your MPI job will now abort)</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] *** Process received signal ***</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] Signal: Segmentation fault (11)</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; [n36:94880] Signal code: Address not mapped (1)</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; Is this (the same tag) the reason for the errors ?</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; ANy help is appreciated.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; thanks</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; Jack</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; Oct. 31 2010</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; _______________________________________________</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; users mailing list</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; _______________________________________________</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; users mailing list</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users</span></font><br></div>
 		 	   		  </body>
</html>
