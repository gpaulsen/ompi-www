<div dir="ltr">I&#39;m trying to run this simple code to <div><br><div>***</div><div><div>#include &lt;mpi.h&gt;</div><div><br></div><div>int main(){</div><div>  char port_name[MPI_MAX_PORT_NAME];</div><div>  int provided;</div><div>  int thread_level = MPI_THREAD_MULTIPLE;</div><div>  MPI_Comm inter_comm;</div><div><br></div><div>  MPI_Init_thread(0, 0, thread_level, &amp;provided);</div><div>  MPI_Open_port(MPI_INFO_NULL, port_name);</div><div>  MPI_Comm_accept(port_name, MPI_INFO_NULL, 0, MPI_COMM_SELF, &amp;inter_comm);</div><div><br></div><div>  // Code never reach here.</div><div>  MPI_Comm_disconnect(&amp;inter_comm);</div><div>  MPI_Close_port(port_name);</div><div>  MPI_Finalize();</div><div>  return 0;</div><div>}</div></div><div><br></div><div>***</div><div><br></div><div>The code is run with the following command.</div><div>***</div><div>&gt; mpic++ server.cc</div><div>&gt; mpiexec -mp ./a.out</div><div>***</div><div><br></div><div>Unfortunately it is crashed immediately after start with the following error message.</div><div><div>****</div><div>$ mpiexec -np 1 ./a.out</div><div><div>[myhost:32527] OPAL ERROR: Timeout in file base/pmix_base_fns.c at line 195</div><div>[myhost:32527] *** An error occurred in MPI_Comm_accept</div><div>[myhost:32527] *** reported by process [776667137,0]</div><div>[myhost:32527] *** on communicator MPI_COMM_SELF</div><div>[myhost:32527] *** MPI_ERR_UNKNOWN: unknown error</div><div>[myhost:32527] *** MPI_ERRORS_ARE_FATAL (processes in this communicator will now abort,</div><div>[myhost:32527] ***    and potentially your MPI job)</div></div></div><div>***</div><div>The code works just find on previous versions of open-mpi (1.10.x, 1.8.x) and (MPICH).</div><div><br></div><div>I&#39;ve compile the open-mpi myself with both default configuration and the following:</div><div>***</div><div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px">&gt; ./configure --enable-mpi-thread-multiple</span><br></div><div>***</div><div><br></div><div>Any suggestion?</div></div></div>

