<div dir="ltr"><div><div><div><div><div><div><div><div><div><div><div><div><div>Hello all<br><br></div>I am trying to set a breakpoint during the modex exchange process so I can see the data being passed for different transport type. I assume that this is being done in the context of orted since this is part of process launch.<br><br></div>Here is what I did: (All of this pertains to the master branch and NOT the 1.10 release)<br><br></div>1. BuiltÂ  and installed OpenMPI like this: (on two nodes)<br></div>./configure --enable-debug --enable-debug-symbols --disable-dlopen &amp;&amp; make &amp;&amp; sudo make install<br><br></div>2. Compiled a tiny hello-world MPI program, mpitest (on both nodes)<br><br></div>3. Since the modex exchange is a macro now, (it used to be a function call before), I have to put the breakpoint inside a line of code in the macro; I chose the function mca_base_component_to_string(). I hoped that choosing --enable-debug-symbols and --disable-dlopen will make this function visible, but may be I am wrong. Do I need to explicitly add a DLSPEC to libtools?<br><br></div>4. I launched gdb like this:<br></div>gdb mpirun<br></div>set args -np 2 -H bigMPI,smallMPI -mca btl tcp,self ./mpitest<br></div>b mca_base_component_to_string<br></div>run<br><br></div>This told me that the breakpoint is not present in the executable and gdb will try to load a shared object if needed; I chose &#39;yes&#39;.<br></div>However, the breakpoint never triggers and the program runs to completion and exits.<br><div><div><div><div><div><div><div><br></div><div>I have two requests:<br></div><div>1. Please help me understand what I am doing wrong.<br></div><div>2. Is there a (perhaps a sequence of) switch to &#39;configure&#39; that will create the most debuggable image, while throwing all performance optimization out of the window? This would be a great thing for a developer.<br><br></div><div>Thank you<br></div><div>Durga<br></div><div><br clear="all"><div><div><div><div><div><div><div><div><div><div><div><div class="gmail_signature"><div dir="ltr"><div>We learn from history that we never learn from history.<br></div></div></div></div>
</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>

