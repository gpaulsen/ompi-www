<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Looks like there is some strange interaction there, &nbsp;but I doubt I'll get around to fixing it soon unless someone has a burning reason to not use tree spawn when preloading binaries. I'll mark it down as something to look at as time permits.<div><br></div><div><br><div><div>On Jun 6, 2014, at 4:28 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><meta http-equiv="Content-Type" content="text/html charset=us-ascii"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Don't know - I haven't seen someone use that option in awhile. Is there some reason to do so?<div><br><div style=""><div>On Jun 6, 2014, at 3:44 PM, E.O. &lt;<a href="mailto:ooyama.eiichi@gmail.com">ooyama.eiichi@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr"><div><div>Thank you!<br>With the patch, --preload-binary option is working fine.<br>However, if I add "--gmca plm_rsh_no_tree_spawn 1" as a mpirun command line option, it hangs.<br><br># /mpi/bin/mpirun --allow-run-as-root --gmca plm_rsh_no_tree_spawn 1 --preload-binary --hostfile /root/.hosts --prefix /mpi --np 120 a.out<br>
<br></div>If I ran the command without --preload-binary, it works fine (have to copy the binary to each node beforehand of course). I guess this is a different issue?<br><br></div><div>Eiichi<br><br></div><div><br></div>eiichi<br>
<br></div><div class="gmail_extra"><br><br><div class="gmail_quote">On Fri, Jun 6, 2014 at 5:35 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Okay, I found the problem and think I have a fix that I posted (copied EO on it). You are welcome to download the patch and try it. Scheduled for release in 1.8.2<div>
<br></div><div>Thanks</div><span class="HOEnZb"><font color="#888888">Ralph</font></span><div><div class="h5"><div><br></div><div><br><div><div>On Jun 6, 2014, at 1:01 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt; wrote:</div>
<br><blockquote type="cite"><div style="word-wrap:break-word">Yeah, it doesn't require ssh any more - but I haven't tested it in a bit, and so it's possible something crept in there.<div><br><div><div>On Jun 6, 2014, at 12:27 PM, Reuti &lt;<a href="mailto:reuti@staff.uni-marburg.de" target="_blank">reuti@staff.uni-marburg.de</a>&gt; wrote:</div>
<br><blockquote type="cite"><div style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px">
Am 06.06.2014 um 21:04 schrieb Ralph Castain:<br><br><blockquote type="cite">Supposed to, yes - but I don't know how much testing it has seen. I can try to take a look<br></blockquote><br>Wasn't it on the list recently, that 1.8.1 should do it even without passphraseless SSH between the nodes?<br>
<br>-- Reuti<br><br><br><blockquote type="cite">On Jun 6, 2014, at 12:02 PM, E.O. &lt;<a href="mailto:ooyama.eiichi@gmail.com" target="_blank">ooyama.eiichi@gmail.com</a>&gt; wrote:<br><br><blockquote type="cite">Hello<br>
I am using OpenMPI ver 1.8.1 on a cluster of 4 machines.<br>One Redhat 6.2 and three busybox machine. They are all 64bit environment.<br><br>I want to use --preload-binary option to send the binary file to hosts but it's not working.<br>
<br># /mpi/bin/mpirun --prefix /mpi --preload-files ./a.out --allow-run-as-root --np 4 --host box0101,box0103 --preload-binary ./a.out<br>--------------------------------------------------------------------------<br>mpirun was unable to launch the specified application as it could not access<br>
or execute an executable:<br><br>Executable: ./a.out<br>Node: box0101<br><br>while attempting to start process rank 17.<br>--------------------------------------------------------------------------<br>17 total processes failed to start<br>
#<br><br>If I sent the binary by SCP beforehand, the command works fine. SCP is working fine without password between the hosts.<br>Is the option supposed to work?<br>Thank you,<br><br>Eiichi<br><br>_______________________________________________<br>
users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
</blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
</blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div>
</blockquote></div><br></div></div></blockquote></div><br></div></div></div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br></div>
_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote></div><br></div></div></blockquote></div><br></div></body></html>
