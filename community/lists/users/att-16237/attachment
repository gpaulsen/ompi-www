<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Tahoma
}
--></style>
</head>
<body class='hmmessage'>
<div><font class="Apple-style-span" face="Tahoma" size="2">Hi,&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I find the reason why the program is killed by operating system in&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">the case that the problem size is large.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">It consumes more memory and leads to more memory swap.&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">This also degrade the program performance.&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">But, I cannot determine which function of the worker process&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">causes the problem.&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I have used try-catch in my code but no exception popped out.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I found that&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">-------------------------------------------------------------------</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">When the processes running on your server attempt to allocate more&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">memory than your system has available, the kernel begins to swap&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">memory pages to and from the disk.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">This is done in order to free up sufficient physical memory to meet&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">the RAM allocation requirements of the requestor.</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">------------------------------------------------------------------</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">I am not sure it is really caused by CPLEX ( an optimization model solver)&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2">or other routines or&nbsp;</font><span class="Apple-style-span" style="font-family: Tahoma; font-size: 10pt; ">maybe by other dynamic memory allocation used by&nbsp;</span></div><div><span class="Apple-style-span" style="font-family: Tahoma; font-size: 10pt; ">CPLEX API libray&nbsp;</span><span class="Apple-style-span" style="font-family: Tahoma; font-size: 10pt; ">at background.&nbsp;</span></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">Any help is really appreciated.&nbsp;</font></div><div><font class="Apple-style-span" face="Tahoma" size="2"><br></font></div><div><font class="Apple-style-span" face="Tahoma" size="2">Jack</font></div><br><div id="SkyDrivePlaceholder" style="font-family: Tahoma; font-size: 10pt; "></div><hr id="stopSpelling" style="font-family: Tahoma; font-size: 10pt; "><font class="Apple-style-span" face="Tahoma" size="2">From: rhc@open-mpi.org</font><br><font class="Apple-style-span" face="Tahoma" size="2">Date: Wed, 13 Apr 2011 10:34:38 -0600</font><br><font class="Apple-style-span" face="Tahoma" size="2">To: users@open-mpi.org</font><br><font class="Apple-style-span" face="Tahoma" size="2">Subject: Re: [OMPI users] OMPI monitor each process behavior</font><br><br>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<meta name="Generator" content="Microsoft SafeHTML"><font class="Apple-style-span" face="Tahoma" size="2"><base></font><br><div style="font-family: Tahoma; font-size: 10pt; "><div>On Apr 13, 2011, at 10:19 AM, Jack Bryan wrote:</div><br class="ecxApple-interchange-newline"><blockquote><span class="ecxApple-style-span" style="border-collapse:separate;font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size:medium"><div class="ecxhmmessage" style="font-size:10pt;font-family:Tahoma"><font class="ecxApple-style-span" face="Tahoma" size="2"><div><font class="ecxApple-style-span" face="Tahoma" size="2">Hi, &nbsp;I am using&nbsp;</font></div><div><font class="ecxApple-style-span" face="Tahoma" size="2"><br></font></div>mpirun (Open MPI) 1.3.4</font><br><br><div>But, I have these,&nbsp;<div><br></div><div>orte-clean &nbsp;orted &nbsp; &nbsp; &nbsp; orte-iof &nbsp; &nbsp;orte-ps &nbsp; &nbsp; orterun</div><div><br></div><div>Can they do the same thing ?&nbsp;</div></div></div></span></blockquote><div><br></div>Unfortunately, no</div><div style="font-family: Tahoma; font-size: 10pt; "><br><blockquote><span class="ecxApple-style-span" style="border-collapse:separate;font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size:medium"><div class="ecxhmmessage" style="font-size:10pt;font-family:Tahoma"><div><div><br></div><div>If I use them, will they use a lot of memory on each worker node and print out a lot of things on some log files ?</div></div></div></span></blockquote><div><br></div>No, but they won't help. orte-top would be run only on the head node (i.e., where you are logged in), and would generate output to your screen.</div><div style="font-family: Tahoma; font-size: 10pt; "><br></div><div style="font-family: Tahoma; font-size: 10pt; ">But you don't have it with that release, so the point is moot. Afraid there isn't much else you can do - you might talk to your sys admin and see what tools are available on your cluster for this purpose. Perhaps a nice parallel debugger is available?</div><div style="font-family: Tahoma; font-size: 10pt; "><br></div><div style="font-family: Tahoma; font-size: 10pt; "><br><blockquote><span class="ecxApple-style-span" style="border-collapse:separate;font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size:medium"><div class="ecxhmmessage" style="font-size:10pt;font-family:Tahoma"><div><div><br></div><div>Any help is really appreciated.&nbsp;</div><div><br></div><div>Thanks</div><div><br></div><div>Jack&nbsp;</div><div><br><div id="ecxSkyDrivePlaceholder" style="font-family:Tahoma;font-size:10pt"></div><hr id="ecxstopSpelling" style="font-family:Tahoma;font-size:10pt"><font class="ecxApple-style-span" face="Tahoma" size="2">From:<span class="ecxApple-converted-space">&nbsp;</span><a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a></font><br><font class="ecxApple-style-span" face="Tahoma" size="2">Date: Wed, 13 Apr 2011 08:09:17 -0600</font><br><font class="ecxApple-style-span" face="Tahoma" size="2">To:<span class="ecxApple-converted-space">&nbsp;</span><a href="mailto:users@open-mpi.org">users@open-mpi.org</a></font><br><font class="ecxApple-style-span" face="Tahoma" size="2">Subject: Re: [OMPI users] OMPI monitor each process behavior</font><br><br><font class="ecxApple-style-span" face="Tahoma" size="2">What version are you using? If you are using 1.5.x, there is an "orte-top" command that will do what you ask. It queries the daemons to get the info.</font><div style="font-family:Tahoma;font-size:10pt"><br></div><div style="font-family:Tahoma;font-size:10pt"><br><div><div>On Apr 12, 2011, at 9:55 PM, Jack Bryan wrote:</div><br class="ecxApple-interchange-newline"><blockquote><span class="ecxApple-style-span" style="border-collapse:separate;font-family:Helvetica;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;font-size:medium"><div class="ecxhmmessage" style="font-size:10pt;font-family:Tahoma">Hi , All:&nbsp;<div><br></div><div>I need to monitor the memory usage of each parallel process on a linux Open MPI cluster.&nbsp;</div><div><br></div><div>But, top, ps command cannot help here because they only show the head node information.&nbsp;</div><div><br></div><div>I need to follow the behavior of each process on each cluster node.</div><div><br></div><div>I cannot use ssh to access each node.&nbsp;</div><div><br></div><div>The program takes 8 hours to finish.&nbsp;</div><div><br></div><div>Any help is really appreciated.&nbsp;</div><div><br></div><div>Jack&nbsp;</div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div></span></blockquote></div><br></div><br><font class="ecxApple-style-span" face="Tahoma" size="2">_______________________________________________ users mailing list<span class="ecxApple-converted-space">&nbsp;</span><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><span class="ecxApple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></font></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div></span></blockquote></div><br><br><font class="Apple-style-span" face="Tahoma" size="2">_______________________________________________
users mailing list
users@open-mpi.org
http://www.open-mpi.org/mailman/listinfo.cgi/users</font> 		 	   		  </body>
</html>
