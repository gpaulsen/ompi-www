the limit could come from the JVM.<div>iirc, you have to add extra flags to the java command line so the JVM can allocate more memory.</div><div>java -Xmx=... </div><div>or something like that (and that could be JVM dependent)</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles<br><br>On Thursday, January 21, 2016, Saliya Ekanayake &lt;<a href="mailto:esaliya@gmail.com">esaliya@gmail.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi Ibrahim,<div><br></div><div>This is most likely due to a ulimit setting. Check with <b>ulimit -a</b> and set <b>ulimit -n unlimited</b> and <b>ulimit -l unlimited</b>. </div><div><br></div><div>I&#39;ve experienced the same problem in the past and this was the reason.</div><div><br></div><div>Hope this helps</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Jan 20, 2016 at 9:49 AM, Ibrahim Ikhlawi <span dir="ltr">&lt;<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;ibrahim_22s@hotmail.com&#39;);" target="_blank">ibrahim_22s@hotmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">


<div><div dir="ltr"><br><br>Hi Howard,<br><br>I use 64bit JVM. The problem is not in the code, because I am still getting the same error when I run the Hello.java from examples folder.<br>Any other suggestion?<br><br>Ibrahim <br><br><div><hr>Date: Tue, 19 Jan 2016 09:48:24 -0700<br>From: <a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;hppritcha@gmail.com&#39;);" target="_blank">hppritcha@gmail.com</a><br>To: <a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;users@open-mpi.org&#39;);" target="_blank">users@open-mpi.org</a><br>Subject: Re: [OMPI users] How to allocate more memory to java OpenMPI<div><div><br><br><div dir="ltr">HI Ibrahim,<div><br></div><div>Are you using a 32bit or 64bit JVM?</div><div><br></div><div>I don&#39;t think this is an Open MPI issue, but likely something owing to your app or your java setup.</div><div>You may want to checkout </div><div><br></div><div><a href="http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html" target="_blank">http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html</a><br></div><div><br></div><div>If you&#39;d like to post the java code to the list, I can try it out on some of the servers I use.</div><div><br></div><div>Howard</div><div><br></div></div><div><br><div>2016-01-19 8:03 GMT-07:00 Ibrahim Ikhlawi <span dir="ltr">&lt;<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;ibrahim_22s@hotmail.com&#39;);" target="_blank">ibrahim_22s@hotmail.com</a>&gt;</span>:<br><blockquote style="border-left:1px #ccc solid;padding-left:1ex">


<div><div dir="ltr"><br>Hallo,<br><br>I&#39;m working with  java OpenMPI on a server with 64GB memory. But when I run the java class I can only run it on until 15 processes (with this command: mpirun -np 15 java Multiplikation). Although there is 64GB memory, only about 3 GB will be used(with top command can I see that, the first two lines are below). When I run more than 15 processes I get this error:<br><br><font face="Courier New,sans-serif">Error occurred during initialization of VM</font><font face="Courier New,sans-serif"><br></font><font face="Courier New,sans-serif">java.lang.OutOfMemoryError: unable to create new native thread<br><br><br></font><font face="Courier New,sans-serif"><font face="Calibri,sans-serif">But I want to run it on more than 15 processes and use more than 3 GB. In Addition, after searching in google I have tried to run it with this command:<br><br><font face="Courier New,sans-serif"></font><font face="Courier New,sans-serif">mpirun -np 20 java -Xmx2096M -Xms1048M Multiplikation</font><br><br>but I still ge</font><font face="Calibri,sans-serif">t</font><font face="Calibri,sans-serif"> the same error.<br><br>My question: How can I allocate java more memory, so that I run my program with more than 15 processes and more than 3GB memory?<br><br>thanks in advance <br>Ibrahim<br><br></font></font><font face="Courier New,sans-serif"></font>PS:<br>It may help, these are the first two lines from the top command:<br><br>PID       PRI      VIRT    RES    SHR   S  CPU%  MEM%<br>23255   20   0 20.7G  103M 11916 S  2.0       0.2  0:52.14 java <br>23559   20   0 20.7G 33772 11916 S  1.0       0.1  0:50.82 java <br><br><br><br><br><br><br><br><br><br><br><br><br> 		 	   		  </div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;users@open-mpi.org&#39;);" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/01/28301.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/01/28301.php</a><br></blockquote></div><br></div>
<br></div></div>_______________________________________________
users mailing list
<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;users@open-mpi.org&#39;);" target="_blank">users@open-mpi.org</a>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/01/28302.php" target="_blank">http://www.open-mpi.org/community/lists/users/2016/01/28302.php</a></div> 		 	   		  </div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;users@open-mpi.org&#39;);" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/01/28308.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/01/28308.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><div dir="ltr"><div><div dir="ltr"><span style="color:rgb(136,136,136)">Saliya Ekanayake</span></div><div dir="ltr">Ph.D. Candidate | Research Assistant</div><div dir="ltr">School of Informatics and Computing | Digital Science Center</div><div dir="ltr">Indiana University, Bloomington<br><span style="color:rgb(136,136,136)">Cell 812-391-4914</span><br style="color:rgb(136,136,136)"><font color="#888888"><a href="http://saliya.org" target="_blank">http://saliya.org</a></font></div></div></div></div></div></div>
</div>
</blockquote></div>

