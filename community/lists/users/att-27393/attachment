<div dir="ltr">Sanity checks pass. Both Hello and Ring.java run correctly with the expected program&#39;s output.<div><br></div><div>Does MPI.init(args) expect anything from those command-line args? </div><div><br></div><div><br></div><div>Nate</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Aug 4, 2015 at 12:26 PM, Howard Pritchard <span dir="ltr">&lt;<a href="mailto:hppritcha@gmail.com" target="_blank">hppritcha@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hello Nate,<div><br></div><div>As a sanity check of your installation, could you try to compile the examples/*.java codes using the mpijavac you&#39;ve installed and see that those run correctly?</div><div>I&#39;d be just interested in the Hello.java and Ring.java?</div><div><br></div><div>Howard</div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div class="h5">2015-08-04 14:34 GMT-06:00 Nate Chambers <span dir="ltr">&lt;<a href="mailto:nchamber@usna.edu" target="_blank">nchamber@usna.edu</a>&gt;</span>:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr">Sure, I reran the configure with CC=gcc and then make install. I think that&#39;s the proper way to do it. Attached is my config log. The behavior when running our code appears to be the same. The output is the same error I pasted in my email above. It occurs when calling MPI.init().<div><div><br></div><div>I&#39;m not great at debugging this sort of stuff, but happy to try things out if you need me to.</div><div><br></div><div>Nate</div></div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Aug 4, 2015 at 5:09 AM, Howard Pritchard <span dir="ltr">&lt;<a href="mailto:hppritcha@gmail.com" target="_blank">hppritcha@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hello Nate,<div><br></div><div>As a first step to addressing this, could you please try using gcc rather than the Intel compilers to build Open MPI?</div><div><br></div><div>We&#39;ve been doing a lot of work recently on the java bindings, etc. but have never tried using any compilers other</div><div>than gcc when working with the java bindings.</div><div><br></div><div>Thanks,</div><div><br></div><div>Howard</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div>2015-08-03 17:36 GMT-06:00 Nate Chambers <span dir="ltr">&lt;<a href="mailto:nchamber@usna.edu" target="_blank">nchamber@usna.edu</a>&gt;</span>:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr"><div>We&#39;ve been struggling with this error for a while, so hoping someone more knowledgeable can help!</div><div><br></div><div>Our java MPI code exits with a segfault during its normal operation, <b>but the segfault occurs before our code ever uses MPI functionality like sending/receiving. </b>We&#39;ve removed all message calls and any use of MPI.COMM_WORLD from the code. The segfault occurs if we call MPI.init(args) in our code, and does not if we comment that line out. Further vexing us, the crash doesn&#39;t happen at the point of the MPI.init call, but later on in the program. I don&#39;t have an easy-to-run example here because our non-MPI code is so large and complicated. We have run simpler test programs with MPI and the segfault does not occur.</div><div><br></div><div>We have isolated the line where the segfault occurs. However, if we comment that out, the program will run longer, but then randomly (but deterministically) segfault later on in the code. Does anyone have tips on how to debug this? We have tried several flags with mpirun, but no good clues.</div><div><br></div><div>We have also tried several MPI versions, including stable 1.8.7 and the most recent 1.8.8rc1</div><div><br></div><div><br></div><div>ATTACHED</div><div>- config.log from installation</div><div>- output from `ompi_info -all`</div><div><br></div><div><br></div><div>OUTPUT FROM RUNNING</div><div><br></div><div><div>&gt; mpirun -np 2 java -mx4g FeaturizeDay datadir/ days.txt </div><div>...<br></div><div>some normal output from our code</div><div>...</div><div>--------------------------------------------------------------------------</div><div>mpirun noticed that process rank 0 with PID 29646 on node r9n69 exited on signal 11 (Segmentation fault).</div><div>--------------------------------------------------------------------------</div></div><div><br></div><div><br></div><div><br></div></div>
<br></div></div><span>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/08/27386.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2015/08/27386.php</a><br></span></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/08/27389.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2015/08/27389.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/08/27391.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2015/08/27391.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/08/27392.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2015/08/27392.php</a><br></blockquote></div><br></div>

