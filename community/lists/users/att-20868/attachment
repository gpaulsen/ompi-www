<div style="line-height:1.7;color:#000000;font-size:14px;font-family:arial">Hi all,&nbsp;<div><br></div><div>I have a MPI_Isend/MPI_Recv problem in &nbsp;a multi-thread program.&nbsp;</div><div><br></div><div>In the program:</div><div><b>&nbsp; &nbsp; The first machine</b>&nbsp;has one thread does some computation and call&nbsp;<b>MPI_Isend&nbsp;</b>to send buffer to the second machine, and another thread is always trying to<b>MPI_Recv</b>&nbsp;data from the second machine. And the first thread will&nbsp;<b>MPI_Wait&nbsp;</b>its last&nbsp;<b>MPI_Isend&nbsp;</b>to complete before call&nbsp;<b>MPI_Isend&nbsp;</b>again.</div><div><b>&nbsp; &nbsp; The second machine</b>&nbsp;does the exact same thing.</div><div><br></div><div>Then I got the result that :&nbsp;</div><div><b>The first machine</b>:&nbsp;</div><div>&nbsp; &nbsp; Thread<b>&nbsp;0</b>&nbsp;:&nbsp;<b>MPI_Isend&nbsp;</b>data to&nbsp;<b>the second machine</b>&nbsp;successfully. but blocked in&nbsp;<b>MPI_Wait&nbsp;</b>because last&nbsp;<b>MPI_Isend&nbsp;</b>did not complete.&nbsp;</div><div>&nbsp; &nbsp; Thread<b>&nbsp;1</b>&nbsp;: try to&nbsp;<b>MPI_Recv</b>&nbsp;data from<b>&nbsp;the second machine</b>, but no data and it blocked.&nbsp;</div><div><b>The second machine</b>:&nbsp;</div><div>&nbsp; &nbsp; Thread<b>&nbsp;0</b>&nbsp;:&nbsp;<b>MPI_Isend&nbsp;</b>data to the first machine successfully. but blocked in&nbsp;<b>MPI_Wait&nbsp;</b>because last&nbsp;<b>MPI_Isend&nbsp;</b>did not complete.&nbsp;</div><div>&nbsp; &nbsp; Thread<b>&nbsp;1</b>&nbsp;: try to&nbsp;<b>MPI_Recv</b>&nbsp;data from&nbsp;<b>the first machine</b>, but no data and it blocked.&nbsp;</div><div><br></div><div>Does anyone have any ideas? &nbsp; I&nbsp;appreciated it very much, because I have tracked the problem for two days but no progress.&nbsp;</div><div><br></div><div>Eason Zhao&nbsp;</div></div><br><br><span title="neteasefooter"><span id="netease_mail_footer"></span></span>
