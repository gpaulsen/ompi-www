<div dir="ltr">Ryan,<div><br></div><div>What you witness in your execution is that your execution over 2 processes drifted by 49 iterations. Because your example avoid any synchronization call, your processes are not synchronized and therefore any output (in increment of quatum) is correct. As Gilles suggested, enabling the shmem_barrier before the printf will guarantee that all processes are at the same spot, thus all remote (and local) AMO are completed, and therefore the result will be the expected value.</div><div><br></div><div>  George.</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Apr 20, 2016 at 1:33 PM, Gilles Gouaillardet <span dir="ltr">&lt;<a href="mailto:gilles.gouaillardet@gmail.com" target="_blank">gilles.gouaillardet@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Ryan,<div><br></div><div>what if you uncomment the barrier before printf ?</div><div><br></div><div>I can see a scenario in which printf is invoked on rank 0 before all shmem_long_add have started/completed on rank 1</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles</div><div class="HOEnZb"><div class="h5"><div><br>On Wednesday, April 20, 2016, RYAN RAY &lt;<a href="mailto:ryan.ray@rediffmail.com" target="_blank">ryan.ray@rediffmail.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">While executing the code in the file <strong>exp4.c</strong> (Attached) we faced undesired result. This code allows all PEs to <strong>add a &#39;quantum&#39; value to a variable on a particular host</strong>. But in some cases few of these <strong>&#39;quantum&#39; values are lost</strong>. I have attached the file and a screenshot of the output. In the screenshot the last execution is missing 49 quantums. I will be obliged if you could explain to me why this is happenning.<br><br>Regards,<br>Ryan Ray<br><table cellpadding="0" cellspacing="0"><tbody><tr><td><div style="font-family:Arial,Helvetica,sans-serif;font-size:14px">Get your own <span style="padding-bottom:0px;background-color:#cc0000;padding-left:3px;padding-RIGHT:3px;font-family:Arial,Helvetica,sans-serif;color:#ffffff;font-size:12px;padding-top:0px"><b>FREE</b></span> website,  <span style="padding-bottom:0px;background-color:#c00;padding-left:3px;padding-RIGHT:3px;font-family:Arial,Helvetica,sans-serif;color:#ffffff;font-size:12px;padding-top:0px"><b>FREE</b></span> domain &amp; <span style="padding-bottom:0px;background-color:#c00;padding-left:3px;padding-RIGHT:3px;font-family:Arial,Helvetica,sans-serif;color:#ffffff;font-size:12px;padding-top:0px"><b>FREE</b></span> mobile app with Company email.  </div></td><td><a href="http://track.rediff.com/click?url=___http://businessemail.rediff.com?sc_cid=sign-1-10-13___&amp;cmp=host&amp;lnk=sign-1-10-13&amp;nsrv1=host" style="font-family:Arial,Helvetica,sans-serif;color:#fff;font-size:14px;color:#0000cc" target="_blank"><b>Know More &gt;</b></a></td></tr></tbody></table></blockquote></div>
</div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/04/28980.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/04/28980.php</a><br></blockquote></div><br></div>

