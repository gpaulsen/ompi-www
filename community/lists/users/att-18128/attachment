<p class="MsoNormal">Hello,</p><p class="MsoNormal"><br></p>

<p class="MsoNormal">I have run into an issue that appears to be related to
sending messages to multiple processes on a single remote host prior to the
remote processes sending messages to the origin. I have cooked the issue down
to the following:</p><p class="MsoNormal"><br></p>

<p class="MsoNormal"><b><u>Test Environment
of 3 Identical Hosts:</u></b></p>

<p class="MsoListParagraphCxSpFirst" style><span style="font-family:Symbol"><span>·<span style="font:7.0pt &quot;Times New Roman&quot;">         * </span></span></span>Intel i7-2600K, 12GB ram, Intel GB Ethernet,
DLink Switch</p><p class="MsoListParagraphCxSpFirst" style><span style="font-family:Symbol"><span> ·<span style="font:7.0pt &quot;Times New Roman&quot;">       * </span></span></span>Windows 2008R2 x64 with all current updates</p>


<p class="MsoListParagraphCxSpLast" style><span style="font-family:Symbol"><span>·<span style="font:7.0pt &quot;Times New Roman&quot;">         * </span></span></span>OMPI <span> </span>(all
three hosts report the same ompi_info and were installed with the same binary)<br>
<a href="http://www.open-mpi.org/software/ompi/v1.5/downloads/OpenMPI_v1.5.4-1_win64.exe">http://www.open-mpi.org/software/ompi/v1.5/downloads/OpenMPI_v1.5.4-1_win64.exe</a></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;ompi_info -v ompi full
--parsable</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">package:Open MPI
hpcfan@VISCLUSTER26 Distribution</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">ompi:version:full:1.5.4</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">ompi:version:svn:r25060</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">ompi:version:release_date:Aug 18,
2011</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">orte:version:full:1.5.4</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">orte:version:svn:r25060</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">orte:version:release_date:Aug 18,
2011</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">opal:version:full:1.5.4</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">opal:version:svn:r25060</span></p>


<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">opal:version:release_date:Aug 18,
2011</span></p>

<p class="MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">ident:1.5.4</span></p>

<p class="MsoNormal"> </p>

<p class="MsoNormal"><b><u>Test Program:</u></b></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#include</span><span style="font-size:9.0pt;font-family:Consolas"> <span style="color:#a31515">&lt;stdio.h&gt;</span></span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#define</span><span style="font-size:9.0pt;font-family:Consolas">
OMPI_IMPORTS</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#include</span><span style="font-size:9.0pt;font-family:Consolas"> <span style="color:#a31515">&quot;C:\Program Files
(x86)\OpenMPI_v1.5.4-x64\include\mpi.h&quot;</span></span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">int</span><span style="font-size:9.0pt;font-family:Consolas">
main(<span style="color:blue">int</span> argc, <span style="color:blue">char</span>
*argv[])</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas">{</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue"><span>   </span>int</span><span style="font-size:9.0pt;font-family:Consolas"> rank, size, i, msg;</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Init(&amp;argc, &amp;argv);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Comm_size(MPI_COMM_WORLD, &amp;size);</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>printf(<span style="color:#a31515">&quot;Process
%i of %i initialized\n&quot;</span>, rank, size);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span> </span></span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">if</span> (0 ==
rank) {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue"><span>      </span>for</span><span style="font-size:9.0pt;font-family:Consolas"> (i = 1; i &lt; size; i++)
{</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>printf(<span style="color:#a31515">&quot;Process
%i sending %i to %i\n&quot;</span>, rank, i, i);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>MPI_Send(&amp;rank, 1, MPI_INT, i, 0,
MPI_COMM_WORLD); </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span><span style="color:blue">for</span> (i =
1; i &lt; size; i++) {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>MPI_Recv(&amp;msg, 1, MPI_INT,
MPI_ANY_SOURCE, MPI_ANY_TAG, MPI_COMM_WORLD, MPI_STATUS_IGNORE);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>printf(<span style="color:#a31515">&quot;Process
%i received %i\n&quot;</span>, rank, msg);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">else</span> {</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>MPI_Recv(&amp;msg, 1, MPI_INT,
MPI_ANY_SOURCE, MPI_ANY_TAG, MPI_COMM_WORLD, MPI_STATUS_IGNORE);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>printf(<span style="color:#a31515">&quot;Process
%i received %i\n&quot;</span>, rank, msg);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>MPI_Send(&amp;rank, 1, MPI_INT, 0, 0,
MPI_COMM_WORLD);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>printf(<span style="color:#a31515">&quot;Process
%i sent %i to %i\n&quot;</span>, rank, rank, 0);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>printf(<span style="color:#a31515">&quot;Process
%i exiting\n&quot;</span>, rank);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Finalize();</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">return</span> 0;</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas">}</span></p>

<p class="MsoNormal"> </p>

<p class="MsoNormal"><b><u>Test Cases:</u></b></p>

<p class="MsoListParagraphCxSpFirst" style><span style="font-family:Symbol"><span>·<span style="font:7.0pt &quot;Times New Roman&quot;">            </span></span></span>X procs on the originating node: Working</p>

<p class="MsoListParagraphCxSpMiddle" style><span style="font-family:Symbol"><span>·<span style="font:7.0pt &quot;Times New Roman&quot;">            </span></span></span>X procs on the originating node and one proc on
one or more remote nodes: Working</p>

<p class="MsoListParagraphCxSpLast" style><span style="font-family:Symbol"><span>·<span style="font:7.0pt &quot;Times New Roman&quot;">            </span></span></span>X procs on the originating node and more than
one proc on any remote node: <span> </span>Fails</p>

<p class="MsoNormal">A test with two procs on the origin and one on each of two
remote nodes runs, however the same test with the two remote procs on the same
machine fails on the second remote send. Here are some test runs (the ^C
indicates a hang).</p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 2 c:\gdx\distmsg.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [42094,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [42094,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 2
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 2
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 3 c:\gdx\distmsg.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [42014,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [42014,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: chuuk<span>   </span>Num procs: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [42014,1] Process
rank: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to chuuk</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 3
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 3
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 2
to 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 4 c:\gdx\distmsg.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43894,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43894,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: chuuk<span>   </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43894,1] Process
rank: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43894,1] Process
rank: 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to chuuk</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 4
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 4
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 2
to 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 3
to 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">^C</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 4 c:\gdx\distmsg.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43310,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43310,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: chuuk<span>   </span>Num procs: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43310,1] Process
rank: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: kosrae<span>  </span>Num procs: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43310,1] Process
rank: 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to chuuk</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to kosrae</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 4
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 4
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 2
to 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 3
to 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 5 c:\gdx\distmsg.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43590,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43590,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: chuuk<span>   </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43590,1] Process
rank: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43590,1] Process
rank: 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: kosrae<span>  </span>Num procs: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43590,1] Process
rank: 4</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to chuuk</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to kosrae</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 5
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 5
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 2
to 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 3
to 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">^C</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal">The remote process which is the target of the hung send
seems to generate significant ongoing CPU activity and &quot;Other&quot; I/O.</p><p class="MsoNormal"><br></p>

<p class="MsoNormal"><b><u>Workaround</u></b></p>

<p class="MsoNormal">Curiously swapping the send/receive order solves the
problem.</p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#include</span><span style="font-size:9.0pt;font-family:Consolas"> <span style="color:#a31515">&lt;stdio.h&gt;</span></span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#define</span><span style="font-size:9.0pt;font-family:Consolas">
OMPI_IMPORTS</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">#include</span><span style="font-size:9.0pt;font-family:Consolas"> <span style="color:#a31515">&quot;C:\Program Files
(x86)\OpenMPI_v1.5.4-x64\include\mpi.h&quot;</span></span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas;color:blue">int</span><span style="font-size:9.0pt;font-family:Consolas">
main(<span style="color:blue">int</span> argc, <span style="color:blue">char</span>
*argv[])</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas">{</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">int</span> rank,
size, i, msg;</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Init(&amp;argc, &amp;argv);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Comm_rank(MPI_COMM_WORLD, &amp;rank);</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Comm_size(MPI_COMM_WORLD, &amp;size);</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>printf(<span style="color:#a31515">&quot;Process
%i of %i initialized\n&quot;</span>, rank, size);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span> </span></span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">if</span> (0 ==
rank) {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span><span style="color:blue">for</span> (i =
1; i &lt; size; i++) {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>MPI_Recv(&amp;msg, 1, MPI_INT,
MPI_ANY_SOURCE, MPI_ANY_TAG, MPI_COMM_WORLD, MPI_STATUS_IGNORE);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>printf(<span style="color:#a31515">&quot;Process
%i received %i\n&quot;</span>, rank, msg);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span><span style="color:blue">for</span> (i =
1; i &lt; size; i++) {</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>printf(<span style="color:#a31515">&quot;Process
%i sending %i to %i\n&quot;</span>, rank, i, i);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>         </span>MPI_Send(&amp;rank, 1, MPI_INT, i, 0,
MPI_COMM_WORLD); </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">else</span> {</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>MPI_Send(&amp;rank, 1, MPI_INT, 0, 0,
MPI_COMM_WORLD);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>printf(<span style="color:#a31515">&quot;Process
%i sent %i to %i\n&quot;</span>, rank, rank, 0);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>MPI_Recv(&amp;msg, 1, MPI_INT,
MPI_ANY_SOURCE, MPI_ANY_TAG, MPI_COMM_WORLD, MPI_STATUS_IGNORE);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>      </span>printf(<span style="color:#a31515">&quot;Process
%i received %i\n&quot;</span>, rank, msg);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>}</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>printf(<span style="color:#a31515">&quot;Process
%i exiting\n&quot;</span>, rank);</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span>MPI_Finalize();</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas"><span>   </span><span style="color:blue">return</span> 0;</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal;text-autospace:none"><span style="font-size:9.0pt;font-family:Consolas">}</span></p>

<p class="MsoNormal"> </p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">C:\GDX&gt;mpirun -v
-display-map -hostfile mpihosts -np 5 c:\gdx\distmsgb.exe</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>========================<span>   </span>JOB MAP<span>  
</span>========================</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: Yap<span>     </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43126,1] Process
rank: 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43126,1] Process
rank: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: chuuk<span>   </span>Num procs: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43126,1] Process
rank: 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43126,1] Process
rank: 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>Data for node: kosrae<span>  </span>Num procs: 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span>        </span>Process OMPI jobid: [43126,1] Process
rank: 4</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"> </span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas"><span> </span>=============================================================</span></p>


<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to chuuk</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">connecting to kosrae</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">username:administrator</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">password:********</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Save
Credential?(Y/N) n</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 of 5
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 of 5
initialized</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 sent 1 to
0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 4</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 received 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 1
to 1</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 2
to 2</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 3
to 3</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 sending 4
to 4</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 0 exiting</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 received 0</span></p>

<p class="MsoNormal" style="margin-bottom:0in;margin-bottom:.0001pt;line-height:normal"><span style="font-size:9.0pt;font-family:Consolas">Process 1 exiting</span></p>

