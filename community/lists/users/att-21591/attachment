<div><div>&nbsp;I am having a problem on my linux desktop where mpi_init hangs
for approximately 64 seconds if I have my vpn client connected but runs
immediately if I disconnect the vpn. I've picked through the FAQ and Google but
have failed to come up with a solution.<br><br>Some potentially relevant
information: I am using Open MPI 1.4.3 under ubuntu 12.04.1 and Cisco
AnyConnect VPN Client. (I have also downloaded openmpi 1.6.4 and built it from
source but believe it behaves the same way.)<br><br>Some potentially irrelevant
information: I believe SSH tunneling is disabled by the vpn.&nbsp; While the
vpn is connected, ifconfig shows an extra interface (cscotun0 with inet
addr:10.248.17.27 that shows up in the contact.txt
file:<br><br>wt217:~/wrk/mpi&gt; cat
/tmp/openmpi-sessions-dab143@wt217_0/29142/contact.txt<br>1909850112.0;tcp://192.168.1.3:48237;tcp://10.248.17.27:48237<br>22001<br><br>The code is simply<br><br>#include &lt;stdio.h&gt;<br>#include &lt;mpi.h&gt;<br><br>int main(int argc, char** argv)<br>{<br>&nbsp;&nbsp;&nbsp; MPI_Init(&amp;argc, &amp;argv);<br>&nbsp;&nbsp;&nbsp; MPI_Finalize();<br>&nbsp;&nbsp;&nbsp; return 0;<br>}<br><br>I compile it using "mpicc -g mpi_hello.c -o mpi_hello" and execute it using "mpirun -d -v ./mpi_hello". (The problem occurs whether or not I asked for more than one processor.) With verbosity on, I get the following output:<br><br>wt217:~/wrk/mpi&gt; mpirun -d -v ./mpi_hello<br>[wt217:22015] procdir: /tmp/openmpi-sessions-dab143@wt217_0/29144/0/0<br>[wt217:22015] jobdir: /tmp/openmpi-sessions-dab143@wt217_0/29144/0<br>[wt217:22015] top: openmpi-sessions-dab143@wt217_0<br>[wt217:22015] tmp: /tmp<br>[wt217:22015] [[29144,0],0] node[0].name wt217 daemon 0 arch ffc91200<br>[wt217:22015] Info: !
 Setting up debugger process table for applications<br>&nbsp; MPIR_being_debugged = 0<br>&nbsp; MPIR_debug_state = 1<br>&nbsp; MPIR_partial_attach_ok = 1<br>&nbsp; MPIR_i_am_starter = 0<br>&nbsp; MPIR_proctable_size = 1<br>&nbsp; MPIR_proctable:<br>&nbsp;&nbsp;&nbsp; (i, host, exe, pid) = (0, wt217, /home/dab143/wrk/mpi/./mpi_hello, 22016)<br>[wt217:22016] procdir: /tmp/openmpi-sessions-dab143@wt217_0/29144/1/0<br>[wt217:22016] jobdir: /tmp/openmpi-sessions-dab143@wt217_0/29144/1<br>[wt217:22016] top: openmpi-sessions-dab143@wt217_0<br>[wt217:22016] tmp: /tmp<br>&lt;hangs for approximately 64 seconds&gt;<br>[wt217:22016] [[29144,1],0] node[0].name wt217 daemon 0 arch ffc91200<br>[wt217:22016] sess_dir_finalize: proc session dir not empty - leaving<br>[wt217:22015] sess_dir_finalize: proc session dir not empty - leaving<br>[wt217:22015] sess_dir_finalize: job session dir not empty - leaving<br>[wt217:22015] sess_dir_finalize: proc session dir not empty - leaving<br>orterun: e!
 xiting with status 0<br><br>The code hangs for approximately 6!
 4 second
s after the line that reads "tmp: /tmp".<br><br>If I attach gdb to the process during this time, the stack trace (attached) shows that the pause is in __GI___poll in /sysdeps/unix/sysv/linux/poll.c:83.<br><br>If I add "-mca oob_tcp_if_exclude cscotun0", then the corresponding address for that vpn interface no longer shows up in contact.txt, but the problem remains. I also add "-mca btl ^cscotun0 -mca btl_tcp_if_exclude cscotun0" with no effect.<br><br>Any idea what is hanging this up or how I can get more information as to what is going on during the pause? I assume connecting the vpn has caused mpi_init to look for something that isn't available and that eventually times out, but I don't know what.<br><br>Output from ompi_info and the gdb stack trace is attached.<br><br>Thanks,<br>David<br><br></div></div>

