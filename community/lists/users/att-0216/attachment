<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><DIV>Hi,</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I am testing out Open MPI on a Mac running 10.4, using the Apple gnu compilers plus fink-installed g95.  I was running into problems building PETSc using mpif90 as my fortran compiler, so I tried a simple test on a trivial fortran example and got the same results.  Here is what happens:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>mpif90 --show</DIV><DIV>g95 -I/Users/willic3/geoframe/tools/openmpi/include -I/Users/willic3/geoframe/tools/openmpi/include/openmpi/ompi -I /Users/willic3/geoframe/tools/openmpi/lib -Wl,-u,_munmap -Wl,-multiply_defined,suppress -L/Users/willic3/geoframe/tools/openmpi/lib -lmpi_f90 -lmpi -lorte -lopal -lm -ldl </DIV><DIV>284 willic3@rachel&gt;mpif90 -c -o testwrite2.o testwrite2.f</DIV><DIV>285 willic3@rachel&gt;mpif90 -o testwrite2 testwrite2.o</DIV><DIV>286 willic3@rachel&gt;testwrite2</DIV><DIV>dyld: Symbol not found: _pmpi_wtime__</DIV><DIV>  Referenced from: /Users/willic3/geoframe/tools/openmpi/lib/libmpi_f90.0.dylib</DIV><DIV>  Expected in: dynamic lookup</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Trace/BPT trap</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>This is similar to what happens when attempting to run a PETSc example, but in this case there is also a _pmpi_wtick__ missing symbol.  Looking at the Open MPI libraries, I do not find a definition for these symbols, although they are referenced in libmpi_f90.a.  The strange thing is that this problem does not occur using a slightly-modified version of an older g95 package.  The difference between the two packages is that the older one includes libgcc_s.dylib, while the newer version does not have any shared libraries.  The package maintainer informs me that this library should not be necessary for g95.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Does anyone know whether this might be a g95 problem, an Open MPI problem, or something else?</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>System info:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>uname -a</DIV><DIV>Darwin rachel.geo.rpi.edu 8.2.0 Darwin Kernel Version 8.2.0: Fri Jun 24 17:46:54 PDT 2005; root:xnu-792.2.4.obj~3/RELEASE_PPC Power Macintosh powerpc</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>gcc --version</DIV><DIV>powerpc-apple-darwin8-gcc-4.0.0 (GCC) 4.0.0 (Apple Computer, Inc. build 5026)</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>g++ --version</DIV><DIV>powerpc-apple-darwin8-g++-4.0.0 (GCC) 4.0.0 (Apple Computer, Inc. build 5026)</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>g95 --version</DIV><DIV>G95 (GCC 4.0.2 (g95!) Oct  3 2005)</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Thanks,</DIV><DIV>Charles</DIV><DIV><BR class="khtml-block-placeholder"></DIV><BR><DIV> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Charles A. Williams</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Dept. of Earth &amp; Environmental Sciences</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Science Center, 2C01B</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Rensselaer Polytechnic Institute</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Troy, NY<SPAN class="Apple-converted-space">  </SPAN>12180</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Phone:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">    </SPAN></SPAN>(518) 276-3369</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">FAX:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">        </SPAN></SPAN>(518) 276-2012</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">e-mail:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">    </SPAN></SPAN><A href="mailto:willic3@rpi.edu">willic3@rpi.edu</A></FONT></P> <BR class="Apple-interchange-newline"> </DIV><BR></BODY></HTML>
