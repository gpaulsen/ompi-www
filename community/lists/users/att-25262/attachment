<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 12pt;
font-family:Calibri
}
--></style></head>
<body class='hmmessage'><div dir='ltr'>Ray and Gus,<div><br></div><div>Thanks a lot for your help. I followed Gus' steps. I still have the same problem for the compilation (I didnt check the libraries part though!). The executables for quantum espresso work pretty fine. I have got them in espresso-4.0.3/bin:</div><div><div>dynmat.x &nbsp;iotk &nbsp;iotk_print_kinds.x &nbsp;iotk.x &nbsp;matdyn.x &nbsp;ph.x &nbsp;pw.x &nbsp;q2r.x. The problem are the EPW executables and I dont understand why.</div><div><br></div><div>Gus do me a favor: can u send me all the EPW executables that you have produced, in the epw.x? I guess this resolves the problem for the moment.</div><div><br></div><div>Regards</div><div><br></div><div>ELIO</div><br><div>&gt; Date: Wed, 3 Sep 2014 19:45:32 -0400<br>&gt; From: gus@ldeo.columbia.edu<br>&gt; To: users@open-mpi.org<br>&gt; Subject: Re: [OMPI users] compilation problem with ifort<br>&gt; <br>&gt; Hi Elio<br>&gt; <br>&gt; For what it is worth, I followed the instructions on<br>&gt; the EPW web site, and the program compiled flawlessly.<br>&gt; Sorry, I don't know how to use/run it,<br>&gt; don't have the time to learn it, and won't even try.<br>&gt; <br>&gt; **<br>&gt; <br>&gt; 1) Environment:<br>&gt; <br>&gt; If your MPI/OpenMPI is not installed in a standard location,<br>&gt; you need to setup these environment variables:<br>&gt; <br>&gt; [bash/sh]<br>&gt; export PATH=/your/openmpi/bin:$PATH<br>&gt; export LD_LIBRARY_PATH=/your/openmpi/lib:$LD_LIBRARY_PATH<br>&gt; <br>&gt; [tcsh/csh]<br>&gt; setenv PATH /your/openmpi/bin:$PATH<br>&gt; setenv LD_LIBRARY_PATH /your/openmpi/lib:$LD_LIBRARY_PATH<br>&gt; <br>&gt; **<br>&gt; <br>&gt; 2) Configuring QE:<br>&gt; <br>&gt; In step 2, I separated the final configure step, to set the compilers to <br>&gt; Intel.<br>&gt; I used OpenMPI compiled with intel, hence I<br>&gt; configured QuantumEspresso with Intel compilers:<br>&gt; <br>&gt; ./configure CC=icc FC=ifort<br>&gt; <br>&gt; NOTE: You may need to use tar zxf ... instead of tar xfz ...<br>&gt; <br>&gt; **<br>&gt; <br>&gt; 3) Untar EPW in the correct location<br>&gt; <br>&gt; Step 3 should be as below.<br>&gt; (You need to untar EPW inside the espresso-4.0.3 directory.<br>&gt; Could this have been the problem for you?):<br>&gt; <br>&gt; <br>&gt; cp EPW-3.0.0.tar.gz espresso-4.0.3/<br>&gt; cd espresso-4.0.3/<br>&gt; tar zxf EPW-3.0.0.tar.gz<br>&gt; <br>&gt; **<br>&gt; <br>&gt; 4) Run make to compile EPW<br>&gt; <br>&gt; The compilation in step 4 takes a while, is long, but works fine,<br>&gt; and produces the epw.x executable as expected.<br>&gt; <br>&gt; **<br>&gt; <br>&gt; 5) Old version issue, perhaps?<br>&gt; <br>&gt; Also, you said you "installed the older version of quantum espresso".<br>&gt; Could this have been the problem (older version)?<br>&gt; Did you try the latest QE (4.0.3), and the latest EPW (3.0.0),<br>&gt; as per the recipe on the EPW web site?<br>&gt; <br>&gt; http://epw.org.uk/Main/DownloadAndInstall<br>&gt; <br>&gt; **<br>&gt; <br>&gt; I hope this helps,<br>&gt; Gus Correa<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On 09/03/2014 06:48 PM, Elio Physics wrote:<br>&gt; &gt; I have already done all of the steps you mentioned. I have installed the<br>&gt; &gt; older version of quantum espresso, configured it and followed all the<br>&gt; &gt; steps on the EPW website when I got that error in the last steo; In fact<br>&gt; &gt; I do have the latest version of quantum espresso but since I work with<br>&gt; &gt; electron phonon and EPW seemed really promising and less time consuming,<br>&gt; &gt; I decided to give it a try.<br>&gt; &gt;<br>&gt; &gt; The reason I have asked my question in this forum because once I had a<br>&gt; &gt; similar "compiler" issue (not the same as this one) and when i asked on<br>&gt; &gt; the Quantum Espresso (QE) website, one of the answers was, this is not<br>&gt; &gt; the right since this is a compiler problem not a QE issue so I was<br>&gt; &gt; really trying to avoid such answers.<br>&gt; &gt;<br>&gt; &gt; Anyhow, I guess you are absolutely right. I will try to e-mail the EPW<br>&gt; &gt; people and explain the situation; after all they should be able to help.<br>&gt; &gt; Thanks for your advice and time.<br>&gt; &gt;<br>&gt; &gt; ELIO MOUJAESS<br>&gt; &gt; University of Rondonia<br>&gt; &gt; Brasil<br>&gt; &gt;<br>&gt; &gt;  &gt; Date: Wed, 3 Sep 2014 18:19:25 -0400<br>&gt; &gt;  &gt; From: gus@ldeo.columbia.edu<br>&gt; &gt;  &gt; To: users@open-mpi.org<br>&gt; &gt;  &gt; Subject: Re: [OMPI users] compilation problem with ifort<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; It is hard to tell why, but the object files (yes a2f.o, etc)<br>&gt; &gt;  &gt; seem not to have been compiled from the corresponding source files<br>&gt; &gt;  &gt; (a2f.f90 or similar).<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; In general the executable (your epw.x) is compiled only after all<br>&gt; &gt;  &gt; the pre-requisite object files (the .o) and modules (the .mod)<br>&gt; &gt;  &gt; have been compiled already.<br>&gt; &gt;  &gt; In many cases there is not only one Makefile, but a chain/tree of<br>&gt; &gt;  &gt; them, to compile the code in the source directory tree (under src).<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; Also, it is a bit awkward that you don't seem to<br>&gt; &gt;  &gt; have configured anything,<br>&gt; &gt;  &gt; i.e., telling where MPI was installed, etc,<br>&gt; &gt;  &gt; but that may just not be in your email.<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; Phonons is not my league, just trying to help, but afraid I may<br>&gt; &gt;  &gt; not take you in the right direction.<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; Did you do the installation as per the EPW web site? (I just found it):<br>&gt; &gt;  &gt; http://epw.org.uk/Main/DownloadAndInstall<br>&gt; &gt;  &gt; It seems to require QuantumExpresso.<br>&gt; &gt;  &gt; Did you get it, configure it, etc?<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; Do they have a mailing list or bulletin board where you could get<br>&gt; &gt;  &gt; specific help for their software?<br>&gt; &gt;  &gt; (Either on EPW or on QuantumExpresso (which seems to be required):<br>&gt; &gt;  &gt; http://www.quantum-espresso.org/)<br>&gt; &gt;  &gt; That would probably be the right forum to ask your questions.<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; My two cents,<br>&gt; &gt;  &gt; Gus Correa<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; On 09/03/2014 05:51 PM, Elio Physics wrote:<br>&gt; &gt;  &gt; &gt; This was the first error yes. What do you mean other files are missing?<br>&gt; &gt;  &gt; &gt; Do you mean the atom.o, basic_algebra_routines.o.......? Well the f90<br>&gt; &gt;  &gt; &gt; files present in the src subdirectory start from a2f.90<br>&gt; &gt;  &gt; &gt; , allocate_epwq.o,...and so on... I am not also sure why there is that<br>&gt; &gt;  &gt; &gt; slash "\" just before the "a2f.o".... Is there a way to know what is<br>&gt; &gt;  &gt; &gt; going on? I mean what are the first steps?<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt; &gt; Thank you<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt; &gt; ELIO MOUJAES<br>&gt; &gt;  &gt; &gt; Univeristy of Rondonia<br>&gt; &gt;  &gt; &gt; Brazil<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; Date: Wed, 3 Sep 2014 17:43:44 -0400<br>&gt; &gt;  &gt; &gt; &gt; From: gus@ldeo.columbia.edu<br>&gt; &gt;  &gt; &gt; &gt; To: users@open-mpi.org<br>&gt; &gt;  &gt; &gt; &gt; Subject: Re: [OMPI users] compilation problem with ifort<br>&gt; &gt;  &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; Was the error that you listed the *first* error?<br>&gt; &gt;  &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; Apparently various object files are missing from the<br>&gt; &gt;  &gt; &gt; &gt; ../../Modules/ directory, and were not compiled,<br>&gt; &gt;  &gt; &gt; &gt; suggesting something is amiss even before the<br>&gt; &gt;  &gt; &gt; &gt; compilation of the executable (epw.x).<br>&gt; &gt;  &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; On 09/03/2014 05:20 PM, Elio Physics wrote:<br>&gt; &gt;  &gt; &gt; &gt; &gt; Dear all,<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; I am really a beginner in Fortran and Linux. I was trying to<br>&gt; &gt; compile a<br>&gt; &gt;  &gt; &gt; &gt; &gt; software (EPW). Everything was going fine (or maybe this is what I<br>&gt; &gt;  &gt; &gt; think):<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; mpif90 -o epw.x ../../Modules/atom.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/basic_algebra_routines.o ../../Modules/cell_base.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/check_stop.o ../../Modules/clocks.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/constraints_module.o ../../Modules/control_flags.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/descriptors.o ../../Modules/dspev_drv.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/electrons_base.o ../../Modules/error_handler.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/exc_t.o ../../Modules/fft_base.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/fft_parallel.o ../../Modules/fft_scalar.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/fft_types.o ../../Modules/functionals.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/input_parameters.o ../../Modules/io_files.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/io_global.o ../../Modules/ions_base.o<br>&gt; &gt;  &gt; &gt; ../../Modules/kind.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ../../Modules/metagga.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; ..................................................\ a2f.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; allocate_epwq.o bcast_epw_input.o broyden.o close_epw.o<br>&gt; &gt; constants_epw.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; create_mesh.o create_mesh_mp.o createkmap.o dasmio.o<br>&gt; &gt; deallocate_epw.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; deallocate_eliashberg.o distribution.o dmebloch2wan.o<br>&gt; &gt; dmewan2bloch.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; dvanqq2.o dvqpsi_us3.o dvqpsi_us_only3.o dynbloch2wan.o<br>&gt; &gt; dynwan2bloch.o<br>&gt; &gt;  &gt; &gt; &gt; &gt; eliashberg.o<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; Then I get the following error:<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'a2f.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'allocate_epwq.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'bcast_epw_input.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'broyden.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'close_epw.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'constants_epw.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'create_mesh.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'create_mesh_mp.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'createkmap.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dasmio.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'deallocate_epw.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'deallocate_eliashberg.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'distribution.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dmebloch2wan.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dmewan2bloch.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dvanqq2.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dvqpsi_us3.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dvqpsi_us_only3.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dynbloch2wan.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'dynwan2bloch.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'eliashberg.o'<br>&gt; &gt;  &gt; &gt; &gt; &gt; ifort: error #10236: File not found: 'eliashbergcom.<br>&gt; &gt;  &gt; &gt; &gt; &gt; make[1]: *** [epw] Error 1<br>&gt; &gt;  &gt; &gt; &gt; &gt; make[1]: Leaving directory<br>&gt; &gt;  &gt; &gt; &gt; &gt; `/home_cluster/fis718/eliemouj/espresso-4.0.3/EPW-3.0.0/src'<br>&gt; &gt;  &gt; &gt; &gt; &gt; make: *** [epw] Error 2<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; I reckon that there is an error in the Makefile. However the<br>&gt; &gt; Makefile<br>&gt; &gt;  &gt; &gt; &gt; &gt; content is just:<br>&gt; &gt;  &gt; &gt; &gt; &gt; "default: epw<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; all: epw<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; epw:<br>&gt; &gt;  &gt; &gt; &gt; &gt; (cd src ; make )<br>&gt; &gt;  &gt; &gt; &gt; &gt; (cd bin ; ln -fs ../src/epw.x . )<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; clean:<br>&gt; &gt;  &gt; &gt; &gt; &gt; cd src ; rm -f *.o *.mod *.F90 *~<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; release:<br>&gt; &gt;  &gt; &gt; &gt; &gt; cd ../ ; cp -r EPW EPW-release; cd EPW-release ; \<br>&gt; &gt;  &gt; &gt; &gt; &gt; rm -f src/*.o src/*.mod src/*.F90 src/*~ ; \<br>&gt; &gt;  &gt; &gt; &gt; &gt; rm bin/*.x ; \<br>&gt; &gt;  &gt; &gt; &gt; &gt; rm -rf examples/*/epw/out/* examples/*/epw/tmp/* \<br>&gt; &gt;  &gt; &gt; &gt; &gt; examples/*/phonons/out/* examples/*/phonons/tmp/* \<br>&gt; &gt;  &gt; &gt; &gt; &gt; examples/*/phonons/save/* ; \<br>&gt; &gt;  &gt; &gt; &gt; &gt; rm -rf .svn */.svn */*/*.svn */*/*/*.svn */*/*/*/*.svn<br>&gt; &gt;  &gt; &gt; &gt; &gt; cd .. ; tar cfz EPW/EPW-release.tgz EPW-release ; \<br>&gt; &gt;  &gt; &gt; &gt; &gt; rm -rf EPW-release ; cd EPW "<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; Please can anyone help me and guide me how to fix this error<br>&gt; &gt; step by<br>&gt; &gt;  &gt; &gt; &gt; &gt; step as I am no FOrtran or Linux professional<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; Regards<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; ELIO MOUJAES<br>&gt; &gt;  &gt; &gt; &gt; &gt; University of Rondonia<br>&gt; &gt;  &gt; &gt; &gt; &gt; Brazil<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; &gt; _______________________________________________<br>&gt; &gt;  &gt; &gt; &gt; &gt; users mailing list<br>&gt; &gt;  &gt; &gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt;  &gt; &gt; &gt; &gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;  &gt; &gt; &gt; &gt; Link to this post:<br>&gt; &gt;  &gt; &gt; http://www.open-mpi.org/community/lists/users/2014/09/25253.php<br>&gt; &gt;  &gt; &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt;<br>&gt; &gt;  &gt; &gt; &gt; _______________________________________________<br>&gt; &gt;  &gt; &gt; &gt; users mailing list<br>&gt; &gt;  &gt; &gt; &gt; users@open-mpi.org<br>&gt; &gt;  &gt; &gt; &gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;  &gt; &gt; &gt; Link to this post:<br>&gt; &gt;  &gt; &gt; http://www.open-mpi.org/community/lists/users/2014/09/25254.php<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt; &gt; _______________________________________________<br>&gt; &gt;  &gt; &gt; users mailing list<br>&gt; &gt;  &gt; &gt; users@open-mpi.org<br>&gt; &gt;  &gt; &gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;  &gt; &gt; Link to this post:<br>&gt; &gt; http://www.open-mpi.org/community/lists/users/2014/09/25255.php<br>&gt; &gt;  &gt; &gt;<br>&gt; &gt;  &gt;<br>&gt; &gt;  &gt; _______________________________________________<br>&gt; &gt;  &gt; users mailing list<br>&gt; &gt;  &gt; users@open-mpi.org<br>&gt; &gt;  &gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;  &gt; Link to this post:<br>&gt; &gt; http://www.open-mpi.org/community/lists/users/2014/09/25256.php<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; _______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; users@open-mpi.org<br>&gt; &gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt; Link to this post: http://www.open-mpi.org/community/lists/users/2014/09/25257.php<br>&gt; &gt;<br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; users@open-mpi.org<br>&gt; Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; Link to this post: http://www.open-mpi.org/community/lists/users/2014/09/25260.php<br></div></div> 		 	   		  </div></body>
</html>
