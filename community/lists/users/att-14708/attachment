<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Tahoma
}
--></style>
</head>
<body class='hmmessage'>
<div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Thanks,</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">About my MPI program bugs:&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">I used GDB and got the error:</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Program received signal SIGSEGV, Segmentation fault.</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">0: &nbsp;0x0000003a31c62184 in fwrite () from /lib64/libc.so.6</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">also error :</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">1: &nbsp;Program received signal SIGABRT, Aborted.</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">0: &nbsp;I am rank 0, I have sent 4tasks out of total tasks</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">1: &nbsp;0x0000003a31c30265 in raise () from /lib64/libc.so.6</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">It may be caused by a class usage.</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">My program master-worker MPI framework:&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">class CNSGA2</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">{</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">allocate mem for var;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">some deallocate statement;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">some pointers;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">evaluate(); // it is a function</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">}</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">CNSGA2::CNSGA2(){}</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">class newCNSGA2:public CNSGA2{</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">public:</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">newCNSGA2(){cout &lt;&lt; " constructor for newCNSGA2 \n\n" &lt;&lt; endl;};</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">~newCNSGA2(){cout &lt;&lt; " destructor for newCNSGA2 \n\n" &lt;&lt; endl;};</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">};</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">main()</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">{</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">CNSGA2* nsga2a = new CNSGA2(true); // true or false are only for different constructors</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">CNSGA2* nsga2b = new CNSGA2(false);</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">if (myRank == 0) // scope1</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">{</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">initialize the objects of nsga2a or nsga2b;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">			</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">}</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">broadcast some parameters, which are got from scope1.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">According to the parameters, define a datatype (myData) so that all workers use that to do <span class="Apple-tab-span" style="white-space:pre">	</span>recv and send.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">if (myRank == 0) // scope2</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">{</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">send out myData to workers by the datatype defined above;<span class="Apple-tab-span" style="white-space:pre">	</span></span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">}</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">if (myRank != 0)&nbsp;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">{</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">newCNSGA2 myNsga2;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">recv data from master and work on the recved data;&nbsp;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">myNsga2.evaluate(recv data);&nbsp;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">		</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">send back results;</span></font></div><div><span class="Apple-tab-span" style="white-space:pre"><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">	</span></font></span><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">}</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">}</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">If I declear objects (nsga2a nsga2b ) in scope 1 , they cannot be visible in scope2.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">But, actually, the two objects are only used in master not in workers.</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Workers only needs to call &nbsp;evaluate() from the class CNSGA2.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">This is why I used inheritance to define a new class newCNSGA2.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">But, the problem is there some memory allocation and deallocation inside class CNSGA2.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">The new class newCNSGA2 donot need these memory allocation and deallocation.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">If I put the delaration of CNSGA2* nsga2a or CNSGA2* nsga2b in scope1, they are not visible in scope 2.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">I cannot combine the two scopes because the datatype need them to de defined so that all workers can&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">see them and use them to do send and recv.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Any help is appreciated.&nbsp;</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Jack</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;">Nov. 6 2010</span></font></div><div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 16px;"><br></span></font></div><br><div id="SkyDrivePlaceholder" style="font-family: Tahoma; font-size: 10pt; "></div><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Date: Fri, 5 Nov 2010 14:55:32 -0800</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; From: eugene.loh@oracle.com</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; To: users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Subject: Re: [OMPI users] Open MPI data transfer error</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Debugging is not a straightforward task.  Even posting the code doesn't </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; necessarily help (since no one may be motivated to help or they can't </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; reproduce the problem or...).  You'll just have to try different things </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; and see what works for you.  Another option is to trace the MPI calls.  </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; If a process sends a message, dump out the MPI_Send() arguments.  When a </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; receiver receives, correspondingly dump those arguments.  Etc.  This </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; might be a way of seeing what the program is doing in terms of MPI and </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; thereby getting to suggestion B below.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; How do you trace and sort through the resulting data?  That's another </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; tough question.  Among other things, if you can't find a tool that fits </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; your needs, you can use the PMPI layer to write wrappers.  Writing </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; wrappers is like inserting printf() statements, but doesn't quite have </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; the same amount of moral shame associated with it!</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; Prentice Bisbal wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;Choose one</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;A) Post only the relevant sections of the code. If you have syntax</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;error, it should be in the Send and Receive calls, or one of the lines</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;where the data is copied or read from the array/buffer/whatever that</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;you're sending or receiving.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;B) Try reproducing your problem in a toy program that has only enough</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;code to reproduce your problem. For example, create an array, populate</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;it with data, send it, and then on the receiving end, receive it, and</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;print it out. Something simple like that. I find when I do that, I</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;usually find the error in my code.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;Jack Bryan wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;  </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;But, my code is too long to be posted. </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;dozens of files, thousands of lines. </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Do you have better ideas ? </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Any help is appreciated. </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Nov. 5 2010</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;------------------------------------------------------------------------</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;From: solarbikedz@gmail.com</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Date: Fri, 5 Nov 2010 11:20:57 -0700</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;To: users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Subject: Re: [OMPI users] Open MPI data transfer error</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;As Prentice said, we can't help you without seeing your code.  openMPI</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;has stood many trials from many programmers, with many bugs ironed out.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;So typically it is unlikely openMPI is the source of your error. </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;Without seeing your code the only logical conclusion is that something</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;is wrong with your programming.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;On Fri, Nov 5, 2010 at 10:52 AM, Prentice Bisbal &lt;prentice@ias.edu</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;&lt;mailto:prentice@ias.edu&gt;&gt; wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    We can't help you with your coding problem without seeing your code.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    Jack Bryan wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; Thanks,</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; I have used "cout" in c++ to print the values of data.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; The sender sends correct data to correct receiver.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; But, receiver gets wrong data from correct sender.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; why ?</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; thanks</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt; Nov. 5 2010</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; Date: Fri, 5 Nov 2010 08:54:22 -0400</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; From: prentice@ias.edu &lt;mailto:prentice@ias.edu&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; To: users@open-mpi.org &lt;mailto:users@open-mpi.org&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; Subject: Re: [OMPI users] Open MPI data transfer error</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; Jack Bryan wrote:</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; Hi,</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; In my Open MPI program, one master sends data to 3 workers.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; Two workers can receive their data.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; But, the third worker can not get their data.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; Before sending data, the master sends a head information to</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    each worker</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; receiver</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; so that each worker knows what the following data package is.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    (such as</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; length, package tag).</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; The third worker can get its head information message from</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    master but</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; cannot get its correct</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; data package.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; It got the data that should be received by first worker, which</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    get its</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt; correct data.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; Jack,</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; Providing the relevant sections of code here would be very helpful.</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &lt;inside joke&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; I would tell you to add some printf statements to your code to</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    see what</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; data is stored in your variables on the master before it sends</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    them to</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; each node, but Jeff Squyres and I agreed to disagree in a civil</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    manner</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; on that debugging technique earlier this week, and I'd hate to</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    re-open</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; those old wounds by suggesting that technique here. ;)</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    &gt;&gt; &lt;/inside joke&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;    </span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; &gt;&gt;</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; _______________________________________________</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; users mailing list</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; users@open-mpi.org</span></font><br><font class="Apple-style-span" face="Tahoma" size="4"><span class="Apple-style-span" style="font-size: 10pt;">&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users</span></font><br> 		 	   		  </body>
</html>
