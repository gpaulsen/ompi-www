<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Lin,<div><br></div><div>Try -np 16 and not running on the head node.</div><div><br></div><div>Doug Reeder<br><div><div>On Jul 6, 2009, at 7:08 PM, Zou, Lin (GE, Research, Consultant) wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"> <div> <div> <div><span class="251373509-03072009"><font face="宋体" size="2"><span class="527224601-07072009">Hi all,</span></font></span></div> <div><span class="251373509-03072009"><font face="宋体" size="2"><span class="527224601-07072009">&nbsp;&nbsp;&nbsp; The system I use is a PS3 cluster, with 16 PS3s and a PowerPC as a headnode, they are connected by a high speed switch.</span></font></span></div> <div><span class="251373509-03072009"><font face="宋体"><font size="2"><span class="527224601-07072009">&nbsp;&nbsp;&nbsp; There are</span> point-to-point communication functions( MPI_Send and MPI_Recv&nbsp;)<span class="527224601-07072009">, the data size is about 40KB, </span>and&nbsp;a lot of computings which will consume a long time(about 1 sec)in a loop.<span class="527224601-07072009">The co-processor in PS3 can take care of the computation, the main processor take care of point-to-point communication,so the computing and communication&nbsp;can overlap.The communication funtions should return much faster than computing function.</span></font></font></span></div> <div><span class="251373509-03072009"><font face="宋体"><font size="2"><span class="527224601-07072009">&nbsp;&nbsp;&nbsp; My question is that&nbsp;</span>after some circles, the time consumed by communication functions&nbsp;<span class="527224601-07072009">in a PS3 </span>will increase heavily, and the whole cluster's sync state will corrupt.When I decrease the computing time, this situation just disappeare.I am very confused about this.</font></font></span></div> <div><span class="251373509-03072009"><font face="宋体"><font size="2">I think there is a mechanism in OpenMPI that cause this case,&nbsp;d<span class="527224601-07072009">oes</span>&nbsp;<span class="527224601-07072009">everyone</span>&nbsp;get this situation before?<span class="527224601-07072009"> </span></font></font></span></div> <div><span class="251373509-03072009"><font face="宋体"><font size="2"><span class="527224601-07072009">I use "mpirun --mca btl tcp, self -np 17 --hostfile ...", is there something i should added?</span></font></font></span></div> <div><span class="251373509-03072009"><font face="宋体" size="2">Lin</font></span></div></div></div> _______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote></div><br></div></body></html>
