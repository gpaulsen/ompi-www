<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=Generator content="Microsoft Word 15 (filtered medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.msonormal0, li.msonormal0, div.msonormal0
	{mso-style-name:msonormal;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.EmailStyle18
	{mso-style-type:personal-reply;
	font-family:"Calibri",sans-serif;
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri",sans-serif;
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext="edit" spidmax="1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext="edit">
<o:idmap v:ext="edit" data="1" />
</o:shapelayout></xml><![endif]--></head><body lang=EN-AU link=blue vlink=purple><div class=WordSection1><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'>Hi Mike,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>11:18 bjm900@raijin7 ~ &gt; rpm -qi hcoll<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Name        : hcoll                        Relocations: /opt/mellanox/hcoll <o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Version     : 2.0.472                           Vendor: mellanox<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Release     : 1                             Build Date: Sun Jan  5 23:40:18 2014<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Install Date: Fri Jun 12 15:00:23 2015         Build Host: localhost<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Group       : Applications                  Source RPM: hcoll-2.0.472-1.src.rpm<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Size        : 14074151                         License: Proprietary<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Signature   : DSA/SHA1, Sun Feb 23 23:20:58 2014, Key ID c5ed83e26224c050<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Packager    : mellanox<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>URL         : http://www.mellanox.com<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Summary     : Hierarchical collectives (HCOLL)<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>Description :<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>HCOLL...<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'>I also just realised that it doesn’t work for any OpenMPI 1.8.x series or 1.10.0 either – while it is able to build (unlike for 1.10.1) it fails at runtime with a symbol lookup error:<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>symbol lookup error: /apps/openmpi/1.8.8/lib/openmpi/mca_coll_hcoll.so: undefined symbol: hcoll_check_mem_release_cb_needed<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'>That symbol doesn’t appear to be in any of the .so files in /opt/mellanox/hcoll, so I’m guessing it’s from a newer version of hcoll. This would also explain why it warned about an implicit declaration of this symbol during the builds:<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:Consolas;color:#1F497D;mso-fareast-language:EN-US'>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:263: warning: implicit declaration of function 'hcoll_check_mem_release_cb_needed'<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'>Cheers,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'>Ben<o:p></o:p></span></p><p class=MsoNormal><a name="_MailEndCompose"><span style='font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></a></p><p class=MsoNormal><b><span lang=EN-US style='font-size:11.0pt;font-family:"Calibri",sans-serif'>From:</span></b><span lang=EN-US style='font-size:11.0pt;font-family:"Calibri",sans-serif'> users [mailto:users-bounces@open-mpi.org] <b>On Behalf Of </b>Mike Dubman<br><b>Sent:</b> Thursday, 24 December 2015 7:14 AM<br><b>To:</b> Open MPI Users &lt;users@open-mpi.org&gt;<br><b>Subject:</b> Re: [OMPI users] hcoll API in 1.10.1<o:p></o:p></span></p><p class=MsoNormal><o:p>&nbsp;</o:p></p><div><p class=MsoNormal>Hi,<o:p></o:p></p><div><p class=MsoNormal>hcoll is part of MOFED or comes from HPCx.<o:p></o:p></p></div><div><p class=MsoNormal>what version of hcoll do you have on your system?<o:p></o:p></p></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=MsoNormal>Thx<o:p></o:p></p></div></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p><div><p class=MsoNormal>On Wed, Dec 23, 2015 at 4:58 AM, Ben Menadue &lt;<a href="mailto:ben.menadue@nci.org.au" target="_blank">ben.menadue@nci.org.au</a>&gt; wrote:<o:p></o:p></p><blockquote style='border:none;border-left:solid #CCCCCC 1.0pt;padding:0cm 0cm 0cm 6.0pt;margin-left:4.8pt;margin-right:0cm'><p class=MsoNormal>Hi,<br><br>It's probably in plain sight somewhere and I missed it, but is there a<br>minimum version of hcoll needed to build 1.10.1?<br><br>We have 2.0.0, which allows us to build 1.10.0, but 1.10.1 fails with<br>missing entries in the hcoll_collectives_t structure:<br><br>&nbsp; CC&nbsp; &nbsp; &nbsp; &nbsp;coll_hcoll_module.lo<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c: In function<br>'mca_coll_hcoll_mem_release_cb':<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:60: warning:<br>implicit declaration of function 'hcoll_mem_unmap'<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c: In function<br>'hcoll_comm_attr_del_fn':<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:166:<br>warning: implicit declaration of function 'hcoll_group_destroy_notify'<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c: In function<br>'mca_coll_hcoll_comm_query':<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:263:<br>warning: implicit declaration of function<br>'hcoll_check_mem_release_cb_needed'<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:317: error:<br>'hcoll_collectives_t' has no member named 'coll_alltoallv'<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:318: error:<br>'hcoll_collectives_t' has no member named 'coll_gatherv'<br>../../../../../../../../ompi/mca/coll/hcoll/coll_hcoll_module.c:324: error:<br>'hcoll_collectives_t' has no member named 'coll_igatherv'<br><br>It looks like PR567 in the 1.10 branch that added the new references.<br><br>Cheers,<br>Ben<br><br><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/12/28200.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/12/28200.php</a><o:p></o:p></p></blockquote></div><p class=MsoNormal><br><br clear=all><o:p></o:p></p><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><p class=MsoNormal>-- <o:p></o:p></p><div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p><div><p class=MsoNormal>Kind Regards,<o:p></o:p></p></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=MsoNormal>M.<o:p></o:p></p></div></div></div></div></div></body></html>
