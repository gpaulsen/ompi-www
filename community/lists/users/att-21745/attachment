<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hmmm...yes, I see what you mean. Try using "-default-hostfile mpimachines" instead of -hostfiles. I think that's the problem - at least, it fixed it for me.<div><div><br></div><div><br><div><div>On Apr 17, 2013, at 7:08 AM, "Welder, Wallace T &nbsp; &nbsp; &nbsp; &nbsp; PWR" &lt;<a href="mailto:Wallace.Welder@pwr.utc.com">Wallace.Welder@pwr.utc.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">


<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Generator" content="MS Exchange Server version 6.5.7654.12">
<title>Change In Behavior Running on Multiple Nodes</title>

<div>
<!-- Converted from text/rtf format --><p dir="LTR"><span lang="en-us"><font face="Calibri">I’ve recently tried running OpenMPI v1.6.4 on multiple nodes and have noticed a change in behavior that I don’t understand.&nbsp; In OpenMPI version 1.4.x, 1.5.x and 1.6.1, I could run a job spanning two nodes as shown below.&nbsp; The procedure results in 8 processes running on the first node and 8 on the second node.</font></span></p><p dir="LTR"><span lang="en-us"></span><span lang="en-us"><font face="Courier New">mpirun –hostfile mpimachines –n 1 host.exe : -n 15 node.exe</font></span></p><div><span lang="en-us"></span><br class="webkit-block-placeholder"></div><p dir="LTR"><span lang="en-us"><font face="Calibri">where the file mpimachines looks&nbsp; like:</font></span></p><p dir="LTR"><span lang="en-us"></span><span lang="en-us"><font face="Courier New">node1 slots=8</font></span></p><p dir="LTR"><span lang="en-us"><font face="Courier New">node2 slots=8</font></span><span lang="en-us"></span></p><p dir="LTR"><span lang="en-us"><font face="Calibri">In OpenMPI v1.6.2 and v1.6.4 (haven’t tried v1.6.3) when I try to run the same way, all the processes start on node1 and none start on node2.&nbsp; I’ve noticed there are now runtime flags -bynode and –byslot, but&nbsp; I haven’t had any success with those.&nbsp; I’ve also tried changing the mpimachines file to look like:</font></span></p><p dir="LTR"><span lang="en-us"></span><span lang="en-us"><font face="Courier New">node1 slots=8 max-slots=8</font></span></p><p dir="LTR"><span lang="en-us"><font face="Courier New">node2 slots=8 max-slots=8</font></span><span lang="en-us"></span></p><p dir="LTR"><span lang="en-us"><font face="Calibri">When I tried this, I got a runtime error saying there were not enough slots in the system to satisfy the 15 slots that were requested by the application node.exe.&nbsp; I think there is a hint in here about my problem, but I haven’t been able to figure out what it is yet.</font></span></p><p dir="LTR"><span lang="en-us"><font face="Calibri">Can anyone let me know how the process has changed with these newer versions of OpenMPI?</font></span></p><p dir="LTR"><span lang="en-us"><font face="Calibri">Thanks,</font></span></p><p dir="LTR"><span lang="en-us"><font face="Calibri">Wallace</font></span></p><div><span lang="en-us"></span><br class="webkit-block-placeholder"></div><div><span lang="en-us"></span><span lang="en-us"></span><br class="webkit-block-placeholder"></div><div><span lang="en-us"></span><br class="webkit-block-placeholder"></div>

</div>
_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></div></body></html>
