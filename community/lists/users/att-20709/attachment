<div style="line-height:1.7;color:#000000;font-size:14px;font-family:arial"><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;">I have a problem here.</p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;">My program runs perfectly in MPI version 1.6 series, but it would run into some problem in MPI version 1.4x series.&nbsp;<strong style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">Does MPI 1.4x version have a bug related in MPI_Recv.</strong></p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;">The log in Node[1] says that "MPI_Recv in node[1] can not probe tag [11] from source[0]". But in node [0], the log says it Isend message with Tag [11] to dest [1].</p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;"></p><pre style="color: rgb(34, 34, 34); line-height: normal; margin-top: 0px; margin-bottom: 10px; padding: 5px; border: 0px; vertical-align: baseline; background-color: rgb(238, 238, 238); font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; overflow: auto; width: auto; max-height: 600px;"><code style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu S
ans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif;"><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(43, 145, 175);">int</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> provided</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">;</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">

MPI_Init_thread</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">(&amp;</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">argc</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">,</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> </span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">&amp;</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">argv</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">,</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> MPI_THREAD_MULTIPLE</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">,</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> </span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">&amp;</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">provided</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">);</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">
</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(0, 0, 139);">if</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> </span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">(</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">provided </span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">!=</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> MPI_THREAD_MULTIPLE</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">)</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">
</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">{</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">
   printf</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">(</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128, 0, 0);">"Sorry, your MPI library does not provide MPI_THREAD_MULTIPLE\n"</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">);</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">
   MPI_Abort</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">(</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">MPI_COMM_WORLD</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">,</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;"> </span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent; color: rgb(128, 0, 0);">0</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">);</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">
</span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; background-color: transparent;">}</span></code></pre><p style="color: rgb(34, 34, 34); font-family: arial, sans-serif; line-height: normal;"></p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;"><b>Both of my 1.6x and 1.4x library do not support&nbsp;<span style="font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif; background-color: rgb(238, 238, 238);">MPI_THREAD_MULTIPLE. Is this the reason? But why it runs perfect with 1.6x version.&nbsp;</span></b></p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;">Thanks very much for your help.</p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;"><br></p><p style="color: rgb(34, 34, 34); clear: both; vertical-align: baseline; line-height: 18px; font-family: Arial, 'Liberation Sans', 'DejaVu Sans', sans-serif; margin: 0px 0px 1em; word-wrap: break-word; border: 0px; padding: 0px;">Esaon&nbsp;</p></div><br><br><span title="neteasefooter"><span id="netease_mail_footer"></span></span>
