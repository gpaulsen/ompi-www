<div dir="ltr">HI Ralph,<div><br></div><div>Yep, If you could handle this that would be great.  I guess we&#39;d like a fix in 1.10.x and for 2.0.1</div><div>that would be great.</div><div><br></div><div>Howard</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">2016-05-23 14:59 GMT-06:00 Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Looks to me like there is a bug in the orterun parser that is trying to add java library paths - I can take a look at it<div><br><div><blockquote type="cite"><div><div class="h5"><div>On May 23, 2016, at 1:05 PM, Claudio Stamile &lt;<a href="mailto:claudiostamile@gmail.com" target="_blank">claudiostamile@gmail.com</a>&gt; wrote:</div><br></div></div><div><div><div class="h5"><div dir="ltr">Hi Howard.<div><br></div><div>Thank you for your reply.</div><div><br></div><div>I&#39;m using version 1.10.2</div><div><br></div><div>I executed the following command:</div><div><br></div><div>mpirun -np 2 --mca odls_base_verbose 100 java -cp alot:of:jarfile -Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx clustering.TensorClusterinCplexMPI<br></div><div><br></div><div><br></div><div>the output is:</div><div><p><b><span>	</span>Num procs: 2<span>	</span>FirstRank: 0<span>	</span>Recovery: DEFAULT<span>	</span>Max Restarts: 0</b></p><p><b> <span>	</span>Argv[0]: java</b></p><p><b> <span>	</span>Argv[1]: -cp</b></p><p><b> <span>	</span>Argv[2]: /Applications/Eclipse.app/Contents/MacOS:/Users/stamile/Documents/workspace_newJava/TensorFactorization/bin:/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/lib/cplex.jar:/Users/stamile/Downloads/commons-lang3-3.4/commons-lang3-3.4.jar:/Users/stamile/Downloads/Jama-1.0.3.jar:/Users/stamile/Downloads/hyperdrive-master/hyperdrive.jar:/usr/local/lib:/usr/local/lib/mpi.jar</b></p><p><b> <span>	</span>Argv[3]: /Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx</b></p><p><b> <span>	</span>Argv[4]: -Djava.library.path=-Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx:/usr/local/lib</b></p><p><b> <span>	</span>Argv[5]: clustering.TensorClusterinCplexMPI</b></p><p><b> <span>	</span>Env[0]: OMPI_MCA_odls_base_verbose=100</b></p><p><b> <span>	</span>Env[1]: OMPI_COMMAND=clustering.TensorClusterinCplexMPI</b></p><p><b> <span>	</span>Env[2]: OMPI_MCA_orte_precondition_transports=e6a8891c458c267b-c079810b4abe7ebf</b></p><p><b> <span>	</span>Env[3]: OMPI_MCA_orte_peer_modex_id=0</b></p><p><b> <span>	</span>Env[4]: OMPI_MCA_orte_peer_init_barrier_id=1</b></p><p><b> <span>	</span>Env[5]: OMPI_MCA_orte_peer_fini_barrier_id=2</b></p><p><b> <span>	</span>Env[6]: TMPDIR=/var/folders/5t/6tqp003x4fn09fzgtx46tjdh0000gn/T/</b></p><p><br></p><p>Argv[4] looks strange. Indeed if I execute:</p><p>mpirun -np 2 --mca odls_base_verbose 100 java -cp alot:of:jarfile clustering.TensorClusterinCplexMPI<br></p></div><div>The same as before without ( -Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx ) i obtain:</div><div><br></div><div><p><b>Argv[0]: java</b></p><p><b> <span>	</span>Argv[1]: -Djava.library.path=/usr/local/lib</b></p><p><b> <span>	</span>Argv[2]: -cp</b></p><p><b> <span>	</span>Argv[3]: /Applications/Eclipse.app/Contents/MacOS:/Users/stamile/Documents/workspace_newJava/TensorFactorization/bin:/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/lib/cplex.jar:/Users/stamile/Downloads/commons-lang3-3.4/commons-lang3-3.4.jar:/Users/stamile/Downloads/Jama-1.0.3.jar:/Users/stamile/Downloads/hyperdrive-master/hyperdrive.jar:/usr/local/lib:/usr/local/lib/mpi.jar</b></p><p><b> <span>	</span>Argv[4]: clustering.TensorClusterinCplexMPI</b></p><p><b> <span>	</span>Env[0]: OMPI_MCA_odls_base_verbose=100</b></p><p><b> <span>	</span>Env[1]: OMPI_COMMAND=clustering.TensorClusterinCplexMPI</b></p><p><b> <span>	</span>Env[2]: OMPI_MCA_orte_precondition_transports=92248561306f2b2e-601ae65dc34a347c</b></p><p><b> <span>	</span>Env[3]: OMPI_MCA_orte_peer_modex_id=0</b></p><p><b> <span>	</span>Env[4]: OMPI_MCA_orte_peer_init_barrier_id=1</b></p><p><b> <span>	</span>Env[5]: OMPI_MCA_orte_peer_fini_barrier_id=2</b></p><p><b> <span>	</span>Env[6]: TMPDIR=/var/folders/5t/6tqp003x4fn09fzgtx46tjdh0000gn/T/</b></p><p><b> <span>	</span>Env[7]: __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x4</b></p><p><b><br></b></p><p>What do you think ?</p><p>Best,</p><p>Claudio</p></div></div><div class="gmail_extra"><br><div class="gmail_quote">2016-05-23 19:38 GMT+02:00 Howard Pritchard <span dir="ltr">&lt;<a href="mailto:hppritcha@gmail.com" target="_blank">hppritcha@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hello Claudio,<div><br></div><div>mpirun should be combining your java.library.path option with the one needed to add</div><div>the Open MPI&#39;s java bindings as well.  </div><div><br></div><div>Which version of Open MPI are you using?</div><div><br></div><div>Could you first try to compile the Ring.java code in ompi/examples and run it with the</div><div>following additional mpirun parameter?</div><div><br></div><div>mpirun -np 1 --mca odls_base_verbose 100 java Ring</div><div><br></div><div>then try your application with the same &quot;odls_base_verbose&quot; mpirun option</div><div><br></div><div>and post the output from the two runs to the mail list?</div><div><br></div><div>I suspect there may be a bug with building the combined java.library.path</div><div>in the Open MPI code.</div><div><br></div><div>Howard</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div>2016-05-23 9:47 GMT-06:00 Claudio Stamile <span dir="ltr">&lt;<a href="mailto:claudiostamile@gmail.com" target="_blank">claudiostamile@gmail.com</a>&gt;</span>:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr"><span style="font-size:12.8px">Dear all,</span><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">I&#39;m using openmpi for Java.</div><div style="font-size:12.8px">I&#39;ve a problem when I try to use more option parameters in my java command. More in detail I run mpirun as follow:</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">mpirun -n 5 java -cp path1:path2 -Djava.library.path=pathLibs classification.MyClass</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">It seems that the option &quot;-Djava.library.path&quot; is ignored when i execute the command.</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Is it normal ?</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Do you know how to solve this problem ?</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Thank you.</div><div style="font-size:12.8px"><br></div><div style="font-size:12.8px">Best,</div><div style="font-size:12.8px">Claudio</div><span><font color="#888888"><div><br></div>-- <br><div>C.</div>
</font></span></div>
<br></div></div>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29285.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29285.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29288.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29288.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div>C.</div>
</div>
_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29292.php" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29292.php</a></div></blockquote></div><br></div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29293.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/05/29293.php</a><br></blockquote></div><br></div>

