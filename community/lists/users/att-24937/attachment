<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Try replacing --report-bindings with -mca hwloc_base_report_bindings 1 and see if that works<div><br></div><div><br><div><div>On Aug 7, 2014, at 4:04 AM, Siegmar Gross &lt;<a href="mailto:Siegmar.Gross@informatik.hs-fulda.de">Siegmar.Gross@informatik.hs-fulda.de</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">Hi,<br><br><blockquote type="cite">I can't replicate - this worked fine for me. I'm at a loss as<br>to how you got that error as it would require some strange<br>error in the report-bindngs option. If you remove that option<br>from your cmd line, does the problem go away?<br></blockquote><br>Yes.<br><br>tyr openmpi_1.7.x_or_newer 468 mpiexec -np 4 -rf rf_linpc_sunpc_tyr hostname<br><a href="http://tyr.informatik.hs-fulda.de/">tyr.informatik.hs-fulda.de</a><br>linpc0<br>linpc1<br>sunpc1<br><br><br>tyr openmpi_1.7.x_or_newer 469 mpiexec -report-bindings -np 4 -rf<span class="Apple-converted-space">&nbsp;</span><br>rf_linpc_sunpc_tyr hostname<br>--------------------------------------------------------------------------<br>An invalid value was supplied for an enum variable.<br><br>&nbsp;Variable &nbsp;&nbsp;&nbsp;&nbsp;: hwloc_base_report_bindings<br>&nbsp;Value &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 1,1<br>&nbsp;Valid values : 0: f|false|disabled, 1: t|true|enabled<br>--------------------------------------------------------------------------<br><a href="http://tyr.informatik.hs-fulda.de/">tyr.informatik.hs-fulda.de</a><br>[<a href="http://tyr.informatik.hs-fulda.de/">tyr.informatik.hs-fulda.de</a>:29900] MCW rank 3 bound to socket 1[core 1[hwt 0]]:<span class="Apple-converted-space">&nbsp;</span><br>[.][B]<br>[linpc0:04217] MCW rank 0 is not bound (or bound to all available processors)<br>[linpc1:23107] MCW rank 1 bound to socket 0[core 0[hwt 0]], socket 0[core 1[hwt<span class="Apple-converted-space">&nbsp;</span><br>0]]: [B/B][./.]<br>linpc0<br>linpc1<br>sunpc1<br>tyr openmpi_1.7.x_or_newer 470<span class="Apple-converted-space">&nbsp;</span><br><br><br><br>Kind regards<br><br>Siegmar<br><br><br><br><br><blockquote type="cite">On Aug 5, 2014, at 12:56 AM, Siegmar Gross<span class="Apple-converted-space">&nbsp;</span><br></blockquote>&lt;<a href="mailto:Siegmar.Gross@informatik.hs-fulda.de">Siegmar.Gross@informatik.hs-fulda.de</a>&gt; wrote:<br><blockquote type="cite"><br><blockquote type="cite">Hi,<br><br>yesterday I installed openmpi-1.8.2rc3 on my machines<br>(Solaris 10 Sparc, Solaris 10 x86_64, and openSUSE<br>Linux 12.1 x86_64) with Sun C 5.12. I get an error,<br>if I use a rankfile for all three architectures.<br>The error message depends on the local machine, which<br>I use to run "mpiexec". I get a different error, if I<br>use two "Sparc64 VII" machines (see below).<br><br>tyr openmpi_1.7.x_or_newer 109 cat rf_linpc_sunpc_tyr<br>rank 0=linpc0 slot=0:0-1;1:0-1<br>rank 1=linpc1 slot=0:0-1<br>rank 2=sunpc1 slot=1:0<br>rank 3=tyr slot=1:0<br>tyr openmpi_1.7.x_or_newer 110<span class="Apple-converted-space">&nbsp;</span><br><br><br>I get the following message, if I run "mpiexec" on<br>Solaris 10 Sparc.<br><br>tyr openmpi_1.7.x_or_newer 110 mpiexec -report-bindings -np 4 -rf<span class="Apple-converted-space">&nbsp;</span><br>rf_linpc_sunpc_tyr hostname<br>--------------------------------------------------------------------------<br>An invalid value was supplied for an enum variable.<br><br>Variable &nbsp;&nbsp;&nbsp;&nbsp;: hwloc_base_report_bindings<br>Value &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 1,1<br>Valid values : 0: f|false|disabled, 1: t|true|enabled<br>--------------------------------------------------------------------------<br>[<a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a>:26960] MCW rank 3 bound to socket 1[core 1[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[.][B]<br><a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a><br>[linpc1:12109] MCW rank 1 bound to socket 0[core 0[hwt 0]], socket 0[core<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>1[hwt<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">0]]: [B/B][./.]<br>[linpc0:26642] MCW rank 0 is not bound (or bound to all available<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>processors)<br><blockquote type="cite"><blockquote type="cite">linpc1<br>linpc0<br>sunpc1<br>tyr openmpi_1.7.x_or_newer 111<span class="Apple-converted-space">&nbsp;</span><br><br><br><br>I get the following message, if I run "mpiexec" on<br>Solaris 10 x86_64 or Linux x86_64.<br><br>sunpc1 openmpi_1.7.x_or_newer 109 mpiexec -report-bindings -np 4 -rf<span class="Apple-converted-space">&nbsp;</span><br>rf_linpc_sunpc_tyr hostname<br>--------------------------------------------------------------------------<br>An invalid value was supplied for an enum variable.<br><br>Variable &nbsp;&nbsp;&nbsp;&nbsp;: hwloc_base_report_bindings<br>Value &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: 1,1<br>Valid values : 0: f|false|disabled, 1: t|true|enabled<br>--------------------------------------------------------------------------<br>[sunpc1:02931] MCW rank 2 bound to socket 1[core 2[hwt 0]]: [./.][B/.]<br>sunpc1<br>[linpc0:26850] MCW rank 0 is not bound (or bound to all available<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>processors)<br><blockquote type="cite"><blockquote type="cite">[linpc1:12386] MCW rank 1 bound to socket 0[core 0[hwt 0]], socket 0[core<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>1[hwt<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">0]]: [B/B][./.]<br>linpc0<br>linpc1<br>--------------------------------------------------------------------------<br>Open MPI tried to bind a new process, but something went wrong. &nbsp;The<br>process was killed without launching the target application. &nbsp;Your job<br>will now abort.<br><br>Local host: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tyr<br>Application name: &nbsp;/usr/local/bin/hostname<br>Error message: &nbsp;&nbsp;&nbsp;&nbsp;hwloc_set_cpubind returned "Error" for bitmap "2"<br>Location: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><br></blockquote></blockquote>../../../../../openmpi-1.8.2rc3/orte/mca/odls/default/odls_default_module.c:551<br><blockquote type="cite"><blockquote type="cite">--------------------------------------------------------------------------<br>sunpc1 openmpi_1.7.x_or_newer 110<span class="Apple-converted-space">&nbsp;</span><br><br><br><br><br>The rankfile worked for older versions of Open MPI.<br><br>tyr openmpi_1.7.x_or_newer 139 ompi_info | grep MPI:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open MPI: 1.8.2a1r31804<br>tyr openmpi_1.7.x_or_newer 140 mpiexec -report-bindings -np 4 -rf<span class="Apple-converted-space">&nbsp;</span><br>rf_linpc_sunpc_tyr hostname<br>[<a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a>:27171] MCW rank 3 bound to socket 1[core 1[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[.][B]<br><a href="http://tyr.informatik.hs-fulda.de">tyr.informatik.hs-fulda.de</a><br>[linpc1:12790] MCW rank 1 bound to socket 0[core 0[hwt 0]], socket 0[core<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>1[hwt<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">0]]: [B/B][./.]<br>[linpc0:27221] MCW rank 0 is not bound (or bound to all available<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>processors)<br><blockquote type="cite"><blockquote type="cite">linpc1<br>linpc0<br>[sunpc1:03046] MCW rank 2 bound to socket 1[core 2[hwt 0]]: [./.][B/.]<br>sunpc1<br>tyr openmpi_1.7.x_or_newer 141<span class="Apple-converted-space">&nbsp;</span><br><br><br><br><br>I get the following error, if I use two Sparc machines<br>(Sun M4000 servers with two quad core Sparc64 VII processors<br>and two hardware threads per core). I'm not sure if this<br>worked before or if I have to use different options to make<br>it working.<br><br>tyr openmpi_1.7.x_or_newer 151 cat rf_rs0_rs1<br>rank 0=rs0 slot=0:0-7<br>rank 1=rs0 slot=1<br>rank 2=rs1 slot=0<br>rank 3=rs1 slot=1<br>tyr openmpi_1.7.x_or_newer 152<span class="Apple-converted-space">&nbsp;</span><br><br>rs0 openmpi_1.7.x_or_newer 104 mpiexec --report-bindings --use-hwthread-cpus<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>-np<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">4 -rf rf_rs0_rs1 hostname<br>[<a href="http://rs0.informatik.hs-fulda.de">rs0.informatik.hs-fulda.de</a>:26085] [[28578,0],0] ORTE_ERROR_LOG: Not found<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>in<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">file<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>../../../../../openmpi-1.8.2rc3/orte/mca/rmaps/rank_file/rmaps_rank_file.c<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">at line 279<br>[<a href="http://rs0.informatik.hs-fulda.de">rs0.informatik.hs-fulda.de</a>:26085] [[28578,0],0] ORTE_ERROR_LOG: Not found<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>in<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">file ../../../../openmpi-1.8.2rc3/orte/mca/rmaps/base/rmaps_base_map_job.c<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>at<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">line 285<br>rs0 openmpi_1.7.x_or_newer 105<span class="Apple-converted-space">&nbsp;</span><br><br><br>It works for the following command.<br><br>rs0 openmpi_1.7.x_or_newer 107 mpiexec --report-bindings -np 4 --host<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>rs0,rs1<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">--bind-to hwthread hostname<br>[<a href="http://rs0.informatik.hs-fulda.de">rs0.informatik.hs-fulda.de</a>:26102] MCW rank 0 bound to socket 0[core 0[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[B./../../..][../../../..]<br>[<a href="http://rs0.informatik.hs-fulda.de">rs0.informatik.hs-fulda.de</a>:26102] MCW rank 1 bound to socket 1[core 4[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[../../../..][B./../../..]<br><a href="http://rs0.informatik.hs-fulda.de">rs0.informatik.hs-fulda.de</a><br>rs0.informatik.hs-fulda.de<br>rs1.informatik.hs-fulda.de<br>[rs1.informatik.hs-fulda.de:28740] MCW rank 2 bound to socket 0[core 0[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[B./../../..][../../../..]<br>[<a href="http://rs1.informatik.hs-fulda.de">rs1.informatik.hs-fulda.de</a>:28740] MCW rank 3 bound to socket 1[core 4[hwt<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote>0]]:<span class="Apple-converted-space">&nbsp;</span><br><blockquote type="cite"><blockquote type="cite">[../../../..][B./../../..]<br><a href="http://rs1.informatik.hs-fulda.de">rs1.informatik.hs-fulda.de</a><br>rs0 openmpi_1.7.x_or_newer 108<span class="Apple-converted-space">&nbsp;</span><br><br><br>I would be grateful if somebody could fix the problem. Please let<br>me know if I can provide anything else. Thank you very much for<br>any help in advance.<br><br><br>Kind regards<br><br>Siegmar<br><br>_______________________________________________<br>users mailing list<br>users@open-mpi.org<br>Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br>Link to this post:<span class="Apple-converted-space">&nbsp;</span><br></blockquote></blockquote><a href="http://www.open-mpi.org/community/lists/users/2014/08/24907.php">http://www.open-mpi.org/community/lists/users/2014/08/24907.php</a><br><blockquote type="cite"><br><br></blockquote><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/users/2014/08/24936.php">http://www.open-mpi.org/community/lists/users/2014/08/24936.php</a></div></blockquote></div><br></div></body></html>
