<div dir="ltr"><div>Hi,<br>I am trying to benchmark Open MPI performance on 10G Ethernet network between two hosts. The performance numbers of benchmarks are less than expected. The maximum bandwidth achieved by OMPI-C is 5678 Mbps and I was expecting around 9000+ Mbps. Moreover latency is also quite higher than expected, ranging from 37 to 59 us. Here is complete set of numbers.<br>
<br><b>Latency<br>Open MPI C    <br>Size    Time (us)</b><br>1         37.76<br>2         37.75<br>4         37.78<br>8         55.17<br>16       37.89<br>32       39.08<br>64       37.78<br>128     59.46<br>256     39.37<br>
512     40.39<br>1024   47.18<br>2048   47.84<br>    <br><br><b>Bandwidth<br>Open MPI C    <br>Size (Bytes)    Bandwidth (Mbps)</b><br>2048               412.22<br>4096               539.59<br>8192               827.73<br>
16384             1655.35<br>32768             3274.3<br>65536             1995.22<br>131072           3270.84<br>262144           4316.22<br>524288           5019.46<br>1048576         5236.17<br>2097152         5362.61<br>
4194304         5495.2<br>8388608         5565.32<br>16777216       5678.32<br><br><br>My environments consists of two hosts having point-to-point (switch-less) 10Gbps Ethernet connection.  Environment (OS, user, directory structure etc) on both hosts is exactly same. There is no NAS or shared file system between both hosts. Following are configuration and job launching commands that I am using. Moreover, I have attached output of script<span style="font-family:courier new,monospace"> ompi_info --all</span>.<br>
<br>Configuration commmand: <span style="font-family:courier new,monospace">./configure --enable-mpi-java --prefix=/home/mpj/installed/openmpi_installed CC=/usr/bin/gcc --disable-mpi-fortran </span><br><br>Job launching command: <span style="font-family:courier new,monospace">mpirun -np 2 -hostfile machines -npernode 1 ./latency.out<br>
</span><br>Are these numbers okay? If not then please suggest performance tuning steps...<br><br></div>Thanks<br clear="all"><div><br>--<br><div dir="ltr">Ansar Javed<br>HPC Lab<br>SEECS NUST <br>Contact: +92 334 438 9394<br>
Email: <a href="mailto:muhammad.ansar@seecs.edu.pk" target="_blank">muhammad.ansar@seecs.edu.pk</a><br></div>
</div></div>

