<table cellspacing="0" cellpadding="0" border="0" ><tr><td valign="top" style="font: inherit;">Hi, <br><br>A bit more info wrt the question below. I have run other releases of OpenMPI and they seem to be fine. The reason I need to run the latest is because it supports valgrind fully.<br><br>openmpi-1.2.4<br>openmpi-1.3ar18303<br><br>TIA, Tom<br><br>--- On <b>Tue, 8/12/08, Tom Riddle <i>&lt;rarebitusa@yahoo.com&gt;</i></b> wrote:<br><blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;"><br><div id="yiv1029519419"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td style="font-family: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-size: inherit; line-height: inherit; font-size-adjust: inherit; font-stretch: inherit;" valign="top">Hi,<br><br>I am getting a curious error on a simple communications test. I have altered the std mvapich osu_latency test to accept receives
 from any source and I get the following error<br><br>[d013.sc.net:15455] *** An error occurred in MPI_Recv<br>[d013.sc.net:15455] *** on communicator MPI_COMM_WORLD<br>[d013.sc.net:15455] *** MPI_ERR_TRUNCATE: message truncated<br>[d013.sc.net:15455] *** MPI_ERRORS_ARE_FATAL (goodbye)<br><br>the code change was...<br><br>&nbsp;MPI_Recv(r_buf, size, MPI_CHAR, MPI_ANY_SOURCE, 1, MPI_COMM_WORLD, &amp;reqstat);<br><br>the command line I run was<br><br>&gt; mpirun -np 2 ./osu_latency<br><br>Now I run this on 2 types of host machine configurations. One that has Infinipath HCAs&nbsp; installed and another that doesn't. I run both of these in shared memory mode ie: dual processes on the same node. I have verified that when I am on
 the host with Infinipath I am actually running the OpenMPI mpirun, not the mpi that comes with the HCA.<br><br>I have built OpenMPI with psm support from a fairly recent svn pull and run the same bins on both host machines... The config was as follows:<br><pre>&gt; $ ../configure --prefix=/opt/wkspace/openmpi-1.3 CC=gcc CXX=g++ <br>&gt; --disable-mpi-f77 --enable-debug --enable-memchecker <br>&gt; --with-psm=/usr/include --with-valgrind=/opt/wkspace/valgrind-3.3.0/<br></pre>&gt; mpirun --version<br>mpirun (Open MPI) 1.4a1r18908<br><br>The error presents itself only on the host that does not have Infinipath installed. I have combed through the mca args to see if there is a setting I am missing but I cannot see anything obvious. <br><br>Any input would be appreciated. Thanks. Tom<br><br></td></tr></tbody></table><br>

      </div></blockquote></td></tr></table><br>

      
