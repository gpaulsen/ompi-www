<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="font-family: Courier; "><div><font class="Apple-style-span" face="Helvetica">I believe that you can also add this to your LIB or LDFLAGS for 64-bit applications:</font></div><div><br class="webkit-block-placeholder"></div>-Wl,-stack_addr,0xF10000000 -Wl,-stack_size,0x64000000</span><div apple-content-edited="true"> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font: normal normal normal 12px/normal Helvetica; min-height: 14px; "><br class="Apple-interchange-newline"><br></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Warner Yuen</font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Scientific&nbsp;Computing&nbsp;</font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Consulting Engineer</font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Apple Computer</font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">email: <a href="mailto:wyuen@apple.com">wyuen@apple.com</a></font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Tel: 408.718.2859</font></p><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" style="font: normal normal normal 12px/normal Helvetica; ">Fax: 408.715.0133</font></p><br class="Apple-interchange-newline"></span><br class="Apple-interchange-newline"></div></span> </div><br><div><div>On Apr 25, 2008, at 1:11 PM, <a href="mailto:users-request@open-mpi.org">users-request@open-mpi.org</a> wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; ">------------------------------<br><br>Message: 6<br>Date: Fri, 25 Apr 2008 14:10:57 -0600<br>From: Brian Barrett &lt;<a href="mailto:brbarret@open-mpi.org">brbarret@open-mpi.org</a>&gt;<br>Subject: Re: [OMPI users] Memory question and possible bug in 64bit<br><span class="Apple-tab-span" style="white-space: pre; ">	</span>addressing under Leopard!<br>To: Open MPI Users &lt;<a href="mailto:users@open-mpi.org">users@open-mpi.org</a>&gt;<br>Message-ID: &lt;<a href="mailto:C9986452-B565-454D-8F79-E7C5E0571A19@open-mpi.org">C9986452-B565-454D-8F79-E7C5E0571A19@open-mpi.org</a>&gt;<br>Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes<br><br>On Apr 25, 2008, at 2:06 PM, Gregory John Orris wrote:<br><br><blockquote type="cite">produces a core dump on a machine with 12Gb of RAM.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">and the error message<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">mpiexec noticed that job rank 0 with PID 75545 on node mymachine.com<br></blockquote><blockquote type="cite">exited on signal 4 (Illegal instruction).<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">However, substituting in<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">float *X = new float[n];<br></blockquote><blockquote type="cite">for<br></blockquote><blockquote type="cite">float X[n];<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Succeeds!<br></blockquote><br><br>You're running off the end of the stack, because of the large amount &nbsp;<br>of data you're trying to put there. &nbsp;OS X by default has a tiny stack &nbsp;<br>size, so codes that run on Linux (which defaults to a much larger &nbsp;<br>stack size) sometimes show this problem. &nbsp;Your best bets are either to &nbsp;<br>increase the max stack size or (more portably) just allocate &nbsp;<br>everything on the heap with malloc/new.<br><br>Hope this helps,<br><br>Brian<br><br>--<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;Brian Barrett<br>&nbsp;&nbsp;Open MPI developer<br>&nbsp;&nbsp;<a href="http://www.open-mpi.org/">http://www.open-mpi.org/</a><br></span></blockquote></div><br></body></html>
