<div dir="ltr"><div><div><div><div><div><div>Hi Howard<br><br></div>Thank you very much for your suggestions. All the installation location in my case are the default ones, so that is likely not the issue.<br><br></div>What I find a bit confusing is this:<br><br></div>As I mentioned, my cluster has both Qlogic Infiniband and Chelsio iWARP (which are exposed to OpenMPI natively as well as an IP interface)<br><br></div>With this configuration, if I build libfabric with configure options --with-psm=auto --with-verbs=auto, as I mentioned earlier, only the PSM interface shows up in the fi_info listing, and OpenMPI programs using ofi MTL *do* work. However, I do not know if the traffic is going through the Qlogic card or the Chelsio card; it is likely the former.<br><br></div>I am going to ask this on the libfabric list, but perhaps the following question is relevant in the OpenMPI list:<br><br></div><div>My understanding about the OFI MTL is the following: please correct me where I am wrong:<br></div><div>As I understand, ANY type of transport that exposes a verbs interface (iWARP, RoCE, Infiniband from any manufacturer) can become a libfabric provider (when libfabric is compiled with --with-verbs option) and thus support the OFI MTL (and thus the cm PML?)<br></div><div><br></div><div>Is the above true?<br><br></div><div>Best regards<br></div><div>Durga<br></div></div><div class="gmail_extra"><br clear="all"><div><div class="gmail_signature"><div dir="ltr"><div>We learn from history that we never learn from history.<br></div></div></div></div>
<br><div class="gmail_quote">On Mon, Apr 4, 2016 at 7:29 AM, Howard Pritchard <span dir="ltr">&lt;<a href="mailto:hppritcha@gmail.com" target="_blank">hppritcha@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi Durga,<div><br></div><div>I&#39;d suggest reposting this to the libfabric-users mail list.</div><div>You can join that list at</div><div><a href="http://lists.openfabrics.org/mailman/listinfo/libfabric-users" target="_blank">http://lists.openfabrics.org/mailman/listinfo/libfabric-users</a><br></div><div><br></div><div>I&#39;d suggest including the output of config.log.  If you installed</div><div>ofed in non-canonical location, you may need to give an explicit</div><div>path as an argument to the --enable-verbs configury option.</div><div><br></div><div>Note if you&#39;re trying to use libfabric with the Open MPI ofi</div><div>mtl, you will need to get literally the freshest version of</div><div>libfabric, either at github or the 1.3rc2 tarball at</div><div><br></div><div><a href="http://www.openfabrics.org/downloads/ofi/" rel="noreferrer" style="font-size:12.8px" target="_blank">http://www.openfabrics.org/downloads/ofi/</a><br></div><div><br></div><div>Good luck,</div><div><br></div><div>Howard</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">2016-04-02 13:41 GMT-06:00 dpchoudh . <span dir="ltr">&lt;<a href="mailto:dpchoudh@gmail.com" target="_blank">dpchoudh@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><div><div><div><div><div><div><div><div>Hello all<br><br></div>My machine has 3 network cards:<br><br></div>1. Broadcom GbE (vanilla type, with some offload capability)<br></div>2. Chelsion S310 10Gb iWARP<br></div>3. Qlogic DDR 4X Infiniband.<br><br></div>With this setup, I built libfabric like this:<br><br>./configure --enable-udp=auto --enable-gni=auto --enable-mxm=auto --enable-usnic=auto --enable-verbs=auto --enable-sockets=auto --enable-psm2=auto --enable-psm=auto &amp;&amp; make &amp;&amp; sudo make install<br><br></div>However, in the built libfabric, I do not see a verb provider, which I&#39;d expect for the iWARP card, at least.<br><br>[durga@smallMPI libfabric]$ fi_info<br>psm: psm<br>    version: 0.9<br>    type: FI_EP_RDM<br>    protocol: FI_PROTO_PSMX<br>UDP: UDP-IP<br>    version: 1.0<br>    type: FI_EP_DGRAM<br>    protocol: FI_PROTO_UDP<br>sockets: IP<br>    version: 1.0<br>    type: FI_EP_MSG<br>    protocol: FI_PROTO_SOCK_TCP<br>sockets: IP<br>    version: 1.0<br>    type: FI_EP_DGRAM<br>    protocol: FI_PROTO_SOCK_TCP<br>sockets: IP<br>    version: 1.0<br>    type: FI_EP_RDM<br>    protocol: FI_PROTO_SOCK_TCP<br><br><br></div>Am I doing something wrong or misunderstanding how libfabric works?<br><br></div>Thanks in advance<br></div>Durga<br><div><div><div><div><div><div><div><div><div><div><br clear="all"><div><div><div dir="ltr"><div>We learn from history that we never learn from history.<br></div></div></div></div>
</div></div></div></div></div></div></div></div></div></div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/04/28870.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/04/28870.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/04/28884.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2016/04/28884.php</a><br></blockquote></div><br></div>

