<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>Hi there,</div><div><br></div><div>I'm building OpenMPI 1.8.3 on a system where I explicitly don't want any of the BTL components (they tend to break my single node jobs). &nbsp;</div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">./configure CC=gcc CXX=g++ F77=gfortran FC=gfortran --prefix=$QC_EXT_LIBS/openmpi --enable-static --enable-mca-no-build=btl</div></div><div><br></div><div>Building gives me this error in the vt component - it appears to be expecting some Infiniband stuff:</div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">&nbsp;&nbsp;CCLD &nbsp; &nbsp; otfmerge-mpi</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_free_device_list'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_alloc_pd'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_close_device'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_dealloc_pd'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_destroy_qp'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_create_cq'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_get_sysfs_path'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_open_device'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_create_qp'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_query_device'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_get_device_list'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_get_device_name'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/u/sciteam/leeping/opt/qchem-4.2/ext-libs/openmpi-1.8.3/ompi/contrib/vt/vt/../../../.libs/libmpi.so: undefined reference to `ibv_destroy_cq'</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">collect2: error: ld returned 1 exit status</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">make[10]: *** [otfmerge-mpi] Error 1</div></div><div><br></div><div>I've decided to disable the vt component since I doubt I'm using it, but this could be good to know.</div><div><br></div><div>Thanks,</div><div><br></div><div>- Lee-Ping</div></body></html>
