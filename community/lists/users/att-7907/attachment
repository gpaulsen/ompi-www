<html>
<head>
<style>
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Verdana
}
</style>
</head>
<body class='hmmessage'>
Hi,<br><br>I am installing BLACS in order to install PCSDP - a parallell interior point<br>solver for linear programming. <br><br>I need to install it on Open MPI 1.2.3 platform. <br><br>I ahve installed BLAS, LAPACK successfully. <br><br>Now I need to install BLACS.<br><br>I can run "make mpi" successfully. <br><br>But, When I run "make tester".<br><br>[BLACS]$ make tester<br>( cd TESTING ; make&nbsp; )<br>make[1]: Entering directory `/home/PCSDP/BLACS/TESTING'<br>mpif77&nbsp; -o /home/PCSDP/BLACS/TESTING/EXE/xFbtest_MPI-LINUX-0 blacstest.o btprim_MPI.o tools.o /home/PCSDP/BLACS/LIB/blacsF77init_MPI-LINUX-0.a /home/PCSDP/BLACS/LIB/blacs_MPI-LINUX-0.a /home/PCSDP/BLACS/LIB/blacsF77init_MPI-LINUX-0.a /home/openmpi_123/lib/libmpi_cxx.la<br>/home/openmpi_123/lib/libmpi_cxx.la: file not recognized: File format not recognized<br>collect2: ld returned 1 exit status<br><br>make[1]: *** [/home/PCSDP/BLACS/TESTING/EXE/xFbtest_MPI-LINUX-0] Error 1<br>make[1]: Leaving directory `/home/PCSDP/BLACS/TESTING'<br>make: *** [tester] Error 2<br>-------------------------------------<br><br>In the "Makefile" of TESTING/, I have changed :<br><br>tools.o : tools.f<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #$(F77) $(F77NO_OPTFLAGS) -c $*.f<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(F77) $(F77NO_OPTFLAGS) -fno-globals -fno-f90 -fugly-complex -w -c $*.f<br><br>blacstest.o : blacstest.f<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #$(F77) $(F77NO_OPTFLAGS) -c $*.f<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(F77) $(F77NO_OPTFLAGS) -fno-globals -fno-f90 -fugly-complex -w -c $*.f<br><br><br>------------------------------------------<br><br>In "Bconfig.h", I have changed <br><br>include "/home/openmpi_123/include/mpi.h"<br><br>In OpenMPI 1.2.3, the lib directory does not include: "*.a" library.<br>only "*.la" library. <br><br><br>Any help is appreciated. <br><br>Jack<br><br>Jan.&nbsp; 30&nbsp; 2009<br><br><br>My "Bmake.inc" is:<br><br>---------------------------------<br>SECTION 1: PATHS AND LIBRARIES<br>SHELL = /bin/sh<br>BTOPdir = /home/PCSDP/BLACS<br>COMMLIB = MPI<br>PLAT = LINUX<br><br>BLACSdir&nbsp;&nbsp;&nbsp; = $(BTOPdir)/LIB<br>&nbsp;&nbsp; BLACSDBGLVL = 0<br>&nbsp;&nbsp; BLACSFINIT&nbsp; = $(BLACSdir)/blacsF77init_$(COMMLIB)-$(PLAT)-$(BLACSDBGLVL).a<br>&nbsp;&nbsp; BLACSCINIT&nbsp; = $(BLACSdir)/blacsCinit_$(COMMLIB)-$(PLAT)-$(BLACSDBGLVL).a<br>&nbsp;&nbsp; BLACSLIB&nbsp;&nbsp;&nbsp; = $(BLACSdir)/blacs_$(COMMLIB)-$(PLAT)-$(BLACSDBGLVL).a<br><br>&nbsp;&nbsp; MPIdir =&nbsp; /home/openmpi_123<br>&nbsp;&nbsp; MPILIBdir = $(MPIdir)/lib<br>&nbsp;&nbsp; MPIINCdir = $(MPIdir)/include<br><br>MPILIB = $(MPILIBdir)/libmpi_cxx.la<br><br>BTLIBS = $(BLACSFINIT) $(BLACSLIB) $(BLACSFINIT) $(MPILIB)<br><br>INSTdir = $(BTOPdir)/INSTALL/EXE<br><br><br>&nbsp;TESTdir = $(BTOPdir)/TESTING/EXE<br>&nbsp;&nbsp; FTESTexe = $(TESTdir)/xFbtest_$(COMMLIB)-$(PLAT)-$(BLACSDBGLVL)<br>&nbsp;&nbsp; CTESTexe = $(TESTdir)/xCbtest_$(COMMLIB)-$(PLAT)-$(BLACSDBGLVL)<br><br>SYSINC = -I$(MPIINCdir)<br><br>&nbsp;INTFACE = -Df77IsF2C<br>SENDIS =<br>BUFF =<br>&nbsp;TRANSCOMM = -DCSameF77<br>&nbsp;WHATMPI =&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>SYSERRORS =<br>DEBUGLVL = -DBlacsDebugLvl=$(BLACSDBGLVL)<br>DEFS1 = -DSYSINC $(SYSINC) $(INTFACE) $(DEFBSTOP) $(DEFCOMBTOP) $(DEBUGLVL)<br>BLACSDEFS = $(DEFS1) $(SENDIS) $(BUFF) $(TRANSCOMM) $(WHATMPI) $(SYSERRORS)<br><br>SECTION 3: COMPILERS<br><br>&nbsp;F77&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = mpif77<br>&nbsp;&nbsp; F77NO_OPTFLAGS =<br>&nbsp;&nbsp; F77FLAGS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = $(F77NO_OPTFLAGS) -O<br>&nbsp;&nbsp; F77LOADER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = $(F77)<br>&nbsp;&nbsp; F77LOADFLAGS&nbsp;&nbsp; =<br><br>CC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = mpicc<br>&nbsp;&nbsp; CCFLAGS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = -O4<br>&nbsp;&nbsp; CCLOADER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = $(CC)<br>&nbsp;&nbsp; CCLOADFLAGS&nbsp;&nbsp;&nbsp; =<br><br>&nbsp;ARCH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = ar<br>&nbsp;&nbsp; ARCHFLAGS = r<br>&nbsp;&nbsp; RANLIB&nbsp;&nbsp;&nbsp; = ranlib<br><br>-------------------------------<br><br><br><br><br><br /><hr />Windows Live™ Hotmail®…more than just e-mail.  <a href='http://windowslive.com/howitworks?ocid=TXT_TAGLM_WL_t2_hm_justgotbetter_howitworks_012009' target='_new'>See how it works.</a></body>
</html>
