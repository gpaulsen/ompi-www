<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hi again,<div><br></div><div>The problem in a nutshell: it looks like, when I use MPI_Type_create_darray with an argument array_of_gsizes where array_of_gsizes[0]>array_of_gsizes[1], the datatype returned goes through MPI_Type_commit() just fine, but then it causes MPI_File_set_view to crash!! Any idea as to why this is happening?</div><div><br></div><div>A</div><div><br><div><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div apple-content-edited="true"><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><br></div><div>--------------------------------------------------------------------------------</div><div>Antonio Molins, PhD Candidate</div><div>Medical Engineering and Medical Physics</div><div>Harvard - MIT Division of Health Sciences and Technology</div><div>--</div><div>"When a traveler reaches a fork in the road,&nbsp;</div><div><div>the<span class="Apple-converted-space">&nbsp;</span>ℓ1<span class="Apple-converted-space">&nbsp;</span>-norm tells him to take either one way or the other,&nbsp;</div><div>but the<span class="Apple-converted-space">&nbsp;</span>ℓ2<span class="Apple-converted-space">&nbsp;</span>-norm instructs him to head off into the bushes. "</div><div><br></div><div><span class="Apple-tab-span" style="white-space: pre; ">			</span>John F. Claerbout and Francis Muir, 1973&nbsp;</div><div><div>--------------------------------------------------------------------------------</div><br></div><div><div>*** glibc detected *** double free or corruption (!prev): 0x0000000000cf4130 ***</div><div>[login4:26709] *** Process received signal ***</div><div>[login4:26708] *** Process received signal ***</div><div>[login4:26708] Signal: Aborted (6)</div><div>[login4:26708] Signal code: &nbsp;(-6)</div><div>[login4:26709] Signal: Segmentation fault (11)</div><div>[login4:26709] Signal code: Address not mapped (1)</div><div>[login4:26709] Failing at address: 0x18</div><div>[login4:26708] [ 0] /lib64/tls/libpthread.so.0 [0x36ff10c5b0]</div><div>[login4:26708] [ 1] /lib64/tls/libc.so.6(gsignal+0x3d) [0x36fe62e26d]</div><div>[login4:26708] [ 2] /lib64/tls/libc.so.6(abort+0xfe) [0x36fe62fa6e]</div><div>[login4:26708] [ 3] /lib64/tls/libc.so.6 [0x36fe6635f1]</div><div>[login4:26708] [ 4] /lib64/tls/libc.so.6 [0x36fe6691fe]</div><div>[login4:26708] [ 5] /lib64/tls/libc.so.6(__libc_free+0x76) [0x36fe669596]</div><div>[login4:26708] [ 6] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0 [0x2a962cc4ae]</div><div>[login4:26708] [ 7] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(ompi_ddt_destroy+0x65) [0x2a962cd31d]</div><div>[login4:26708] [ 8] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(MPI_Type_free+0x5b) [0x2a962f654f]</div><div>[login4:26708] [ 9] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIOI_Flatten+0x1804) [0x2aa4603612]</div><div>[login4:26708] [10] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIOI_Flatten_datatype+0xe7) [0x2aa46017fd]</div><div>[login4:26708] [11] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIO_Set_view+0x14f) [0x2aa45ecb57]</div><div>[login4:26708] [12] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(mca_io_romio_dist_MPI_File_set_view+0x1dd) [0x2aa46088a9]</div><div>[login4:26708] [13] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so [0x2aa45ec288]</div><div>[login4:26708] [14] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(MPI_File_set_view+0x53) [0x2a963002ff]</div><div>[login4:26708] [15] ./bin/test2(_ZN14pMatCollection3getEiP7pMatrix+0xc3) [0x42a50b]</div><div>[login4:26708] [16] ./bin/test2(main+0xc2e) [0x43014a]</div><div>[login4:26708] [17] /lib64/tls/libc.so.6(__libc_start_main+0xdb) [0x36fe61c40b]</div><div>[login4:26708] [18] ./bin/test2(_ZNSt8ios_base4InitD1Ev+0x42) [0x41563a]</div><div>[login4:26708] *** End of error message ***</div><div>[login4:26709] [ 0] /lib64/tls/libpthread.so.0 [0x36ff10c5b0]</div><div>[login4:26709] [ 1] /lib64/tls/libc.so.6 [0x36fe66882b]</div><div>[login4:26709] [ 2] /lib64/tls/libc.so.6 [0x36fe668f8d]</div><div>[login4:26709] [ 3] /lib64/tls/libc.so.6(__libc_free+0x76) [0x36fe669596]</div><div>[login4:26709] [ 4] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0 [0x2a962cc4ae]</div><div>[login4:26709] [ 5] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(ompi_ddt_release_args+0x93) [0x2a962d5641]</div><div>[login4:26709] [ 6] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0 [0x2a962cc514]</div><div>[login4:26709] [ 7] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(ompi_ddt_release_args+0x93) [0x2a962d5641]</div><div>[login4:26709] [ 8] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0 [0x2a962cc514]</div><div>[login4:26709] [ 9] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(ompi_ddt_destroy+0x65) [0x2a962cd31d]</div><div>[login4:26709] [10] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(MPI_Type_free+0x5b) [0x2a962f654f]</div><div>[login4:26709] [11] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIOI_Flatten+0x147) [0x2aa4601f55]</div><div>[login4:26709] [12] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIOI_Flatten+0x1569) [0x2aa4603377]</div><div>[login4:26709] [13] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIOI_Flatten_datatype+0xe7) [0x2aa46017fd]</div><div>[login4:26709] [14] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(ADIO_Set_view+0x14f) [0x2aa45ecb57]</div><div>[login4:26709] [15] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so(mca_io_romio_dist_MPI_File_set_view+0x1dd) [0x2aa46088a9]</div><div>[login4:26709] [16] /opt/apps/intel10_1/openmpi/1.3/lib/openmpi/mca_io_romio.so [0x2aa45ec288]</div><div>[login4:26709] [17] /opt/apps/intel10_1/openmpi/1.3/lib/libmpi.so.0(MPI_File_set_view+0x53) [0x2a963002ff]</div><div>[login4:26709] [18] ./bin/test2(_ZN14pMatCollection3getEiP7pMatrix+0xc3) [0x42a50b]</div><div>[login4:26709] [19] ./bin/test2(main+0xc2e) [0x43014a]</div><div>[login4:26709] [20] /lib64/tls/libc.so.6(__libc_start_main+0xdb) [0x36fe61c40b]</div><div>[login4:26709] [21] ./bin/test2(_ZNSt8ios_base4InitD1Ev+0x42) [0x41563a]</div><div>[login4:26709] *** End of error message ***</div><div>--------------------------------------------------------------------------</div><div>mpirun noticed that process rank 2 with PID 26708 on node login4.ranger.tacc.utexas.edu exited on signal 6 (Aborted).</div><div>--------------------------------------------------------------------------</div></div></div></div></span><br class="Apple-interchange-newline"></div></span><br class="Apple-interchange-newline"></div></span><br class="Apple-interchange-newline"> </div><br></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote></div><br><div> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div>--------------------------------------------------------------------------------</div><div>Antonio Molins, PhD Candidate</div><div>Medical Engineering and Medical Physics</div><div>Harvard - MIT Division of Health Sciences and Technology</div><div>--</div><div>"Y así del poco dormir y del mucho leer,</div><div>se le secó el cerebro de manera que vino</div><div>a perder el juicio".</div><div>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Miguel de Cervantes</div><div>--------------------------------------------------------------------------------</div><br></div></div></span><br class="Apple-interchange-newline"> </div><br></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote></div><br><div> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>--------------------------------------------------------------------------------</div><div>Antonio Molins, PhD Candidate</div><div>Medical Engineering and Medical Physics</div><div>Harvard - MIT Division of Health Sciences and Technology</div><div>--</div><div>"When a traveler reaches a fork in the road,&nbsp;</div><div><div>the<span class="Apple-converted-space">&nbsp;</span>ℓ1<span class="Apple-converted-space">&nbsp;</span>-norm tells him to take either one way or the other,&nbsp;</div><div>but the<span class="Apple-converted-space">&nbsp;</span>ℓ2<span class="Apple-converted-space">&nbsp;</span>-norm instructs him to head off into the bushes. "</div><div><br></div><div><span class="Apple-tab-span" style="white-space: pre; ">			</span>John F. Claerbout and Francis Muir, 1973&nbsp;</div><div><div>--------------------------------------------------------------------------------</div><br></div></div></div></span><br class="Apple-interchange-newline"></div></span><br class="Apple-interchange-newline"></div></span><br class="Apple-interchange-newline"> </div><br></div></body></html>
