<html><body><div style="color:#000; background-color:#fff; font-family:verdana, helvetica, sans-serif;font-size:10pt"><div><span>Hello Community/Ralph</span></div><div><br><span></span></div><div><span>I was told by the sysadmin that the firewall does not prevent communication between two machines (tik33x, tik34x) for instance. However, it will only block if OpenMPI is trying to open TCP/UDP ports lower than 1024, which require privileges.</span></div><div><br><span></span></div><div><span>Is it possible to know which port numbers does OpenMPI use? Specifically, is it possible to specify port numbers that OpenMPI must not use (OpenMPI-1.4.x)?</span></div><div><br><span></span></div><div><span>Here is the reply I got from my sysadmin:</span></div><div><br><span></span></div><div style="color: rgb(0, 96, 191);"><span>"</span>There is a firewall, but it does not block internal<br>
traffic within the whole TIK network (I verified it for myself).<br>
Thus, the connection problem must be somewhere else<br>
(a service not running or binding to the wrong interface<br>
for instance). Maybe the service wants to bind to a<br>
tcp or udp port lower than 1024, which can only be<br>
allocated by the system's superuser. First, check on<br>
which ports and on which network card interfaces<br>
the software listens and if it is configured correctly<br>
so that it will listen at all."</div><div><br></div><div><br></div><div>Is there a way out?</div><div><br></div><div>Thanks a lot</div><div><br></div><div>Devendra <br></div><div><br></div>  <div style="font-family: verdana, helvetica, sans-serif; font-size: 10pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Ralph Castain &lt;rhc@open-mpi.org&gt;<br> <b><span style="font-weight: bold;">To:</span></b> devendra rai &lt;rai.devendra@yahoo.co.uk&gt;; Open MPI Users &lt;users@open-mpi.org&gt; <br> <b><span style="font-weight: bold;">Sent:</span></b> Wednesday, 16 May 2012, 15:09<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] Returned "Unreachable" (-12) instead of "Success" (0)<br> </font> </div> <br><div id="yiv1042106792"><div>Looks like you have a firewall between hosts
 tik34x and tik33x - you might check to ensure all firewalls are disabled. The error is saying it can't open a TCP socket between the two nodes, so there is no communication path between those two processes.<div><br></div><div><br><div><div>On May 16, 2012, at 4:22 AM, devendra rai wrote:</div><br class="yiv1042106792Apple-interchange-newline"><blockquote type="cite"><div><div style="color:#000;background-color:#fff;font-family:verdana, helvetica, sans-serif;font-size:12pt;">Hello All,<br><div style="font-family:verdana, helvetica, sans-serif;font-size:12pt;"><div style="font-family:times new roman, new york, times, serif;font-size:12pt;"><div id="yiv1042106792"><div><div style="color:#000;background-color:#fff;font-family:verdana, helvetica, sans-serif;font-size:12pt;"><br>I am trying to run an OpenMPI application across two physical machines. <br><br>I get an error "Returned "Unreachable" (-12) instead of "Success" (0)", and looking through the logs
 (attached), I cannot seem to find out the cause, and how to fix it.<br><br>I see lot of (communication) components being loaded and then unloaded, and I do not see which nodes pick up what kind of comm-interface.<br><br><span style="color:rgb(127, 0, 127);">--------------------------------------------------------------------------</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">At least one pair of MPI processes are unable to reach each other for</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">MPI communications.&nbsp; This means that no Open MPI
 device has indicated</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">that it can be used to communicate between these processes.&nbsp; This is</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">an error; Open MPI requires that all MPI processes be able to reach</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">each other.&nbsp; This error can sometimes be the result of forgetting to</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">specify the "self" BTL.</span><br style="color:rgb(127, 0, 127);"><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">&nbsp; Process 1 ([[10782,1],6]) is on host: tik34x</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">&nbsp; Process 2 ([[10782,1],0]) is on host: tik33x</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127,
 0, 127);">&nbsp; BTLs attempted: self sm tcp</span><br style="color:rgb(127, 0, 127);"><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">Your MPI job is now going to abort; sorry.</span><br><br><span style="color:rgb(0, 0, 0);">The "mpirun" line is:<br><br>mpirun --mca btl self,sm,tcp --mca btl_base_verbose 30 -report-pid -display-map -report-bindings -hostfile hostfile -np 7 -v --rankfile rankfile.txt -v --timestamp-output --tag-output ./xstartwrapper.sh ./run_gdb.sh&nbsp; <br><br>where the .sh files are fixes for forwarding X-windows from multiple machines to the machines where I am logged in.<br><br>Can anyone help?<br><br>Thanks a lot.<br><br>Best,<br><br>Devendra<br></span> <div style="font-family:verdana, helvetica, sans-serif;font-size:12pt;"> </div>  </div></div></div><br><br> </div> </div>  </div></div><br><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;"><span
 style="font-family:'Helvetica';font-size:medium;"><b>From: </b></span><span style="font-family:'Helvetica';font-size:medium;">devendra rai &lt;<a rel="nofollow" ymailto="mailto:dev641@yahoo.co.uk" target="_blank" href="mailto:dev641@yahoo.co.uk">dev641@yahoo.co.uk</a>&gt;<br></span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;"><span style="font-family:'Helvetica';font-size:medium;"><b>Subject: </b></span><span style="font-family:'Helvetica';font-size:medium;"><b>Returned "Unreachable" (-12) instead of "Success" (0)</b><br></span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;"><span style="font-family:'Helvetica';font-size:medium;"><b>Date: </b></span><span style="font-family:'Helvetica';font-size:medium;">May 16, 2012 4:18:28 AM MDT<br></span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;"><span
 style="font-family:'Helvetica';font-size:medium;"><b>To: </b></span><span style="font-family:'Helvetica';font-size:medium;">Open MPI Users &lt;<a rel="nofollow" ymailto="mailto:users@open-mpi.org" target="_blank" href="mailto:users@open-mpi.org">users@open-mpi.org</a>&gt;<br></span></div><div style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;"><span style="font-family:'Helvetica';font-size:medium;"><b>Reply-To: </b></span><span style="font-family:'Helvetica';font-size:medium;">devendra rai &lt;<a rel="nofollow" ymailto="mailto:rai.devendra@yahoo.co.uk" target="_blank" href="mailto:rai.devendra@yahoo.co.uk">rai.devendra@yahoo.co.uk</a>&gt;<br></span></div><br><br><div><div style="color:#000;background-color:#fff;font-family:verdana, helvetica, sans-serif;font-size:12pt;"><div><span><br></span></div>Hello All,<br><br>I am trying to run an OpenMPI application across two physical machines. <br><br>I get an error "Returned
 "Unreachable" (-12) instead of "Success" (0)", and looking through the logs (attached), I cannot seem to find out the cause, and how to fix it.<br><br>I see lot of (communication) components being loaded and then unloaded, and I do not see which nodes pick up what kind of comm-interface.<br><br><span style="color:rgb(127, 0, 127);">--------------------------------------------------------------------------</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">At least one pair of MPI processes are unable to reach each other for</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">MPI communications.&nbsp; This means that no Open MPI
 device has indicated</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">that it can be used to communicate between these processes.&nbsp; This is</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">an error; Open MPI requires that all MPI processes be able to reach</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">each other.&nbsp; This error can sometimes be the result of forgetting to</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">specify the "self" BTL.</span><br style="color:rgb(127, 0, 127);"><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">&nbsp; Process 1 ([[10782,1],6]) is on host: tik34x</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">&nbsp; Process 2 ([[10782,1],0]) is on host: tik33x</span><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127,
 0, 127);">&nbsp; BTLs attempted: self sm tcp</span><br style="color:rgb(127, 0, 127);"><br style="color:rgb(127, 0, 127);"><span style="color:rgb(127, 0, 127);">Your MPI job is now going to abort; sorry.</span><br><br><span style="color:rgb(0, 0, 0);">The "mpirun" line is:<br><br>mpirun --mca btl self,sm,tcp --mca btl_base_verbose 30 -report-pid -display-map -report-bindings -hostfile hostfile -np 7 -v --rankfile rankfile.txt -v --timestamp-output --tag-output ./xstartwrapper.sh ./run_gdb.sh&nbsp; <br><br>where the .sh files are fixes for forwarding X-windows from multiple machines to the machines where I am logged in.<br><br>Can anyone help?<br><br>Thanks a lot.<br><br>Best,<br><br>Devendra<br></span> <div style="font-family:verdana, helvetica, sans-serif;font-size:12pt;"> </div>  </div></div><span>&lt;MPILog.txt&gt;</span><br><br><span>&lt;MPILog.txt&gt;</span>_______________________________________________<br>users mailing list<br><a rel="nofollow"
 ymailto="mailto:users@open-mpi.org" target="_blank" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></div></div><br><br> </div> </div>  </div></body></html>
