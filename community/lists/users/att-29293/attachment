<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Looks to me like there is a bug in the orterun parser that is trying to add java library paths - I can take a look at it<div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On May 23, 2016, at 1:05 PM, Claudio Stamile &lt;<a href="mailto:claudiostamile@gmail.com" class="">claudiostamile@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">Hi Howard.<div class=""><br class=""></div><div class="">Thank you for your reply.</div><div class=""><br class=""></div><div class="">I'm using version 1.10.2</div><div class=""><br class=""></div><div class="">I executed the following command:</div><div class=""><br class=""></div><div class="">mpirun -np 2 --mca odls_base_verbose 100 java -cp alot:of:jarfile -Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx clustering.TensorClusterinCplexMPI<br class=""></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">the output is:</div><div class=""><p class=""><b class=""><span class="">	</span>Num procs: 2<span class="">	</span>FirstRank: 0<span class="">	</span>Recovery: DEFAULT<span class="">	</span>Max Restarts: 0</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[0]: java</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[1]: -cp</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[2]: /Applications/Eclipse.app/Contents/MacOS:/Users/stamile/Documents/workspace_newJava/TensorFactorization/bin:/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/lib/cplex.jar:/Users/stamile/Downloads/commons-lang3-3.4/commons-lang3-3.4.jar:/Users/stamile/Downloads/Jama-1.0.3.jar:/Users/stamile/Downloads/hyperdrive-master/hyperdrive.jar:/usr/local/lib:/usr/local/lib/mpi.jar</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[3]: /Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[4]: -Djava.library.path=-Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx:/usr/local/lib</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[5]: clustering.TensorClusterinCplexMPI</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[0]: OMPI_MCA_odls_base_verbose=100</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[1]: OMPI_COMMAND=clustering.TensorClusterinCplexMPI</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[2]: OMPI_MCA_orte_precondition_transports=e6a8891c458c267b-c079810b4abe7ebf</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[3]: OMPI_MCA_orte_peer_modex_id=0</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[4]: OMPI_MCA_orte_peer_init_barrier_id=1</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[5]: OMPI_MCA_orte_peer_fini_barrier_id=2</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[6]: TMPDIR=/var/folders/5t/6tqp003x4fn09fzgtx46tjdh0000gn/T/</b></p><p class=""><br class=""></p><p class="">Argv[4] looks strange. Indeed if I execute:</p><p class="">mpirun -np 2 --mca odls_base_verbose 100 java -cp alot:of:jarfile clustering.TensorClusterinCplexMPI<br class=""></p></div><div class="">The same as before without (&nbsp;-Djava.library.path=/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/bin/x86-64_osx&nbsp;) i obtain:</div><div class=""><br class=""></div><div class=""><p class=""><b class="">Argv[0]: java</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[1]: -Djava.library.path=/usr/local/lib</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[2]: -cp</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[3]: /Applications/Eclipse.app/Contents/MacOS:/Users/stamile/Documents/workspace_newJava/TensorFactorization/bin:/Users/stamile/Applications/IBM/ILOG/CPLEX_Studio1263/cplex/lib/cplex.jar:/Users/stamile/Downloads/commons-lang3-3.4/commons-lang3-3.4.jar:/Users/stamile/Downloads/Jama-1.0.3.jar:/Users/stamile/Downloads/hyperdrive-master/hyperdrive.jar:/usr/local/lib:/usr/local/lib/mpi.jar</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Argv[4]: clustering.TensorClusterinCplexMPI</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[0]: OMPI_MCA_odls_base_verbose=100</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[1]: OMPI_COMMAND=clustering.TensorClusterinCplexMPI</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[2]: OMPI_MCA_orte_precondition_transports=92248561306f2b2e-601ae65dc34a347c</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[3]: OMPI_MCA_orte_peer_modex_id=0</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[4]: OMPI_MCA_orte_peer_init_barrier_id=1</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[5]: OMPI_MCA_orte_peer_fini_barrier_id=2</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[6]: TMPDIR=/var/folders/5t/6tqp003x4fn09fzgtx46tjdh0000gn/T/</b></p><p class=""><b class="">&nbsp;<span class="">	</span>Env[7]: __CF_USER_TEXT_ENCODING=0x1F5:0x0:0x4</b></p><p class=""><b class=""><br class=""></b></p><p class="">What do you think ?</p><p class="">Best,</p><p class="">Claudio</p></div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">2016-05-23 19:38 GMT+02:00 Howard Pritchard <span dir="ltr" class="">&lt;<a href="mailto:hppritcha@gmail.com" target="_blank" class="">hppritcha@gmail.com</a>&gt;</span>:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr" class="">Hello Claudio,<div class=""><br class=""></div><div class="">mpirun should be combining your java.library.path option with the one needed to add</div><div class="">the Open MPI's java bindings as well. &nbsp;</div><div class=""><br class=""></div><div class="">Which version of Open MPI are you using?</div><div class=""><br class=""></div><div class="">Could you first try to compile the Ring.java code in ompi/examples and run it with the</div><div class="">following additional mpirun parameter?</div><div class=""><br class=""></div><div class="">mpirun -np 1 --mca odls_base_verbose 100 java Ring</div><div class=""><br class=""></div><div class="">then try your application with the same "odls_base_verbose" mpirun option</div><div class=""><br class=""></div><div class="">and post the output from the two runs to the mail list?</div><div class=""><br class=""></div><div class="">I suspect there may be a bug with building the combined java.library.path</div><div class="">in the Open MPI code.</div><div class=""><br class=""></div><div class="">Howard</div><div class=""><br class=""></div></div><div class="gmail_extra"><br class=""><div class="gmail_quote"><div class=""><div class="h5">2016-05-23 9:47 GMT-06:00 Claudio Stamile <span dir="ltr" class="">&lt;<a href="mailto:claudiostamile@gmail.com" target="_blank" class="">claudiostamile@gmail.com</a>&gt;</span>:<br class=""></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=""><div class="h5"><div dir="ltr" class=""><span style="font-size:12.8px" class="">Dear all,</span><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">I'm using openmpi for Java.</div><div style="font-size:12.8px" class="">I've a problem when I try to use more option parameters in my java command. More in detail I run mpirun as follow:</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">mpirun -n 5 java -cp path1:path2 -Djava.library.path=pathLibs classification.MyClass</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">It seems that the option "-Djava.library.path" is ignored when i execute the command.</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">Is it normal ?</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">Do you know how to solve this problem ?</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">Thank you.</div><div style="font-size:12.8px" class=""><br class=""></div><div style="font-size:12.8px" class="">Best,</div><div style="font-size:12.8px" class="">Claudio</div><span class=""><font color="#888888" class=""><div class=""><br class=""></div>-- <br class=""><div class="">C.</div>
</font></span></div>
<br class=""></div></div>_______________________________________________<br class="">
users mailing list<br class="">
<a href="mailto:users@open-mpi.org" target="_blank" class="">users@open-mpi.org</a><br class="">
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank" class="">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29285.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2016/05/29285.php</a><br class=""></blockquote></div><br class=""></div>
<br class="">_______________________________________________<br class="">
users mailing list<br class="">
<a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank" class="">https://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2016/05/29288.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2016/05/29288.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature">C.</div>
</div>
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">Subscription: https://www.open-mpi.org/mailman/listinfo.cgi/users<br class="">Link to this post: http://www.open-mpi.org/community/lists/users/2016/05/29292.php</div></blockquote></div><br class=""></div></body></html>
