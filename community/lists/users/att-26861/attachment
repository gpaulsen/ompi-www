<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Okay, so we see two nodes have been allocated:<div class=""><br class=""></div><div class="">1. JARVICENAE27 - appears to be the node where mpirun is running</div><div class=""><br class=""></div><div class="">2. 10.3.0.176</div><div class=""><br class=""></div><div class="">Does that match what you expected?</div><div class=""><br class=""></div><div class="">If you cannot ssh (without a password) between machines, then we will not be able to run.</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On May 13, 2015, at 12:21 AM, Rahul Yadav &lt;<a href="mailto:roborahul@gmail.com" class="">roborahul@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">I get following output with verbose<div class=""><br class=""></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: registering ras components</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: found loaded component loadleveler</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: component loadleveler register function successful</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: found loaded component simulator</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: component simulator register function successful</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: found loaded component slurm</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_register: component slurm register function successful</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: opening ras components</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: found loaded component loadleveler</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: component loadleveler open function successful</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: found loaded component simulator</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: found loaded component slurm</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca: base: components_open: component slurm open function successful</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select: Auto-selecting ras components</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Querying component [loadleveler]</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Skipping component [loadleveler]. Query failed to return a module</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Querying component [simulator]</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Skipping component [simulator]. Query failed to return a module</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Querying component [slurm]</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) Skipping component [slurm]. Query failed to return a module</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">[JARVICENAE27:00654] mca:base:select:( &nbsp;ras) No component selected!</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">====================== &nbsp; ALLOCATED NODES &nbsp; ======================</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">&nbsp; &nbsp; &nbsp; &nbsp;JARVICENAE27: slots=1 max_slots=0 slots_inuse=0 state=UP</span><br style="outline:none;color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">&nbsp; &nbsp; &nbsp; &nbsp;<a href="http://10.3.0.176/" class="">10.3.0.176</a>: slots=1 max_slots=0 slots_inuse=0 state=UNKNOWN</span><br class=""></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><br class=""></span></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">Also, I am not able to ssh to other machine from one machine in chroot environment. Can that be a problem ?</span></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class=""><br class=""></span></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">Thanks</span></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">Rahul</span></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Thu, May 7, 2015 at 8:06 AM, Ralph Castain <span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">Try adding —mca ras_base_verbose 10 to your cmd line and let’s see what it thinks it is doing. Which OMPI version are you using - master?<div class=""><br class=""></div><div class=""><br class=""><div class=""><blockquote type="cite" class=""><div class=""><div class="h5"><div class="">On May 6, 2015, at 11:24 PM, Rahul Yadav &lt;<a href="mailto:roborahul@gmail.com" target="_blank" class="">roborahul@gmail.com</a>&gt; wrote:</div><br class=""></div></div><div class=""><div class=""><div class="h5"><div dir="ltr" class=""><div class="">Hi,</div><div class=""><br class=""></div><div class="">We have been trying to run MPI jobs (consisting of two different binaries, one each ) in two nodes, &nbsp;using hostfile option as following</div><div class=""><br class=""></div><div class=""><span style="color:rgb(38,38,38);font-size:13px;line-height:16px" class="">mpirun --allow-run-as-root --mca pml yalla -n 1 --hostfile /root/host1 /root/app2 : -n 1 --hostfile /root/host2 /root/backend</span><br class=""></div><div class=""><br class=""></div><div class="">We are doing this in chroot environment. We have set the HPCX env in chroot'ed environment itself. /root/host1 and /root/host2 (inside chroot env) contains IPs of two nodes respectively.</div><div class=""><br class=""></div><div class="">We are getting following error</div><div class=""><br class=""></div><div class="">" all nodes which are allocated for this job are already filled "</div><div class=""><br class=""></div><div class="">However when we use chroot but don't use hostfile option (both processes run in same node) OR we use hostfile option but outside chroot, it works.</div><div class=""><br class=""></div><div class="">Anyone has any idea if chroot can cause above error and how to solve it ?</div><div class=""><br class=""></div><div class="">Thanks</div><div class="">Rahul</div></div></div></div>
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" target="_blank" class="">users@open-mpi.org</a><br class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/05/26845.php" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2015/05/26845.php</a></div></blockquote></div><br class=""></div></div><br class="">_______________________________________________<br class="">
users mailing list<br class="">
<a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/05/26847.php" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2015/05/26847.php</a><br class=""></blockquote></div><br class=""></div></div>
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br class="">Link to this post: http://www.open-mpi.org/community/lists/users/2015/05/26860.php</div></blockquote></div><br class=""></div></body></html>
