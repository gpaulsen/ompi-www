<div dir="ltr">right, it is not attribute of mxm, but general effect.<div>and you are right again - performance engineering will always be needed for best performance in some cases.</div><div><br></div><div>OMPI, mxm trying to address out of the box performance for any workload, but OS tuning, hw tuning, OMPI or mxm tuning may be needed as well. (there is a reason that any MPI have hundreds of knobs)</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Thu, Oct 1, 2015 at 1:50 PM, Dave Love <span dir="ltr">&lt;<a href="mailto:d.love@liverpool.ac.uk" target="_blank">d.love@liverpool.ac.uk</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class="">Mike Dubman &lt;<a href="mailto:miked@dev.mellanox.co.il">miked@dev.mellanox.co.il</a>&gt; writes:<br>
<br>
&gt; we did not get to the bottom for &quot;why&quot;.<br>
&gt; Tried different mpi packages (mvapich,intel mpi) and the observation hold<br>
&gt; true.<br>
<br>
</span>Does that mean it&#39;s a general effect, unrelated to mxm, or that it is<br>
related?<br>
<span class=""><br>
&gt; it could be many factors affected by huge heap size (cpu cache misses?<br>
&gt; swapness?).<br>
<br>
</span>I&#39;m sure we&#39;re grateful for any information, and I don&#39;t mean to be<br>
rude, but this could be frustrating to people told they should do<br>
performance engineering and trying to understand what might be going on.<br>
[Was &quot;heap&quot; a typo?]<br>
<span class=""><br>
&gt; On Wed, Sep 30, 2015 at 1:12 PM, Dave Love &lt;<a href="mailto:d.love@liverpool.ac.uk">d.love@liverpool.ac.uk</a>&gt; wrote:<br>
&gt;<br>
&gt;&gt; Mike Dubman &lt;<a href="mailto:miked@dev.mellanox.co.il">miked@dev.mellanox.co.il</a>&gt; writes:<br>
&gt;&gt;<br>
&gt;&gt; &gt; Hello Grigory,<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; We observed ~10% performance degradation with heap size set to unlimited<br>
&gt;&gt; &gt; for CFD applications.<br>
&gt;&gt;<br>
&gt;&gt; OK, but why?Â  It would help to understand what the mechanism is, and why<br>
&gt;&gt; MXM specifically tells you to set the stack to the default, which may<br>
&gt;&gt; well be wrong for the application.<br>
<br>
_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
</span>Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/10/27759.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/users/2015/10/27759.php</a><br>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><br><div>Kind Regards,</div><div><br></div><div>M.</div></div></div>
</div>

