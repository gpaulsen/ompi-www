<div dir="ltr">We would like to use MPI on Docker with arbitrarily configured clusters (e.g. created with StarCluster or bare metal). What I&#39;m curious about is if there is a queue manager that understands Docker, file systems, MPI, and OpenAuth. JupyterHub does a lot of this, but it doesn&#39;t interface with MPI. Ideally, we&#39;d like users to be able to queue up jobs directly from JupyterHub.<div><br></div><div>Currently, we can configure and initiate an MPI-compatible Docker cluster running on a VPC using Salt. What&#39;s missing is the ability to manage a queue of these clusters. Here&#39;s a list of requirements:</div><div><br></div><div><ul style="padding-left:2em;margin-top:0px;margin-bottom:16px;color:rgb(51,51,51);font-family:&#39;Helvetica Neue&#39;,Helvetica,&#39;Segoe UI&#39;,Arial,freesans,sans-serif,&#39;Apple Color Emoji&#39;,&#39;Segoe UI Emoji&#39;,&#39;Segoe UI Symbol&#39;;line-height:25.6px"><li>JupyterHub users do not have Unix user ids</li><li>Containers must be started as a non-root guest user (--user)</li><li>JupyterHub user&#39;s data directory is mounted in container</li><li>Data is shared via NFS or other cluster file system</li><li>sshd runs in container for MPI as guest user</li><li>Results have to be reported back to GitHub user</li><li>MPI network must be visible (--net=host)</li><li>Queue manager must be compatible with the above</li><li>JupyterHub user is not allowed to interact with Docker directly</li><li style="">Docker images are user selectable (from an approved list)</li><li style="">Jupyter and MPI containers started from same image</li></ul>Know of a system which supports this?</div><div><br></div><div>Our code and config are open source, and your feedback would be greatly appreciated.</div><div><br></div><div>Salt configuration: <a href="https://github.com/radiasoft/salt-conf">https://github.com/radiasoft/salt-conf</a><br></div><div>Container builders: <a href="https://github.com/radiasoft/containers/tree/master/radiasoft">https://github.com/radiasoft/containers/tree/master/radiasoft</a></div><div>Early phase wiki: <a href="https://github.com/radiasoft/devops/wiki/DockerMPI">https://github.com/radiasoft/devops/wiki/DockerMPI</a></div><div><br></div><div>Thanks,<br></div><div>Rob</div><div><br></div></div>

