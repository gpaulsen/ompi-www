<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><DIV>Hi,</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I've been using openmpi-1.1.5 with no problems, but I decided to move up to version 1.2 yesterday.  I am working with the developers' version of PETSc, so I attempted to configure it using the newly-installed open-mpi.  When I tried this, though, I ran into the following problem (from PETsc's configure.log):</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Possible ERROR while running preprocessor: In file included from /Users/willic3/</DIV><DIV>geoframe/tools/openmpi-debug/include/mpi.h:1783,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/include/petsc.</DIV><DIV>h:138,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/ALE.hh:4,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/Sifter.hh:15,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/Sieve.hh:12,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/Topology.hh:5,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/SectionCompletion.hh:5,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/Numbering.hh:5,</DIV><DIV>                 from /Users/willic3/geoframe/tools/petsc-dev-new/src/dm/mesh/si</DIV><DIV>eve/Mesh.hh:5,</DIV><DIV>                 from conftest.cc:3:</DIV><DIV>/Users/willic3/geoframe/tools/openmpi-debug/include/openmpi/ompi/mpi/cxx/mpicxx.</DIV><DIV>h:162:36: error: ompi/mpi/cxx/constants.h: No such file or directory</DIV><DIV>/Users/willic3/geoframe/tools/openmpi-debug/include/openmpi/ompi/mpi/cxx/mpicxx.</DIV><DIV>h:163:36: error: ompi/mpi/cxx/functions.h: No such file or directory</DIV><DIV>/Users/willic3/geoframe/tools/openmpi-debug/include/openmpi/ompi/mpi/cxx/mpicxx.</DIV><DIV>h:164:35: error: ompi/mpi/cxx/datatype.h: No such file or directory</DIV><DIV>ret = 256</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Here is what I have for my mpicxx:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>mpicxx --show</DIV><DIV>g++ -D_REENTRANT -I/Users/willic3/geoframe/tools/openmpi-debug/include -g -mcpu=G5 -Wl,-u,_munmap -Wl,-multiply_defined,suppress -L/Users/willic3/geoframe/tools/openmpi-debug/lib -lmpi_cxx -lmpi -lopen-rte -lopen-pal</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I can make a change to mpicxx.h that fixes the problem:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>diff mpicxx-orig.h mpicxx.h </DIV><DIV>162,164c162,164</DIV><DIV>&lt; #include "ompi/mpi/cxx/constants.h"</DIV><DIV>&lt; #include "ompi/mpi/cxx/functions.h"</DIV><DIV>&lt; #include "ompi/mpi/cxx/datatype.h"</DIV><DIV>---</DIV><DIV>&gt; #include "openmpi/ompi/mpi/cxx/constants.h"</DIV><DIV>&gt; #include "openmpi/ompi/mpi/cxx/functions.h"</DIV><DIV>&gt; #include "openmpi/ompi/mpi/cxx/datatype.h"</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I don't know if this is the correct approach, though.  Are the paths actually incorrect or have I configured open-mpi incorrectly?</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Thanks,</DIV><DIV>Charles</DIV><DIV><BR class="khtml-block-placeholder"></DIV><BR><DIV> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Charles A. Williams</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Dept. of Earth &amp; Environmental Sciences</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Science Center, 2C01B</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Rensselaer Polytechnic Institute</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Troy, NY<SPAN class="Apple-converted-space">  </SPAN>12180</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">Phone:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">    </SPAN></SPAN>(518) 276-3369</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">FAX:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">        </SPAN></SPAN>(518) 276-2012</FONT></P> <P style="margin: 0.0px 0.0px 0.0px 0.0px"><FONT face="Helvetica" size="3" style="font: 12.0px Helvetica">e-mail:<SPAN class="Apple-converted-space"><SPAN class="Apple-converted-tab">    </SPAN></SPAN><A href="mailto:willic3@rpi.edu">willic3@rpi.edu</A></FONT></P> <BR class="Apple-interchange-newline"> </DIV><BR></BODY></HTML>
