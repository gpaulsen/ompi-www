<div dir="ltr">Because the compiler does not know that you want to send the entire sub-matrix, passing non-contiguous arrays to a function is, at best, dangerous, do not do that unless you know the function can handle that. <div>Do AA(1,1,2) and then it works. (in principle you then pass the starting memory location and MPI assumes it to be contiguous).<div>Or do A(:,:,2:3), which ensures that the matrix is passed by reference and hence the memory will also be contiguous.</div><div><br></div><div><br></div><div><div><br></div></div></div></div><div class="gmail_extra"><br><div class="gmail_quote">2015-01-31 22:16 GMT+00:00 Diego Avesani <span dir="ltr">&lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><span style="font-size:12.8000001907349px">Dear all,</span><div style="font-size:12.8000001907349px">here how I create a 2D vector type to send 3D array element:</div><div style="font-size:12.8000001907349px"><br></div><div style="font-size:12.8000001907349px">(in the attachment)</div><div style="font-size:12.8000001907349px"><br></div><div style="font-size:12.8000001907349px">The vectors are:</div><div style="font-size:12.8000001907349px">real*4  AA(4,5,3), BB(4,5,3)<br></div><div style="font-size:12.8000001907349px">In my idea both AA and BB have three elements (last columns) and each elements has (4x5) features.</div><div style="font-size:12.8000001907349px"><br></div><div style="font-size:12.8000001907349px">1) What do you think?</div><div style="font-size:12.8000001907349px"><br></div><div style="font-size:12.8000001907349px">2) why I can not send AA(1,1,2:3) as</div><div style="font-size:12.8000001907349px"> call MPI_SEND(AA(1,1,2:3), 2, rowtype, 1, 300, MPI_COMM_WORLD, ierr)<br></div><div style="font-size:12.8000001907349px"><br></div><div style="font-size:12.8000001907349px">Thanks a lot</div><span class="HOEnZb"><font color="#888888"><div style="font-size:12.8000001907349px"><br></div><div><div>Diego<br><br></div></div>
</font></span></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/01/26246.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/01/26246.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div>Kind regards Nick</div></div></div>
</div>

