<div dir="ltr"><div>During make I get several instruction errors for push, <span class="" style>pushl</span>, pop, and <span class="" style>popl</span> at atomic-<span class="" style>asm</span>.S , which is included indirectly in <span class="" style>asm</span>.c .  For example, for the first reported &quot;Error&quot;, the instruction<br>
</div><div><br></div><div><span class="" style="white-space:pre">	</span><span class="" style>pushl</span><span style="white-space:pre">    </span>%<span class="" style>ebp</span><br></div><div><br></div><div>apparently generates the error message</div>
<div><br></div><div>atomic-<span class="" style>asm</span>.S:5: Error: invalid instruction suffix for `push&#39;<br></div><div><br></div><div>There are several more Error messages like that.</div><div><br></div><div>---</div>
<div><br></div><div>And the instruction</div><div><br></div><div><span class="" style="white-space:pre">	</span>push    %<span class="" style>ebx</span><br></div><div><br></div><div><div>apparently generates the error message</div>
</div><div><br></div><div>atomic-<span class="" style>asm</span>.S:64: Error: operand type mismatch for `push&#39;<br></div><div><br></div><div>---</div><div><br></div><div>And the instruction</div><div><br></div><div><span class="" style="white-space:pre">	</span>pop   %<span class="" style>ebx</span><br>
</div><div><br></div><div><div>apparently generates the error message</div></div><div><br></div><div>atomic-<span class="" style>asm</span>.S:68: Error: operand type mismatch for `pop&#39;<br></div><div><br></div><div>---</div>
<div><br></div><div>And the instruction<br></div><div><br></div><div><span class="" style="white-space:pre">	</span><span class="" style>popl</span><span style="white-space:pre">   </span>%<span class="" style>ebp</span><br>
</div><div><br></div><div><div>apparently generates the error message</div></div><div><br></div><div>atomic-<span class="" style>asm</span>.S:75: Error: invalid instruction suffix for `pop&#39;<br></div><div><br></div><div>
-----------------------------------------------</div><div><br></div><div>It seems worth noting that make does a symbolic link involving &quot;atomic-<span class="" style>asm</span>.S&quot; immediately before the processing of this file, which generates the errors, but the configure output reports</div>
<div><br></div><div>checking whether <span class="" style>ln</span> -s works... no, using <span class="" style>cp</span> -p<br></div><div><br></div><div>as if symbolic links will not be used.</div><div><br></div><div>----------------------------------------</div>
<div><br></div><div>The configure output was generated by executing the script file &quot;<span class="" style>mpiconfigure</span>&quot; via command</div><div><br></div><div><font face="courier new, monospace"><b>$ <span class="" style>mpiconfigure</span>  &amp;&gt;  <span class="" style>openmpi</span>-1.6.5_configure.out</b></font><br>
</div><div><br></div><div>&quot;<span class="" style>mpiconfigure</span>&quot; executes</div><div><br></div><div><font face="courier new, monospace"><b>export <span class="" style>LD</span>_LIBRARY_PATH=/c/MinGW64/lib/<span class="" style>gcc</span>/x86_64-w64-mingw32/4.6.1</b></font><br>
</div><div><br></div><div>just before executing ./configure ... so that I won&#39;t forget to set <span class="" style>LD</span>_LIBRARY_PATH .</div><div><br></div><div>The make command used was</div><div><br></div><div><font face="courier new, monospace"><b>$ make -j 2     &amp;&gt;  make_-j_2.out</b></font></div>
<div><div><br></div><div>I am using the <span class="" style>Mingw</span> <span class="" style>MSYS</span> 1.0 command-window/bash in a Windows 7 environment for processing the commands.</div><div><br></div><div>The compilers are <span class="" style>Mingw</span> 64-bit as reported in <span class="" style>config</span>.log ; these are not &quot;official&quot; <span class="" style>Mingw</span> compiler versions, but supposedly are very nearly so -- see <a href="http://tdm-gcc.tdragon.net/">http://<span class="" style>tdm</span>-<span class="" style>gcc</span>.<span class="" style>tdragon</span>.net/</a> for details:</div>
<div><br></div><div><div>configure:5375: <span class="" style>gcc</span> --version &gt;&amp;5</div><div><span class="" style>gcc</span>.<span class="" style>exe</span> (tdm64-1) 4.6.1</div></div><div><br></div><div><div>configure:15880: g++ --version &gt;&amp;5</div>
<div>g++.<span class="" style>exe</span> (tdm64-1) 4.6.1</div></div><div><br></div><div><div>configure:28191: <span class="" style>gfortran</span>.<span class="" style>exe</span> --version &gt;&amp;5</div><div>GNU <span class="" style>Fortran</span> (tdm64-1) 4.6.1</div>
</div><div><br></div><div>The processor is an Intel <span class="" style>Sandybridge</span> i5, with capability for parallel execution of four threads.</div><div><br></div><div>My guess is that these errors are due simply to a mismatch between the assembly instructions <span class="" style>gcc</span> can understand and the assembly instructions that <span class="" style>OpenMPI</span> assumes <span class="" style>gcc</span> can understand.</div>
<div><br></div><div>Is there some flag I can set to tell <span class="" style>gcc</span> that a particular assembly language (dialect) is being used?  And, if so, can I set it for make without having to re-run configure?</div>
<div><br></div>-- <br><i><font face="courier new, monospace">- Richard Haney</font></i>
</div><div><i><font face="courier new, monospace"><br></font></i></div></div>

