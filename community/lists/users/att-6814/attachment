<HTML dir=ltr><HEAD><TITLE>Re: [OMPI users] 1.2.2 to 1.2.7 differences.</TITLE>
<META http-equiv=Content-Type content="text/html; charset=unicode">
<META content="MSHTML 6.00.2900.3199" name=GENERATOR></HEAD>
<BODY>
<DIV id=idOWAReplyText21667 dir=ltr>
<DIV dir=ltr><FONT face=Arial color=#000000 size=2>Hi Jeff,</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV dir=ltr><FONT face=Arial size=2>Thanks for the reply.&nbsp; I built 1.2.2 with configure/make/make install.</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2>but I built 1.2.7 with the srpm.&nbsp; Perhaps I will try the tar file.</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV dir=ltr><FONT face=Arial size=2>Thanks,</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2>Joe</FONT></DIV>
<DIV dir=ltr><FONT face=Arial size=2></FONT>&nbsp;</DIV></DIV>
<DIV dir=ltr><BR>
<HR tabIndex=-1>
<FONT face=Tahoma size=2><B>From:</B> users-bounces@open-mpi.org on behalf of Jeff Squyres<BR><B>Sent:</B> Wed 10/1/2008 5:35 PM<BR><B>To:</B> Open MPI Users<BR><B>Subject:</B> Re: [OMPI users] 1.2.2 to 1.2.7 differences.<BR></FONT><BR></DIV>
<DIV>
<P><FONT size=2>Joe -- AFAIK, we didn't change anything with regards to OPAL_PREFIX in&nbsp;<BR>the 1.2 series.&nbsp; Here's my tests on a 1.2.7 installation:<BR><BR>-----<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % head config.log<BR>This file contains any messages produced by compilers while<BR>running configure, to aid debugging if configure makes a mistake.<BR><BR>It was created by Open MPI configure 1.2.7, which was<BR>generated by GNU Autoconf 2.61.&nbsp; Invocation command line was<BR><BR>&nbsp;&nbsp; $ ./configure --prefix=/tmp/bogus<BR><BR>## --------- ##<BR>## Platform. ##<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % /tmp/bogus/bin/mpirun -<BR>np 2 uptime<BR>&nbsp; 17:34:06 up 42 days, 23:36,&nbsp; 4 users,&nbsp; load average: 0.57, 1.22, 0.79<BR>&nbsp; 17:34:06 up 42 days, 23:36,&nbsp; 4 users,&nbsp; load average: 0.57, 1.22, 0.79<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % mv /tmp/bogus /tmp/<BR>bogus-foo<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % setenv OPAL_PREFIX /<BR>tmp/bogus-foo<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % setenv&nbsp;<BR>LD_LIBRARY_PATH /tmp/bogus-foo/lib<BR>[17:34] svbu-mpi:/home/jsquyres/openmpi-1.2.7 % /tmp/bogus-foo/bin/<BR>mpirun -np 2 uptime<BR>&nbsp; 17:34:47 up 42 days, 23:37,&nbsp; 4 users,&nbsp; load average: 0.80, 1.19, 0.80<BR>&nbsp; 17:34:47 up 42 days, 23:37,&nbsp; 4 users,&nbsp; load average: 0.80, 1.19, 0.80<BR>-----<BR><BR><BR>On Sep 30, 2008, at 3:33 PM, Joe Griffin wrote:<BR><BR>&gt; Hello All,<BR>&gt;<BR>&gt; My OpenMPI 1.2.2 version works fine.&nbsp;&nbsp; I think OPAL_PREFIX has&nbsp;<BR>&gt; changed.&nbsp; I install from RPM with --prefix.&nbsp; When I run with 1.2.7 I&nbsp;<BR>&gt; get the error:<BR>&gt;<BR>&gt; [em64t6:23450] [NO-NAME] ORTE_ERROR_LOG: Not found in file runtime/<BR>&gt; orte_init_stage1.c at line 182<BR>&gt; --------------------------------------------------------------------------<BR>&gt; Sorry!&nbsp; You were supposed to get help about:<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp; orte_init:startup:internal-failure<BR>&gt; from the file:<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp; help-orte-runtime<BR>&gt; But I couldn't find any file matching that name.&nbsp; Sorry!<BR>&gt;<BR>&gt;<BR>&gt; I tried just running MPI run<BR>&gt;<BR>&gt; em64t6 &lt;82&gt; setenv LD_LIBRARY_PATH /usr/local/openmpi-1.2.7/lib64/<BR>&gt; em64t6 &lt;83&gt; setenv OPAL_PREFIX /usr/local/openmpi-1.2.7<BR>&gt; em64t6 &lt;84&gt; /usr/local/openmpi-1.2.7/bin/mpirun --help<BR>&gt; --------------------------------------------------------------------------<BR>&gt; Sorry!&nbsp; You were supposed to get help about:<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp; orterun:usage<BR>&gt; from the file:<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp; help-orterun.txt<BR>&gt; But I couldn't find any file matching that name.&nbsp; Sorry!<BR>&gt; --------------------------------------------------------------------------<BR>&gt;<BR>&gt;<BR>&gt; The file exists, so I think my OPAL_PREFIX that worked in 1.2.2 does&nbsp;<BR>&gt; not seem<BR>&gt; to work like 1.2.7:<BR>&gt;<BR>&gt; em64t6 &lt;85&gt; ls -l $OPAL_PREFIX/share/openmpi/help-orterun.txt<BR>&gt; -rw-r--r--&nbsp; 1 root root 5718 Sep 29 07:23 /usr/local/openmpi-1.2.7/<BR>&gt; share/openmpi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /help-<BR>&gt; orterun.txt<BR>&gt;<BR>&gt;<BR>&gt; The above works with 1.2.2.&nbsp; I searched the DOC and MAN pages for&nbsp;<BR>&gt; OPAL_PREFIX, but could<BR>&gt; not find anything.&nbsp;&nbsp; Can someone please tell me what has changed?&nbsp;&nbsp;&nbsp;<BR>&gt; I am including opmi_info for completeness:<BR>&gt;<BR>&gt;<BR>&gt; em64t6 &lt;93&gt; /usr/local/openmpi-1.2.7/bin/ompi_info<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Open MPI: 1.2.7<BR>&gt;&nbsp;&nbsp;&nbsp; Open MPI SVN revision: r19401<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Open RTE: 1.2.7<BR>&gt;&nbsp;&nbsp;&nbsp; Open RTE SVN revision: r19401<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPAL: 1.2.7<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OPAL SVN revision: r19401<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Prefix: /usr/local/openmpi-1.2.7<BR>&gt;&nbsp; Configured architecture: x86_64-redhat-linux-gnu<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Configured by: root<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Configured on: Mon Sep 29 07:15:16 PDT 2008<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Configure host: em64t6<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Built by: root<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Built on: Mon Sep 29 07:23:22 PDT 2008<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Built host: em64t6<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C bindings: yes<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C++ bindings: yes<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran77 bindings: yes (all)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran90 bindings: no<BR>&gt;&nbsp; Fortran90 bindings size: na<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C compiler: gcc<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C compiler absolute: /usr/bin/gcc<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C++ compiler: g++<BR>&gt;&nbsp;&nbsp;&nbsp; C++ compiler absolute: /usr/bin/g++<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran77 compiler: g77<BR>&gt;&nbsp;&nbsp; Fortran77 compiler abs: /usr/bin/g77<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran90 compiler: none<BR>&gt;&nbsp;&nbsp; Fortran90 compiler abs: none<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C profiling: yes<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C++ profiling: yes<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran77 profiling: yes<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fortran90 profiling: no<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C++ exceptions: no<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Thread support: posix (mpi: no, progress: no)<BR>&gt;&nbsp;&nbsp; Internal debug support: no<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI parameter check: runtime<BR>&gt; Memory profiling support: no<BR>&gt; Memory debugging support: no<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; libltdl support: yes<BR>&gt;&nbsp;&nbsp;&nbsp; Heterogeneous support: yes<BR>&gt;&nbsp; mpirun default --prefix: no<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCA backtrace: execinfo (MCA v1.0, API v1.0, Component&nbsp;<BR>&gt; v1.2.7)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCA memory: ptmalloc2 (MCA v1.0, API v1.0, Component&nbsp;<BR>&gt; v1.2.7)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCA timer: linux (MCA v1.0, API v1.0, Component v1.2.7)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCA installdirs: env (MCA v1.0, API v1.0, Component v1.2.7)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCA installdirs: config (MCA v1.0, API v1.0, Component&nbsp;<BR>&gt; v1.2.7)<BR>&gt;<BR>&gt; Can someone please tell me what has changed?<BR>&gt; Regards,<BR>&gt; Joe Griffin<BR>&gt;<BR>&gt; _______________________________________________<BR>&gt; users mailing list<BR>&gt; users@open-mpi.org<BR>&gt; <A href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</A><BR><BR><BR>--<BR>Jeff Squyres<BR>Cisco Systems<BR><BR>_______________________________________________<BR>users mailing list<BR>users@open-mpi.org<BR><A href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</A><BR></FONT></P></DIV></BODY></HTML>
