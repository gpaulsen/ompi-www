Dear all, <div><br></div><div>I am willing to use OpenMPI on Windows for a CFD instead of  MPICH2. My solver is developed if Fortran77 and piloted by a C++ interface; the both levels call MPI functions. </div><div><br></div>
<div>So, I installed OpenMPI-1.6.2-x64 on my system and compiled my code successfully. But, at the runtime it crashed. </div><div>I reproduced the problem into a small C application calling a Fortran function using MPI_Allreduce; when I removed some aggressive optimization options from the Fortran, it worked:</div>
<b id="internal-source-marker_0.5611239508725703" style="font-family:&#39;Times New Roman&#39;;font-size:medium;font-weight:normal"><ul style="margin-top:0pt;margin-bottom:0pt"><li style="list-style-type:disc;font-size:13px;font-family:&#39;Courier New&#39;;vertical-align:baseline">
<p dir="ltr" style="margin-right:4.5pt;text-align:justify;margin-top:0pt;margin-bottom:0pt"><span style="vertical-align:baseline;white-space:pre-wrap">Optimization: Disable (/Od)</span></p></li><li style="list-style-type:disc;font-size:13px;font-family:&#39;Courier New&#39;;vertical-align:baseline">
<p dir="ltr" style="margin-right:4.5pt;text-align:justify;margin-top:0pt;margin-bottom:0pt"><span style="vertical-align:baseline;white-space:pre-wrap">Inline Function Expansion: Any Suitable (/Ob2)</span></p></li><li style="list-style-type:disc;font-size:13px;font-family:&#39;Courier New&#39;;vertical-align:baseline">
<p dir="ltr" style="margin-right:4.5pt;text-align:justify;margin-top:0pt;margin-bottom:0pt"><span style="vertical-align:baseline;white-space:pre-wrap">Favor Size or Speed: Favor Fast Code (/Ot)</span></p></li></ul></b><div>
<br></div><div>So, I removed the same options from the Fortran parts of my solver, but it still crashes. I tried some others, but it still continues crashing. Does anybody has an idea? Should I (de)activate some compilation options? Is there some properties to build and link against libmpi_f77.lib?</div>
<div><br></div><div>Thanks for your help. </div><div>Mathieu.</div><div><div><br></div>-- <br>Mathieu Gontier<br>- MSN: <a href="mailto:mathieu.gontier@gmail.com">mathieu.gontier@gmail.com</a><br>- Skype: mathieu_gontier<br>

</div>

