<?
$subject_val = "Re: [OMPI users] Why does make run autoconfig?";
include("../../include/msg-header.inc");
?>
<!-- received="Tue Aug 25 20:22:04 2015" -->
<!-- isoreceived="20150826002204" -->
<!-- sent="Wed, 26 Aug 2015 00:22:00 +0000" -->
<!-- isosent="20150826002200" -->
<!-- name="Jeff Squyres (jsquyres)" -->
<!-- email="jsquyres_at_[hidden]" -->
<!-- subject="Re: [OMPI users] Why does make run autoconfig?" -->
<!-- id="D3A27B74-9D31-4256-8718-580EC74EED07_at_cisco.com" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="BLU184-W6547A7B3C855C1DC9101AF9B610_at_phx.gbl" -->
<!-- expires="-1" -->
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<p class="headers">
<strong>Subject:</strong> Re: [OMPI users] Why does make run autoconfig?<br>
<strong>From:</strong> Jeff Squyres (jsquyres) (<em>jsquyres_at_[hidden]</em>)<br>
<strong>Date:</strong> 2015-08-25 20:22:00
</p>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="27495.php">Roy Stogner: "[OMPI users] MPI_LB in a recursive type"</a>
<li><strong>Previous message:</strong> <a href="27493.php">Ralph Castain: "Re: [OMPI users] ssh: Could not resolve hostname xxxx: Name or service not known (v1.8+)"</a>
<li><strong>In reply to:</strong> <a href="27492.php">Bryan Flynt: "[OMPI users] Why does make run autoconfig?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr>
<!-- body="start" -->
<p>
This typically happens in one of three cases:
<br>
<p>1. You ran autogen.sh (and it didn't complete properly)
<br>
&nbsp;&nbsp;&nbsp;--&gt; If this is the problem, just rm the source tree, un-tar the tarball again, and just run configure; make install -- don't run autogen.sh.
<br>
<p>2. You are building Open MPI on a network filesystem, and the time is not synchronized between the machine on which you are building and the file server
<br>
&nbsp;&nbsp;&nbsp;--&gt; If this is the problem, make your file server and client machines be synchronized in terms of time
<br>
<p>3. You are building Open MPI on a machine with a local time far in the past
<br>
&nbsp;&nbsp;&nbsp;--&gt; If this is the problem, make your machine have something close to the real time
<br>
<p>Open MPI's build system is highly dependent upon file timestamps.  If the timestamps are inaccurate (e.g., #2 or #3), it gets confused and tries to re-run aclocal (and friends).
<br>
<p>And just to be clear: it should not be necessary to run autogen.sh (or aclocal or any of its friends) if you are building from an Open MPI distribution tarball.
<br>
<p>Make sense?
<br>
<p>Fun fact: as I have typed this email in OS X Mail.app, it keeps trying to autocorrect &quot;aclocal&quot; with &quot;alcohol&quot;.  Seems somewhat appropriate.  ;-)
<br>
<p><p><p><span class="quotelev1">&gt; On Aug 25, 2015, at 7:13 PM, Bryan Flynt &lt;b_flynt_at_[hidden]&gt; wrote:
</span><br>
<span class="quotelev1">&gt; 
</span><br>
<span class="quotelev1">&gt; I'm trying to build OpenMPI_1.8.7 on a RHEL 6.5 system using the default GNU
</span><br>
<span class="quotelev1">&gt; compilers.  The configuration proceeds through and generates the Makefile
</span><br>
<span class="quotelev1">&gt; but a &quot;make all&quot; immediately errors with a autoconf error (see below).
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt; I found this exact question already on this list but there was no solution.
</span><br>
<span class="quotelev1">&gt; The suggestion was to use the pre-packaged tar.gz file but this is already
</span><br>
<span class="quotelev1">&gt; my starting position so there must be something else to the problem.
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt; Previous Thread:
</span><br>
<span class="quotelev1">&gt; <a href="http://comments.gmane.org/gmane.comp.clustering.open-mpi.user/21238">http://comments.gmane.org/gmane.comp.clustering.open-mpi.user/21238</a>
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt; Any ideas?
</span><br>
<span class="quotelev1">&gt; Why is &quot;make all&quot; trying to call autoconfig?
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt; Commands:
</span><br>
<span class="quotelev2">&gt; &gt; ./configure -prefix=${PWD}/gnu CC=gcc CXX=g++ F77=gfortran FC=gfortran
</span><br>
<span class="quotelev2">&gt; &gt; make all
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt; Error Message (after &quot;make all&quot;):
</span><br>
<span class="quotelev1">&gt; aclocal.m4:16: warning: this file was generated for autoconf 2.69.
</span><br>
<span class="quotelev1">&gt; You have another version of autoconf.  It may work, but is not guaranteed to.
</span><br>
<span class="quotelev1">&gt; If you have problems, you may need to regenerate the build system entirely.
</span><br>
<span class="quotelev1">&gt; To do so, use the procedure documented by the package, typically 'autoreconf'.
</span><br>
<span class="quotelev1">&gt; configure.ac:40: error: m4_defn: undefined macro: _m4_divert_diversion
</span><br>
<span class="quotelev1">&gt; configure.ac:40: the top level
</span><br>
<span class="quotelev1">&gt; autom4te: /usr/bin/m4 failed with exit status: 1 
</span><br>
<span class="quotelev1">&gt; _______________________________________________
</span><br>
<span class="quotelev1">&gt; users mailing list
</span><br>
<span class="quotelev1">&gt; users_at_[hidden]
</span><br>
<span class="quotelev1">&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a>
</span><br>
<span class="quotelev1">&gt; Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/08/27492.php">http://www.open-mpi.org/community/lists/users/2015/08/27492.php</a>
</span><br>
<p><p><pre>
-- 
Jeff Squyres
jsquyres_at_[hidden]
For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/">http://www.cisco.com/web/about/doing_business/legal/cri/</a>
</pre>
<!-- body="end" -->
<hr>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="27495.php">Roy Stogner: "[OMPI users] MPI_LB in a recursive type"</a>
<li><strong>Previous message:</strong> <a href="27493.php">Ralph Castain: "Re: [OMPI users] ssh: Could not resolve hostname xxxx: Name or service not known (v1.8+)"</a>
<li><strong>In reply to:</strong> <a href="27492.php">Bryan Flynt: "[OMPI users] Why does make run autoconfig?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<? include("../../include/msg-footer.inc") ?>
