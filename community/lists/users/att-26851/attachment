<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">I don’t know how the signal stack in python works. It could be that you aren’t getting the SIGTERM thru python, could be we aren’t catching the output message. Try dumping something into a file instead of to stderr and see if you are catching the signal.<div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On May 7, 2015, at 10:42 PM, Seth Axen &lt;<a href="mailto:seth.axen@gmail.com" class="">seth.axen@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">Thanks, Ralph! So I tried using the signal module in python to handle the SIGTERM and write an error message, and that seemed to work when using Ctrl+C to kill python, but when using mpirun, python still dies without the error message. I'm assuming that means mpirun wasn't able to SIGTERM python, so it just SIGKILLed it? Is there a good reason SIGTERM might fail that I could fix?<br class=""><div class="">Thanks!</div><div class="">Seth</div></div><br class=""><div class="gmail_quote">On Thu, May 7, 2015 at 4:00 PM Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">When mpirun receives a Ctrl-C, it hits each of its processes with a SIGTERM, followed a little later by SIGKILL if the proc didn’t terminate.<div class=""><br class=""></div><div class=""><br class=""><div class=""><blockquote type="cite" class=""></blockquote></div></div></div><div style="word-wrap:break-word" class=""><div class=""><div class=""><blockquote type="cite" class=""><div class="">On May 7, 2015, at 2:31 PM, Seth Axen &lt;<a href="mailto:seth.axen@gmail.com" target="_blank" class="">seth.axen@gmail.com</a>&gt; wrote:</div><br class=""></blockquote></div></div></div><div style="word-wrap:break-word" class=""><div class=""><div class=""><blockquote type="cite" class=""><div class=""><div dir="ltr" class="">Hello,<div class="">How does mpirun or mpiexec handle Ctrl+C? I noticed when I use Ctrl+C on a running python script (without MPI), this generates a KeyboardInterrupt exception which I can catch and do something with, but when I use mpirun to run the python script, so far as I can tell, no exception is generated; the script just dies. I'd like to be able to catch an exception within my script and do some cleaning up before killing the script, but I can't figure out how to do this. I've already posted on the mpi4py message board (<a href="https://groups.google.com/forum/#!topic/mpi4py/x8tloLNGWTk" target="_blank" class="">https://groups.google.com/forum/#!topic/mpi4py/x8tloLNGWTk</a>) and was referred here.</div><div class="">Thanks!</div><div class="">Seth</div></div></div></blockquote></div></div></div><div style="word-wrap:break-word" class=""><div class=""><div class=""><blockquote type="cite" class=""><div class="">
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" target="_blank" class="">users@open-mpi.org</a><br class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/05/26848.php" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2015/05/26848.php</a></div></blockquote></div><br class=""></div></div>_______________________________________________<br class="">
users mailing list<br class="">
<a href="mailto:users@open-mpi.org" target="_blank" class="">users@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/05/26849.php" target="_blank" class="">http://www.open-mpi.org/community/lists/users/2015/05/26849.php</a></blockquote></div>
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br class="">Link to this post: http://www.open-mpi.org/community/lists/users/2015/05/26850.php</div></blockquote></div><br class=""></div></body></html>
