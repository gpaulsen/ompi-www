<? include("../../include/msg-header.inc"); ?>
<!-- received="Thu Nov 10 10:54:16 2005" -->
<!-- isoreceived="20051110155416" -->
<!-- sent="Fri, 11 Nov 2005 02:53:49 +1100" -->
<!-- isosent="20051110155349" -->
<!-- name="Clement Chu" -->
<!-- email="clement.chu_at_[hidden]" -->
<!-- subject="Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4" -->
<!-- id="43736D0D.1050006_at_csse.monash.edu.au" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="6910cfa662c05f61d4414b47079e7865_at_open-mpi.org" -->
<!-- expires="-1" -->
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<p class="headers">
<strong>From:</strong> Clement Chu (<em>clement.chu_at_[hidden]</em>)<br>
<strong>Date:</strong> 2005-11-10 10:53:49
</p>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0311.php">Tim S. Woodall: "Re: [O-MPI users] Infiniband performance problems (mvapi)"</a>
<li><strong>Previous message:</strong> <a href="0309.php">Clement Chu: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<li><strong>In reply to:</strong> <a href="0308.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0313.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<li><strong>Reply:</strong> <a href="0313.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<!-- reply="end" -->
</ul>
<hr>
<!-- body="start" -->
<p>
there is the backtrace result:  (now i am using 8085)
<br>
Does mpirun start rsh??  I think I need ssh instead of rsh.
<br>
<p>[clement_at_kfc tmp]$ gdb mpirun core.17766
<br>
GNU gdb Red Hat Linux (6.3.0.0-1.21rh)
<br>
Copyright 2004 Free Software Foundation, Inc.
<br>
GDB is free software, covered by the GNU General Public License, and you are
<br>
welcome to change it and/or distribute copies of it under certain 
<br>
conditions.
<br>
Type &quot;show copying&quot; to see the conditions.
<br>
There is absolutely no warranty for GDB.  Type &quot;show warranty&quot; for details.
<br>
This GDB was configured as &quot;i386-redhat-linux-gnu&quot;...Using host 
<br>
libthread_db library &quot;/lib/libthread_db.so.1&quot;.
<br>
<p>Reading symbols from shared object read from target memory...done.
<br>
Loaded system supplied DSO at 0xa2d000
<br>
Core was generated by `mpirun -np 2 test'.
<br>
Program terminated with signal 11, Segmentation fault.
<br>
<p>warning: svr4_current_sos: Can't read pathname for load map: 
<br>
Input/output error
<br>
<p>Reading symbols from /home/clement/openmpi/lib/liborte.so.0...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/liborte.so.0
<br>
Reading symbols from /home/clement/openmpi/lib/libopal.so.0...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/libopal.so.0
<br>
Reading symbols from /lib/libdl.so.2...done.
<br>
Loaded symbols for /lib/libdl.so.2
<br>
Reading symbols from /lib/libm.so.6...done.
<br>
Loaded symbols for /lib/libm.so.6
<br>
Reading symbols from /lib/libutil.so.1...done.
<br>
Loaded symbols for /lib/libutil.so.1
<br>
Reading symbols from /lib/libnsl.so.1...done.
<br>
Loaded symbols for /lib/libnsl.so.1
<br>
Reading symbols from /lib/libpthread.so.0...done.
<br>
Loaded symbols for /lib/libpthread.so.0
<br>
Reading symbols from /lib/libc.so.6...done.
<br>
Loaded symbols for /lib/libc.so.6
<br>
Reading symbols from /lib/ld-linux.so.2...done.
<br>
Loaded symbols for /lib/ld-linux.so.2
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_paffinity_linux.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_paffinity_linux.so
<br>
Reading symbols from /lib/libnss_files.so.2...done.
<br>
Loaded symbols for /lib/libnss_files.so.2
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ns_proxy.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_ns_proxy.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ns_replica.so...done.Loaded 
<br>
symbols for /home/clement/openmpi/lib/openmpi/mca_ns_replica.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rml_oob.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_rml_oob.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_oob_tcp.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_oob_tcp.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_gpr_null.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_gpr_null.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_gpr_proxy.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_gpr_proxy.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_gpr_replica.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_gpr_replica.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rmgr_proxy.so...done.Loaded 
<br>
symbols for /home/clement/openmpi/lib/openmpi/mca_rmgr_proxy.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rmgr_urm.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_rmgr_urm.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rds_hostfile.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_rds_hostfile.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rds_resfile.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_rds_resfile.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ras_dash_host.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_ras_dash_host.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ras_hostfile.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_ras_hostfile.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ras_localhost.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_ras_localhost.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_ras_slurm.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_ras_slurm.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_rmaps_round_robin.so...done.
<br>
Loaded symbols for 
<br>
/home/clement/openmpi/lib/openmpi/mca_rmaps_round_robin.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_pls_fork.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_pls_fork.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_pls_proxy.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_pls_proxy.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_pls_rsh.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_pls_rsh.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_pls_slurm.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_pls_slurm.so
<br>
Reading symbols from 
<br>
/home/clement/openmpi/lib/openmpi/mca_iof_svc.so...done.
<br>
Loaded symbols for /home/clement/openmpi/lib/openmpi/mca_iof_svc.so
<br>
#0  0x00e2a075 in orte_pls_rsh_launch ()
<br>
&nbsp;&nbsp;&nbsp;from /home/clement/openmpi/lib/openmpi/mca_pls_rsh.so
<br>
(gdb) where
<br>
#0  0x00e2a075 in orte_pls_rsh_launch ()
<br>
&nbsp;&nbsp;&nbsp;from /home/clement/openmpi/lib/openmpi/mca_pls_rsh.so
<br>
#1  0x0042b656 in orte_rmgr_urm_spawn ()
<br>
&nbsp;&nbsp;&nbsp;from /home/clement/openmpi/lib/openmpi/mca_rmgr_urm.so
<br>
#2  0x0804a10c in orterun (argc=4, argv=0xbf983d54) at orterun.c:373
<br>
#3  0x08049b4e in main (argc=4, argv=0xbf983d54) at main.c:13
<br>
(gdb)
<br>
<p><p><p><p><p>Jeff Squyres wrote:
<br>
<p><span class="quotelev1">&gt;I'm sorry -- I wasn't entirely clear:
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;1. Are you using a 1.0 nightly tarball or a 1.1 nightly tarball?  We 
</span><br>
<span class="quotelev1">&gt;have made a bunch of fixes to the 1.1 tree (i.e., the Subversion 
</span><br>
<span class="quotelev1">&gt;trunk), but have not fully vetted them yet, so they have not yet been 
</span><br>
<span class="quotelev1">&gt;taken to the 1.0 release branch yet.  If you have not done so already, 
</span><br>
<span class="quotelev1">&gt;could you try a tarball from the trunk?  
</span><br>
<span class="quotelev1">&gt;<a href="http://www.open-mpi.org/nightly/trunk/">http://www.open-mpi.org/nightly/trunk/</a>
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;2. The error you are seeing looks like a proxy process is failing to 
</span><br>
<span class="quotelev1">&gt;start because it seg faults.  Are you getting corefiles?  If so, can 
</span><br>
<span class="quotelev1">&gt;you send the backtrace?  The corefile should be from the 
</span><br>
<span class="quotelev1">&gt;$prefix/bin/orted executable.
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;3. Failing that, can you run with the &quot;-d&quot; switch?  It should give a 
</span><br>
<span class="quotelev1">&gt;bunch of debugging output that might be helpful.  &quot;mpirun -d -np 2 
</span><br>
<span class="quotelev1">&gt;./test&quot;, for example.
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;4. Also please send the output of the &quot;ompi_info&quot; command.
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;On Nov 10, 2005, at 9:05 AM, Clement Chu wrote:
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev2">&gt;&gt;I have tried the latest version (rc5 8053), but the error is still 
</span><br>
<span class="quotelev2">&gt;&gt;here.
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt;Jeff Squyres wrote:
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt;    
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;We've actually made quite a few bug fixes since RC4 (RC5 is not
</span><br>
<span class="quotelev3">&gt;&gt;&gt;available yet).  Would you mind trying with a nightly snapshot 
</span><br>
<span class="quotelev3">&gt;&gt;&gt;tarball?
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;(there were some SVN commits last night after the nightly snapshot was
</span><br>
<span class="quotelev3">&gt;&gt;&gt;made; I've just initiated another snapshot build -- r8085 should be on
</span><br>
<span class="quotelev3">&gt;&gt;&gt;the web site within an hour or so)
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;On Nov 10, 2005, at 4:38 AM, Clement Chu wrote:
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;      
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;Hi,
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; I got an error when tried the mpirun on mpi program.  The following
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;is
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;the error message:
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$ mpicc -g -o test main.c
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$ mpirun -np 2 test
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;mpirun noticed that job rank 1 with PID 0 on node &quot;localhost&quot; exited 
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;on
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;signal 11.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[kfc:28466] ERROR: A daemon on node localhost failed to start as
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;expected.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[kfc:28466] ERROR: There may be more information available from
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[kfc:28466] ERROR: the remote shell (see above).
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[kfc:28466] The daemon received a signal 11.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;1 additional process aborted (not shown)
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;I am using openmpi-1.0rc4 and running on Linux Redhat Fedora Core 4.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;The kernal is 2.6.12-1.1456_FC4.  My building procedure is as below:
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;1.  ./configure --prefix=/home/clement/openmpi --with-devel-headers
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;2.  make all install
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;3.  login root.  add openmpi's path and lib in /etc/bashrc
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;4.  see the $PATH and $LD_LIBRARY_PATH as below
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$ echo $PATH
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;/usr/java/jdk1.5.0_05/bin:/home/clement/openmpi/bin:/usr/java/
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;jdk1.5.0_05/bin:/home/clement/mpich-1.2.7/bin:/usr/kerberos/bin:/usr/
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;local/bin:/usr/bin:/bin:/usr/X11R6/bin:/home/clement/bin
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$ echo $LD_LIBRARY_PATH
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;/home/clement/openmpi/lib
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;[clement_at_kfc TestMPI]$
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;5.  go to mpi program's directory
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;6.  mpicc -g -o test main.c
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;7.  mpirun -np 2 test
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;Any idea of this problem.  Many thanks.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;        
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt;  
</span><br>
<span class="quotelev1">&gt;
</span><br>
<p><p><pre>
-- 
Clement Kam Man Chu
Research Assistant
School of Computer Science &amp; Software Engineering
Monash University, Caulfield Campus
Ph: 61 3 9903 1964
</pre>
<!-- body="end" -->
<hr>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0311.php">Tim S. Woodall: "Re: [O-MPI users] Infiniband performance problems (mvapi)"</a>
<li><strong>Previous message:</strong> <a href="0309.php">Clement Chu: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<li><strong>In reply to:</strong> <a href="0308.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0313.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<li><strong>Reply:</strong> <a href="0313.php">Jeff Squyres: "Re: [O-MPI users] Error on mpirun in Redhat Fedora Core 4"</a>
<!-- reply="end" -->
</ul>
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<? include("../../include/msg-footer.inc") ?>
