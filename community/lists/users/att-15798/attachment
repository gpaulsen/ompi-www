<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:Tahoma
}
--></style>
</head>
<body class='hmmessage'>
Dear Open-mpi users,<br>Currently we are running on 4 imacs 10.5.8 all identical and all on the same network using MPI version 1.4.1.<br>We get an error that we cannot seem to find any help on. <br>Sometimes we get the error Socket Connection (79)<span dir="ltr" id="ecx:sn"><a href="http://hama.cs.ucla.edu/" target="_blank"></a><br>[30451,1],1][<wbr>btl_tcp_endpoin<wbr>t.c:298:mca_btl<wbr>_tcp_endpoint_s<wbr>end_blocking] send() failed: Socket is not connected (57)</span><br>The strangest thing is the error only happens when we run with certain machines in a certain order.<br><br><br>ECHO $Path /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/usr/texbin<br><br><span dir="ltr" id="ecx:2at">mpicc -m64 -lpthread -w -lm -std="c99" inc/*.h lib/*.c -o dispatcher</span><br><span class="ecxkn" dir="ltr" style=""><br>The strange issues all dispatchers are able to send a one small message &nbsp;to each other before this error occurs.<br></span><span dir="ltr" id="ecx:2b0"><b>Does not work:</b><br>mpirun -H juhu,hama -n 2 dispatcher<br>mpirun -H hama,juhu -n 2 dispatcher<br>mpirun -H hama,tuvalu -n 2 dispatcher</span><div id="ecx:2cl" dir="ltr" class="ecxkl">mpirun -H juhu,tuvalu -n 2 dispatcher</div><div id="ecx:2ev" dir="ltr" class="ecxkl"><b>Works:</b> <br>mpirun -H tuvalu,juhu -n 2 dispatcher</div><div id="ecx:2au" dir="ltr" class="ecxkl">mpirun -H tuvalu,hama -n 2 dispatcher</div><br>Dispatcher is a multithreaded application that sends messages to other dispatchers.<br><br><br><b>ifconfig output for machine 1 with the problem</b><br><br>lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384<br>&nbsp;&nbsp;&nbsp; inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1 <br>&nbsp;&nbsp;&nbsp; inet 127.0.0.1 netmask 0xff000000 <br>&nbsp;&nbsp;&nbsp; inet6 ::1 prefixlen 128 <br>gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280<br>stf0: flags=0&lt;&gt; mtu 1280<br>fw0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 4078<br>&nbsp;&nbsp;&nbsp; lladdr 00:1f:f3:ff:fe:6e:5d:26 <br>&nbsp;&nbsp;&nbsp; media: autoselect &lt;full-duplex&gt; status: inactive<br>&nbsp;&nbsp;&nbsp; supported media: autoselect &lt;full-duplex&gt;<br>en1: flags=8823&lt;UP,BROADCAST,SMART,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; ether 00:1f:5b:c9:3b:8f <br>&nbsp;&nbsp;&nbsp; media: autoselect (&lt;unknown type&gt;) status: inactive<br>&nbsp;&nbsp;&nbsp; supported media: autoselect<br>en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet 131.179.224.186 netmask 0xffffff00 broadcast 131.179.224.255<br>&nbsp;&nbsp;&nbsp; ether 00:1f:f3:59:d2:3d <br>&nbsp;&nbsp;&nbsp; media: autoselect (100baseTX &lt;full-duplex&gt;) status: active<br>&nbsp;&nbsp;&nbsp; supported media: autoselect 10baseT/UTP &lt;half-duplex&gt; 10baseT/UTP &lt;full-duplex&gt; 10baseT/UTP &lt;full-duplex,hw-loopback&gt; 10baseT/UTP &lt;full-duplex,flow-control&gt; 100baseTX &lt;half-duplex&gt; 100baseTX &lt;full-duplex&gt; 100baseTX &lt;full-duplex,hw-loopback&gt; 100baseTX &lt;full-duplex,flow-control&gt; 1000baseT &lt;full-duplex&gt; 1000baseT &lt;full-duplex,hw-loopback&gt; 1000baseT &lt;full-duplex,flow-control&gt; none<br>vmnet8: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet 172.16.181.1 netmask 0xffffff00 broadcast 172.16.181.255<br>&nbsp;&nbsp;&nbsp; ether 00:50:56:c0:00:08 <br>vmnet1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet 172.16.32.1 netmask 0xffffff00 broadcast 172.16.32.255<br>&nbsp;&nbsp;&nbsp; ether 00:50:56:c0:00:01 <br><br><b>ifconfig output for machine 2 with the problem</b><br>
<br><br>lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384<br>&nbsp;&nbsp;&nbsp; inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1 <br>&nbsp;&nbsp;&nbsp; inet 127.0.0.1 netmask 0xff000000 <br>&nbsp;&nbsp;&nbsp; inet6 ::1 prefixlen 128 <br>gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280<br>stf0: flags=0&lt;&gt; mtu 1280<br>fw0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 4078<br>&nbsp;&nbsp;&nbsp; lladdr 00:1f:5b:ff:fe:20:ae:1e <br>&nbsp;&nbsp;&nbsp; media: autoselect &lt;full-duplex&gt; status: inactive<br>&nbsp;&nbsp;&nbsp; supported media: autoselect &lt;full-duplex&gt;<br>en1: flags=8823&lt;UP,BROADCAST,SMART,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; ether 00:1f:5b:c9:10:1d <br>&nbsp;&nbsp;&nbsp; media: autoselect (&lt;unknown type&gt;) status: inactive<br>&nbsp;&nbsp;&nbsp; supported media: autoselect<br>en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet6 fe80::21e:c2ff:fe1a:c673%en0 prefixlen 64 scopeid 0x6 <br>&nbsp;&nbsp;&nbsp; inet 131.179.224.185 netmask 0xffffff00 broadcast 131.179.224.255<br>&nbsp;&nbsp;&nbsp; ether 00:1e:c2:1a:c6:73 <br>&nbsp;&nbsp;&nbsp; media: autoselect (100baseTX &lt;full-duplex&gt;) status: active<br>&nbsp;&nbsp;&nbsp; supported media: autoselect 10baseT/UTP &lt;half-duplex&gt; 10baseT/UTP &lt;full-duplex&gt; 10baseT/UTP &lt;full-duplex,hw-loopback&gt; 10baseT/UTP &lt;full-duplex,flow-control&gt; 100baseTX &lt;half-duplex&gt; 100baseTX &lt;full-duplex&gt; 100baseTX &lt;full-duplex,hw-loopback&gt; 100baseTX &lt;full-duplex,flow-control&gt; 1000baseT &lt;full-duplex&gt; 1000baseT &lt;full-duplex,hw-loopback&gt; 1000baseT &lt;full-duplex,flow-control&gt; none<br>vboxnet0: flags=8842&lt;BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; ether 0a:00:27:00:00:00 <br>vmnet1: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet 192.168.138.1 netmask 0xffffff00 broadcast 192.168.138.255<br>&nbsp;&nbsp;&nbsp; ether 00:50:56:c0:00:01 <br>vmnet8: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500<br>&nbsp;&nbsp;&nbsp; inet 192.168.56.1 netmask 0xffffff00 broadcast 192.168.56.255<br>&nbsp;&nbsp;&nbsp; ether 00:50:56:c0:00:08 <br><br><br>Thanks!<br>Oren<br> 		 	   		  </body>
</html>
