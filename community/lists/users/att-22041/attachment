<div dir="ltr">2013/6/6 Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span><br><div class="gmail_extra"><div class="gmail_quote"><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
<div style="word-wrap:break-word">Afraid not. You could start a single process, and then have that process call MPI_Comm_spawn to launch the rest of them</div></blockquote><div><br></div><div>Mmmm... sounds good<br><br></div>
<div>I&#39;m writing an example program using ScaLAPACK. I have written the ScaLAPACK code in an independent function that must be called after some work in an individual node (the root one). So I need the first part of the program be executed by one process. My example looks like:<br>
<br></div><div>int main()<br>{<br></div><div>    //some work that must be done by only one node<br>    .....<br></div><div>    //function that runs internally some scalapack computations<br></div><div>    funcCompScalapack();<br>
</div><div>    //other work must be done by the original node<br>    ....<br></div><div>    return 0;<br>}<br><br></div><div>void funcCompScalapack()<br>{<br></div><div>    //Initialize MPI<br></div><div>    MPI_Init(NULL,NULL);<br>
</div><div>    //here I think I should write some code in order to inform that the work must be done by a number X or processors<br></div><div>    //maybe using MPI_Comm_spawn?</div><div>    ....<br></div><div>    //some BLACS and ScaLAPACK computations<br>
    ....<br></div><div>    //finalize MPI<br></div><div>    MPI_Finalize();<br></div><div>    return;<br>}<br><br></div><div>When I execute this program as mpirun -np X myprogram, the pieces of code before and after the call to function funcCompScalapack() are executed by X nodes, but these orders must be executed only by one. So my idea is to execute the binary as ./myprogram (the same I think as mpirun -np 1 myprogram) and internally set the number of processes in funcCompScalapack() after the MPI_Init() call.<br>
<br></div><div>Is my idea possible?<br><br>Thanks<br></div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="word-wrap:break-word">
<div><br><div><div><div class="h5"><div>On Jun 6, 2013, at 7:54 AM, José Luis García Pallero &lt;<a href="mailto:jgpallero@gmail.com" target="_blank">jgpallero@gmail.com</a>&gt; wrote:</div><br></div></div><blockquote type="cite">
<div><div class="h5"><div dir="ltr"><div><div><div>Hello:<br><br></div>I&#39;m newbie in the use of MPI, so probably I ask some stupid question (or previously asked, but in this case I have searched in the archive and I haven&#39;t found anything):<br>

<br></div>Exists any other way than -np X in order to pass the number of processes to start for an MPI program? I mean a function of the style MPI_Set_Number_Processes() or similar<br><br></div>Thanks<br clear="all"><div>

<div><br>-- <br>*****************************************<br>José Luis García Pallero<br><a href="mailto:jgpallero@gmail.com" target="_blank">jgpallero@gmail.com</a><br>(o&lt;<br>/ / \<br>V_/_<br>Use Debian GNU/Linux and enjoy!<br>

*****************************************
</div></div></div></div></div>
_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote>
</div><br></div></div><br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br><br clear="all"><br>-- <br>*****************************************<br>
José Luis García Pallero<br><a href="mailto:jgpallero@gmail.com">jgpallero@gmail.com</a><br>(o&lt;<br>/ / \<br>V_/_<br>Use Debian GNU/Linux and enjoy!<br>*****************************************
</div></div>

