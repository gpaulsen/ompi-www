<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Sorry for delayed response - been a little hectic here.<div><br></div><div>I suspect the problem is that we really need a passwordless ssh connection in order to preload the file for 1.6.5. This isn't required in the 1.8 series, so you might want to try it with 1.8.1. Otherwise, resolve the password issue and it should work.</div><div><br></div><div><br><div><div>On May 20, 2014, at 6:28 AM, Cordone, Guthrie &lt;<a href="mailto:gcordone@srcinc.com">gcordone@srcinc.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;">Hello,<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><o:p>&nbsp;</o:p></div><p class="MsoNormal" style="margin: 0in 0in 12pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">I have two linux machines, each running Open MPI 1.6.5. I want to use the preload binary command in an appfile to execute a binary from the host on both the node and the host during mpirun. Right now I am using an appfile with the contents:<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 9pt; line-height: 15px; font-family: Consolas; background-color: rgb(238, 238, 238);">#appfile.test<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 9pt; line-height: 15px; font-family: Consolas; background-color: rgb(238, 238, 238);"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 9pt; line-height: 15px; font-family: Consolas; background-color: rgb(238, 238, 238);">-host user@remotehost --preload-binary -np 1 run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 9pt; line-height: 15px; font-family: Consolas; background-color: rgb(238, 238, 238);">-host localhost -np 1 run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 12pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">where 'run_date' is an executable that creates a text file with the current date. I run the appfile using the command:<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">mpirun -app appfile.test<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 12pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">I enter user@remotehost's password when prompted and then immediately receive an error:<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">--------------------------------------------------------------------------<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">WARNING: Remote peer ([[53924,0],1]) failed to preload a file.<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Exit Status: 256<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Local&nbsp; File: /tmp/openmpi-sessions-user@remotehost_0/53924/0/run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Remote File: run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Command:<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">&nbsp; scp&nbsp; localhost:/home/user/appfileTest/run_date /tmp/openmpi-sessions-user@remotehost_0/53924/0/run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Will continue attempting to launch the process(es).<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">--------------------------------------------------------------------------<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">--------------------------------------------------------------------------<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">mpirun was unable to launch the specified application as it could not access<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">or execute an executable:<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Executable: run_date<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">Node: user@remotehost<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">while attempting to start process rank 0.<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 7.5pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px; background-color: rgb(238, 238, 238); background-position: initial initial; background-repeat: initial initial;"><span style="font-size: 10pt; line-height: 16px; font-family: Consolas; background-color: rgb(238, 238, 238);">--------------------------------------------------------------------------<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 12pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">After this error, I get returned to the command line to see that the 'run_date' binary has been executed on the localhost but not the remotehost.<o:p></o:p></span></p><p class="MsoNormal" style="margin: 0in 0in 12pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">I have been able to run on both machines by manually placing the binary on the remotehost and removing the '-preload-binary' command from the appfile, however I need the appfile to place the binary for me. I have also tried setting the remote machines directory using '-wdir' but receive the same error.<o:p></o:p></span></p><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif; line-height: 19px;"><span style="font-size: 10pt; line-height: 16px; font-family: Arial, sans-serif;">Do you guys know what the issue is?<o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><b>Guthrie Cordone<o:p></o:p></b></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;">Systems Engineering Intern<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;">Phone: 315-883-4484<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><a href="mailto:gcordone@srcinc.com" style="color: purple; text-decoration: underline;">gcordone@srcinc.com</a><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;"><o:p>&nbsp;</o:p></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" style="color: purple; text-decoration: underline;">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div></blockquote></div><br></div></body></html>
