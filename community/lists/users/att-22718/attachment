<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"><base href="x-msg://2048/"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Just to be clear - are you saying the job fails to run? Or just that it emits this warning (not error) and then runs to completion?<div><br></div><div>This is a warning we added at some point because jobs were hanging due to exhausting registered memory, and people didn't know why. If you check out the link, I believe we tell you how to turn off the warning if you are sure your system is correctly configured.</div><div><br></div><div><br><div><div>On Sep 24, 2013, at 12:20 PM, "Bryan, Clifton W ERDC-RDE-MSRC-MS Contractor" &lt;<a href="mailto:clifton.W.bryan@erdc.dren.mil">clifton.W.bryan@erdc.dren.mil</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div class="WordSection1" style="page: WordSection1; "><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Hi,<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">We are having problems with OpenMPI 1.6.3 – it gives the below error message when trying to run:<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">$ mpirun -np 32 ./mpi_test.x<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">--------------------------------------------------------------------------<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">WARNING: It appears that your OpenFabrics subsystem is configured to only allow registering part of your physical memory.&nbsp; This can cause MPI jobs to run with erratic performance, hang, and/or crash.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">This may be caused by your OpenFabrics vendor limiting the amount of physical memory that can be registered.&nbsp; You should investigate the relevant Linux kernel module parameters that control how much physical memory can be registered, and increase them to allow registering all physical memory on your machine.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">See this Open MPI FAQ item for more information on these Linux kernel module<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">parameters:<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/faq/?category=openfabrics#ib-locked-pages" style="color: purple; text-decoration: underline; ">http://www.open-mpi.org/faq/?category=openfabrics#ib-locked-pages</a><span class="Apple-converted-space">&nbsp;</span>&lt;<a href="http://www.open-mpi.org/faq/?category=openfabrics#ib-locked-pages" style="color: purple; text-decoration: underline; ">http://www.open-mpi.org/faq/?category=openfabrics#ib-locked-pages</a>&gt;<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">&nbsp; Local host:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; akutilm-0006.ors.hpc.mil<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">&nbsp; Registerable memory:&nbsp;&nbsp;&nbsp;&nbsp; 131072 MiB<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">&nbsp; Total memory:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 258542 MiB<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Your MPI job will continue, but may be behave poorly and/or hang.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">--------------------------------------------------------------------------<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">akutilm-0006.ors.hpc.mil<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">akutilm-0006.ors.hpc.mil<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">[akutilm-0006.ors.hpc.mil:10970] 31 more processes have sent help message help-mpi-btl-openib.txt / reg mem limit low [akutilm-0006.ors.hpc.mil:10970] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="border-style: none none double; border-bottom-width: 2.25pt; border-bottom-color: windowtext; padding: 0in 0in 1pt; "><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; border: none; padding: 0in; "><o:p></o:p></div></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Openmpi 1.4.3 works fine.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">&nbsp;<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Any help would be greatly appreciated.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Thanks,<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; ">Clif<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 10.5pt; font-family: Consolas; "><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" style="color: purple; text-decoration: underline; ">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" style="color: purple; text-decoration: underline; ">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div></blockquote></div><br></div></body></html>
