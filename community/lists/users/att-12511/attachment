<div><font size=2 color=navy face=Arial>
Are you running your job inside a torque job?  If you don't, open mpi will not have a hostlist and will assume that it should launch everything on the localhost. <br><br>If you are launching inside a torque job, ensure that ompi was build with torque support properly - run<br><br>ompi_info | grep tm<br><br>If you see 1 or more tm plugins listed, ompi has torque support. <br><br>Finally, make sure you're using the right mpicc and mpirun, etc. <br><br>-jms<br>Sent from my PDA.  No type good.</font></div>
<br><div><hr size=2 width="100%" align=center tabindex=-1>
<font face=Tahoma size=2>
<b>From</b>: users-bounces@open-mpi.org &lt;users-bounces@open-mpi.org&gt;<br><b>To</b>: users@open-mpi.org &lt;users@open-mpi.org&gt;<br><b>Sent</b>: Thu Apr 01 02:07:08 2010<br><b>Subject</b>: [OMPI users] mpiblast only run in one node<br></font><br></div>
<span style="font-family: arial,helvetica,sans-serif;">Hi, </span><br style="font-family: arial,helvetica,sans-serif;"><br style="font-family: arial,helvetica,sans-serif;"><span style="font-family: arial,helvetica,sans-serif;">I&#39;ve installed Torque/Maui, Open MPI 1.4.1 and mpiBlast 1.6.0-beta1 in a linux Beowulf culster with 15 nodes (node1~15).</span><br style="font-family: arial,helvetica,sans-serif;">
<br>Open MPI, mpiBlast were installed and my home directory lies in a directory &quot;/data&quot; which was shared by all nodes.<br><br style="font-family: arial,helvetica,sans-serif;"><span style="font-family: arial,helvetica,sans-serif;">Open Mpi was compiled with &quot;--with-tm&quot; to support Torque, and mpiBlast was compiled with</span><code style="font-family: arial,helvetica,sans-serif;"> &quot;--with-mpi&quot; to the directory where Open MPI installed.<br>
<br>When I run mpiBlast by mpirun in command line, like<br><br>node1 $ /data/open-mpi/bin/mpirun -np 34 /data/mpiblast/bin/mpiblast -p blastp -d nr -i test.faa -o test.out<br><br>I noticed all 34 mpiBlast processes run on node1 only.<br>
<br>This would not change if I submit job to Torque.<br><br>I&#39;ve searched the mailing list archives but it seems won&#39;t help.<br><br>How to resolve this problem?<br><br>Any suggestion will be appreciated!<br><br><br>
HZ Liu<br><br><br><br></code>
