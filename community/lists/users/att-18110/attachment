Hi,<div><br></div><div>I&#39;m running some tests on EC2 cluster instances with 10 Gigabit Ethernet hardware and I&#39;m getting strange latency results with Netpipe and OpenMPI. </div><div><br></div><div>If I run Netpipe over OpenMPI (NPmpi) I get a network latency around 60 microseconds for small messages (less than 2kbytes). However, when I run Netpipe over TCP (NPtcp) I always get around 100 microseconds. For bigger messages everything seems to be OK.</div>
<div><br></div><div>I&#39;m using the BTL TCP in OpenMPI, so I can&#39;t understand why OpenMPI outperforms raw TCP performance for small messages (40us of difference). I also have run the PingPong test from the Intel Media Benchmarks and the latency results for OpenMPI are very similar (60us) to those obtained with NPmpi</div>
<div><br></div><div>Can OpenMPI outperform Netpipe over TCP? Why? Is OpenMPI  doing any optimization in BTL TCP?</div><div><br></div><div>The results for OpenMPI aren&#39;t so good but we must take into account the network virtualization overhead under Xen</div>
<div><br></div><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><div>
<span class="Apple-style-span" style="font-family:verdana,arial,helvetica;font-size:12px">Thanks for your reply</span>
</div>

