Hi TIm <br>thanks for the suggestions.<br><br>I now set both paths&nbsp; in .zshenv but it seems that LD_LIBRARY_PATH<br>still does not get set.<br>The ldd experment shows that all openmpi libraries are not found,<br>and indeed the printenv shows that PATH is there but LD_LIBRARY_PATH is not.
<br><br>It is rather unclear why this happens...<br><br>As to thew second problem:<br>$ mpirun --debug-daemons -np 2 --prefix /opt/openmpi --host nano_02 ./MPI2Test2<br>[aim-nano_02:05455] [0,0,1]-[0,0,0] mca_oob_tcp_peer_try_connect: connect to 
<a href="http://130.60.49.134:40618">130.60.49.134:40618</a> failed: Software caused connection abort (103)<br>[aim-nano_02:05455] [0,0,1]-[0,0,0] mca_oob_tcp_peer_try_connect: connect to <a href="http://130.60.49.134:40618">
130.60.49.134:40618</a> failed, connecting over all interfaces failed!<br>[aim-nano_02:05455] OOB: Connection to HNP lost<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] [0,0,0] ORTE_ERROR_LOG: Timeout in file base/pls_base_orted_cmds.c at line 275
<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] [0,0,0] ORTE_ERROR_LOG: Timeout in file pls_rsh_module.c at line 1164<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222
</a>] [0,0,0] ORTE_ERROR_LOG: Timeout in file errmgr_hnp.c at line 90<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] ERROR: A daemon on node nano_02 failed to start as expected.<br>[<a href="http://aim-plankton.unizh.ch:24222">
aim-plankton.unizh.ch:24222</a>] ERROR: There may be more information available from<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] ERROR: the remote shell (see above).<br>[<a href="http://aim-plankton.unizh.ch:24222">
aim-plankton.unizh.ch:24222</a>] ERROR: The daemon exited unexpectedly with status 1.<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] [0,0,0] ORTE_ERROR_LOG: Timeout in file base/pls_base_orted_cmds.c at line 188
<br>[<a href="http://aim-plankton.unizh.ch:24222">aim-plankton.unizh.ch:24222</a>] [0,0,0] ORTE_ERROR_LOG: Timeout in file pls_rsh_module.c at line 1196<br><br>The strange thing is that nano_02&#39;s address is <a href="http://130.60.49.130">
130.60.49.130</a> and plankton&#39;s (the caller) is 130.60.49 134.<br>I also made sure that nano_02 cann ssh to plankton without password, but that didn&#39;t change the output.<br><br>Does this message give any hints as to the problem? 
<br><br>Jody<br><br><br><div><span class="gmail_quote">On 8/14/07, <b class="gmail_sendername">Tim Prins</b> &lt;<a href="mailto:tprins@open-mpi.org">tprins@open-mpi.org</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Jody,<br><br>jody wrote:<br>&gt; Hi<br>&gt; I installed openmpi 1.2.2 on a quad core intel machine running fedora 6<br>&gt; (hostname plankton)<br>&gt; I set PATH and LD_LIBRARY in the .zshrc file:<br>Note that .zshrc is only used for interactive logins. You need to setup
<br>your system so the LD_LIBRARY_PATH and PATH is also set for<br>non-interactive logins. See this zsh FAQ entry for what files you need<br>to modify:<br><a href="http://zsh.sourceforge.net/FAQ/zshfaq03.html#l19">http://zsh.sourceforge.net/FAQ/zshfaq03.html#l19
</a><br><br>(BTW: I do not use zsh, but my assumption is that the file you want to<br>set the PATH and LD_LIBRARY_PATH in is .zshenv)<br>&gt; $ echo $PATH<br>&gt; /opt/openmpi/bin:/usr/kerberos/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/home/jody/bin
<br>&gt;<br>&gt; $ echo $LD_LIBRARY_PATH<br>&gt; /opt/openmpi/lib:<br>&gt;<br>&gt; When i run<br>&gt; $ mpirun -np 2 ./MPITest2<br>&gt; i get the message<br>&gt; ./MPI2Test2: error while loading shared libraries: libmpi_cxx.so.0:
<br>&gt; cannot open shared object file: No such file or directory<br>&gt; ./MPI2Test2: error while loading shared libraries: libmpi_cxx.so.0:<br>&gt; cannot open shared object file: No such file or directory<br>&gt;<br>&gt; However
<br>&gt; $ mpirun -np 2 --prefix /opt/openmpi ./MPI2Test2<br>&gt; works.&nbsp;&nbsp;Any explanation?<br>Yes, the LD_LIBRARY_PATH is probably not set correctly. Try running:<br>mpirun -np 2 ldd ./MPITest2<br><br>This should show what libraries your executable is using. Make sure all
<br>of the libraries are resolved.<br><br>Also, try running:<br>mpirun -np 1 printenv |grep LD_LIBRARY_PATH<br>to see what the LD_LIBRARY_PATH is for you executables. Note that you<br>can NOT simply run mpirun echo $LD_LIBRARY_PATH, as the variable will be
<br>interpreted in the executing shell.<br><br>&gt;<br>&gt; Second problem:<br>&gt; I have also&nbsp;&nbsp;installed openmpi 1.2.2 on an AMD machine running gentoo<br>&gt; linux (hostname nano_02).<br>&gt; Here as well PATH and LD_LIBRARY_PATH are set correctly,
<br>&gt; and<br>&gt; $ mpirun -np 2 ./MPITest2<br>&gt; works locally on nano_02.<br>&gt;<br>&gt; If, however, from plankton i call<br>&gt; $ mpirun -np 2 --prefix /opt/openmpi --host nano_02 ./MPI2Test2<br>&gt; the call hangs with no output whatsoever.
<br>&gt; Any pointers on how to solve this problem?<br>Try running:<br>mpirun --debug-daemons -np 2 --prefix /opt/openmpi --host nano_02<br>./MPI2Test2<br><br>This should give some more output as to what is happening.<br>
<br>Hope this helps,<br><br>Tim<br><br>&gt;<br>&gt; Thank You<br>&gt;&nbsp;&nbsp; Jody<br>&gt;<br>&gt;<br>&gt;<br>&gt; ------------------------------------------------------------------------<br>&gt;<br>&gt; _______________________________________________
<br>&gt; users mailing list<br>&gt; <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
<br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users
</a><br></blockquote></div><br>

