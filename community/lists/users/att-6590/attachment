<table cellspacing="0" cellpadding="0" border="0" ><tr><td valign="top" style="font: inherit;">ok but the problme is that I have another type of mpi from Scali, and when I put in my make file "mpicc" and "mpic++" it goes and uses the Scali MPI's compilers which have exactly the same names "mpicc and mpic++"...So It did not give me any error, but i felt that it used the Scali stuff and not the openmpi's. So i modified my Makefile as follows:<br>==============================================================<br><span style="color: rgb(127, 0, 127);">export CPP=/opt/openmpi/1.2.7/bin/mpic++ #/usr/local/bin/g++</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export CC=/opt/openmpi/1.2.7/bin/mpicc #/usr/local/bin/gcc</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export AR=ar</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export YACPP=yacc</span><br
 style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#export DEFINES_CPP += -DNEWCOORDIN</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#===========================================================================</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#PCD++ Directory Details</span><br style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#jacky: change the following line to reflect your pcd code directory //:~</span><br style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export MAINDIR=/nfs/sjafer/phd/openMPI/openmpi_cd++_timewarp</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export INCLUDES_CPP +=-I$(MAINDIR)/include</span><br style="color: rgb(127, 0, 127);"><br
 style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#If running parallel simulation, uncomment the following lines</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">export DEFINES_CPP += -DMPI</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#export LIBMPI = -lmpi</span><br style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#===========================================================================</span><br style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#===========================================================================</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">#MPI Directory Details</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">##export
 MPIDIR=/opt/openmpi/1.2.7/</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">##export LDFLAGS +=-L$(MPIDIR)/lib</span><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">##export INCLUDES_CPP += -I$(MPIDIR)/include</span><br style="color: rgb(127, 0, 127);"><br style="color: rgb(127, 0, 127);"><span style="color: rgb(127, 0, 127);">###export LDFLAGS+=-L. -L$/opt/openmpi/1.2.7/lib</span><br style="color: rgb(127, 0, 127);"><br>==============================================================<br>and i am still getting the follwoing errors :<br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h: At top level:</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h:84: parse error before `protected'</span><br style="color: rgb(64, 0, 127);"><span
 style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h:96: base class `Comm_Null' has incomplete type</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h: In method `Comm::Comm(const Comm &amp;)':</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h:153: `class Comm' has no member named `mpi_comm'</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h:153: type `Comm_Null' is not an immediate basetype for `Comm'</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h: In method `Comm::Comm(ompi_communicator_t *)':</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0,
 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/comm.h:155: type `Comm_Null' is not an immediate basetype for `Comm'</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">In file included from /opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/mpicxx.h:199,</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from /opt/openmpi/1.2.7/include/mpi.h:1795,</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from stdaload.cpp:33:</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h: At top level:</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0,
 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h:27: parse error before `::'</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h:28: parse error before `::'</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h:93: `static' can only be specified for objects and functions</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h:93: ANSI C++ forbids declaration `' with no type</span><br style="color: rgb(64, 0, 127);"><span style="color: rgb(64, 0, 127);">/opt/openmpi/1.2.7/include/openmpi/ompi/mpi/cxx/win.h:93: confused by earlier errors, bailing outmake: *** [stdaload.o] Error 1</span><br><br><br>--- On <b>Wed, 9/17/08, Jeff Squyres <i>&lt;jsquyres@cisco.com&gt;</i></b> wrote:<br><blockquote
 style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;">From: Jeff Squyres &lt;jsquyres@cisco.com&gt;<br>Subject: Re: [OMPI users] errors returned from openmpi-1.2.7 source code<br>To: "Open MPI Users" &lt;users@open-mpi.org&gt;<br>Date: Wednesday, September 17, 2008, 11:21 AM<br><br><pre>You shouldn't need to add any -I's or -L's or -l's for Open MPI.<br> Just  <br>use mpic++ and mpicc (per my first note, notice that "mpicc" (lower  <br>case) is the C compiler -- mpiCC is a synonym for the C++ compiler --  <br>this could be your problem).  Those wrappers add all the compiler /  <br>linker flags that you need.<br><br><br>On Sep 17, 2008, at 2:16 PM, Shafagh Jafer wrote:<br><br>&gt; The openmpi is installed in the following path: /opt/openmpi/1.2.7  <br>&gt; so should i replce what you told me about /usr/lib with /opt/openmpi/ <br>&gt; 1.2.7 ??<br>&gt;<br>&gt; --- On Wed, 9/17/08, Jeff Squyres &lt;jsquyres@cisco.com&gt;
 wrote:<br>&gt; From: Jeff Squyres &lt;jsquyres@cisco.com&gt;<br>&gt; Subject: Re: [OMPI users] errors returned from openmpi-1.2.7 source  <br>&gt; code<br>&gt; To: "Open MPI Users" &lt;users@open-mpi.org&gt;<br>&gt; Date: Wednesday, September 17, 2008, 9:22 AM<br>&gt;<br>&gt; I don't quite understand the format of this file, but at first glance,<br>&gt; you shouldn't need the following lines:<br>&gt;<br>&gt; export LIBMPI = -lmpi<br>&gt;<br>&gt; export MPIDIR=/nfs/sjafer/phd/openMPI/installed<br>&gt; export LDFLAGS +=-L$(MPIDIR)/lib<br>&gt; export INCLUDES_CPP += -I$(MPIDIR)/include<br>&gt;<br>&gt; It also doesn't seem like the last 2 arguments of this line are a good<br>&gt; idea (the linker should automatically put /usr/lib and /lib in your<br>&gt; search path, if appropriate):<br>&gt;<br>&gt; export LDFLAGS+=-L. -L$/usr/lib -L$/lib<br>&gt;<br>&gt; I also notice:<br>&gt;<br>&gt; export CPP=mpic++<br>&gt; export CC=mpiCC<br>&gt;<br>&gt; I think you
 want "mpicc" for CC (note the lower case) -- mpiCC<br>is the<br>&gt; C<br>&gt; ++ compiler (mpic++ and mpiCC are synonyms).<br>&gt;<br>&gt; This might solve your problem.<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Sep 15, 2008, at 4:56 PM, Shafagh Jafer wrote:<br>&gt;<br>&gt; &gt; i am sending you my simulator's Makefile.common which points to<br>&gt; &gt; openmpi, please take a look at it. Thanks a lot.<br>&gt; &gt;<br>&gt; &gt; --- On Mon, 9/15/08, Jeff Squyres &lt;jsquyres@cisco.com&gt; wrote:<br>&gt; &gt; From: Jeff Squyres &lt;jsquyres@cisco.com&gt;<br>&gt; &gt; Subject: Re: [OMPI users] errors returned from openmpi-1.2.7 source<br>&gt; &gt; code<br>&gt; &gt; To: "Open MPI Users" &lt;users@open-mpi.org&gt;<br>&gt; &gt; Date: Monday, September 15, 2008, 11:21 AM<br>&gt; &gt;<br>&gt; &gt; On Sep 14, 2008, at 1:24 PM, Shafagh Jafer wrote:<br>&gt; &gt;<br>&gt; &gt; &gt; I installed openmpi-1.2.7 and tested the hello_c and ring_c  <br>&gt; examples<br>&gt; &gt;
 &gt; on single and multiple node and worked fine. However, when I use<br>&gt; &gt; &gt; openmpi with my simulator (by replacing the old mpich path with <br><br>&gt; the<br>&gt; &gt; &gt; new openmpi ) I get many errors reported from "/openMPI/<br>&gt; &gt; &gt; openmpi-1.2.7/include/openmpi/ompi/mpi/cxx/*.h" . Please<br>see the<br>&gt; &gt; &gt; following snap shots:<br>&gt; &gt; &gt;<br>&gt; &gt;<br>&gt; &gt; It's not clear exactly what you did here.  Did you just replace<br>&gt; &gt; MPICH's "mpiCC" with OMPI's "mpiCC"? <br>FWIW,<br>&gt; this is<br>&gt; &gt; almost always the<br>&gt; &gt; easiest way to compile MPI applications: use that<br>implementation's<br>&gt; &gt; "wrapper" compiler (I'm assuming you have a C++ code in<br>this<br>&gt; &gt; case).<br>&gt; &gt;<br>&gt; &gt; These errors should not normally happen; they look kinda like<br>you're<br>&gt; &gt; somehow inadvertently mixing Open MPI and MPICH.<br>&gt; &gt;<br>&gt; &gt; --<br>&gt; &gt;
 Jeff Squyres<br>&gt; &gt; Cisco Systems<br>&gt; &gt;<br>&gt; &gt; _______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; users@open-mpi.org<br>&gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt; &gt;<br>&gt; &gt;<br>&lt;Makefile.common&gt;_______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; users@open-mpi.org<br>&gt; &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt;<br>&gt;<br>&gt; -- <br>&gt; Jeff Squyres<br>&gt; Cisco Systems<br>&gt;<br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; users@open-mpi.org<br>&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br>&gt;<br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; users@open-mpi.org<br>&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br><br><br>-- <br>Jeff Squyres<br>Cisco
 Systems<br><br>_______________________________________________<br>users mailing list<br>users@open-mpi.org<br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></pre></blockquote></td></tr></table><br>

      
