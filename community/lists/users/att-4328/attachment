Hi,<br /><br />&nbsp;&nbsp;&nbsp; Please ensure if following things are correct<br />1) The array bounds are equal. Means "my_x" and "size_y" has the same value on all nodes.<br />2) Nodes are homogenous. To check that, you could decide root to be some different node and run the program<br /><br />-Neeraj<br /><br /><br />On Fri, 26 Oct 2007 10:13:15 +0500 (PKT) Open MPI Users  wrote<br /><br />  Thanks for your reply,<br /><br />  <br /><br />   I used MPI_Wtime for my application but even then process 0 took longer<br /><br />  time executing the mentioned code segment. I might be worng, but what I<br /><br />  see is process 0 takes more time to access the array elements than other<br /><br />  processes. Now I dont see what to do because the mentioned code segment<br /><br />  is creating a bottleneck for the timing of my application.<br /><br />  <br /><br />  Can any one suggest somthing in this regard. I will be very thankful<br /><br />  <br /><br />  regards<br /><br />  <br /><br />  Aftab Hussain<br /><br />  <br /><br />  <br /><br />  On Thu, October 25, 2007 9:38 pm, jody wrote:<br /><br />  &gt; HI<br /><br />  &gt; I'm not sure if that is a problem,<br /><br />  &gt; but in MPI applications you shoud use MPI_WTime() for time-measurements<br /><br />  &gt;<br /><br />  &gt; Jody<br /><br />  &gt;<br /><br />  &gt;<br /><br />  &gt; On 10/25/07, 42aftab@niit.edu.pk  wrote:<br /><br />  &gt;<br /><br />  &gt;&gt; Hi all,<br /><br />  &gt;&gt; I am a research assistant (RA) at NUST Pakistan in High Performance<br /><br />  &gt;&gt; Scientific Computing Lab. I am working on the parallel<br /><br />  &gt;&gt; implementation of the Finitie Difference Time Domain (FDTD) method using<br /><br />  &gt;&gt; MPI. I am using the OpenMPI environment on a cluster of 4<br /><br />  &gt;&gt; SunFire v890 cluster connected through Myrinet. I am having problem<br /><br />  &gt;&gt; that when I run my code with let say 4 processes. Process 0 takes about 3<br /><br />  &gt;&gt; times more time than other three processes, executing a for loop which<br /><br />  &gt;&gt; is the main cause of load imbalance in my code. I am writing the code<br /><br />  &gt;&gt; that is causing the problem. The code is run by all the processes<br /><br />  &gt;&gt; simultaneously and independently and I have timed it independent of<br /><br />  &gt;&gt; segments of code.<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; start = gethrtime(); for (m = 1; m &lt; my_x ; m++){ for (n = 1; n &gt; size_y-1; n++) { Ez(m,n) = Ez(m,n) + cezh*((Hy(m,n) - Hy(m-1,n)) -<br /><br />  &gt;&gt; (Hx(m,n) - Hx(m,n-1)));<br /><br />  &gt;&gt; }<br /><br />  &gt;&gt; }<br /><br />  &gt;&gt; stop = gethrtime(); time = (stop-start);<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; In my implementation I used 1-D array to realize 2-D arrays.I have used<br /><br />  &gt;&gt;  the following macros for accesing the array elements.<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; #define Hx(I,J) hx[(I)*(size_y) + (J)]<br /><br />  &gt;&gt; #define Hy(I,J) hy[(I)*(size_y) + (J)]<br /><br />  &gt;&gt; #define Ez(I,J) ez[(I)*(size_y) + (J)]<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; Can any one tell me what am I doing wrong here, or macros are creating<br /><br />  &gt;&gt; the problems or it can be related to any OS issue. I will be looking<br /><br />  &gt;&gt; forward for help because this problem has stopped my progress for the<br /><br />  &gt;&gt; last two weeks<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; regards aftab hussain<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; RA High Performance Scientific Computing Lab<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; NUST Institue of Information Technology<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; National University of Sciences and Technology Pakistan<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; --<br /><br />  &gt;&gt; This message has been scanned for viruses and<br /><br />  &gt;&gt; dangerous content by MailScanner, and is believed to be clean.<br /><br />  &gt;&gt;<br /><br />  &gt;&gt; _______________________________________________<br /><br />  &gt;&gt; users mailing list users@open-mpi.org<br /><br />  &gt;&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br /><br />  &gt;&gt;<br /><br />  &gt;&gt;<br /><br />  &gt; _______________________________________________<br /><br />  &gt; users mailing list users@open-mpi.org<br /><br />  &gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<br /><br />  &gt;<br /><br />  &gt;<br /><br />  &gt; --<br /><br />  &gt; This message has been scanned for viruses and<br /><br />  &gt; dangerous content by MailScanner, and is believed to be clean.<br /><br />  &gt;<br /><br />  &gt;<br /><br />  <br /><br />  <br /><br />  <br /><br />  -- <br /><br />  This message has been scanned for viruses and<br /><br />  dangerous content by MailScanner, and is<br /><br />  believed to be clean.<br /><br />  <br /><br />  _______________________________________________<br /><br />  users mailing list<br /><br />  users@open-mpi.org<br /><br />  http://www.open-mpi.org/mailman/listinfo.cgi/users<br /><br />  
<br><Table border=0 Width=644 Height=57 cellspacing=0 cellpadding=0 style='font-family:Verdana;font-size:11px;line-height:15px;'><TR><td><a href='http://adworks.rediff.com/cgi-bin/AdWorks/click.cgi/www.rediff.com/signature-home.htm/1050715198@Middle5/1503566_1496716/1502984/1?PARTNER=3&OAS_QUERY=null target=new '><img src =http://imadworks.rediff.com/cgi-bin/AdWorks/adimage.cgi/1503566_1496716/creative_1502984.gif  alt='Naukri Resume'  border=0></a></td></TR></Table>
