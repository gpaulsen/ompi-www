<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">You still have to set the PATH and&nbsp;LD_LIBRARY_PATH on your remote nodes to include where you installed OMPI.<div><br></div><div>Alternatively, use the absolute path name to mpirun in your cmd - we'll pick up the path and propagate it.</div><div><br></div><div><br><div><div>On May 3, 2011, at 9:14 PM, Ahsan Ali wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">Dear Bart,<div><br></div><div>I think OpenMPI don't need to be installed on all machines because they are NFS shared with the master node. I don't know how to check output of which orted, it is running just on the master node. I have another application which is running similarly but I am having problem with WRF.<br>
<br><div class="gmail_quote">On Tue, May 3, 2011 at 9:06 PM, Bart Brashers <span dir="ltr">&lt;<a href="mailto:bbrashers@environcorp.com">bbrashers@environcorp.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex; position: static; z-index: auto; ">
<div lang="EN-US" link="blue" vlink="purple"><div><p class="MsoNormal"><span style="font-size:11.0pt;color:#1F497D">It looks like OpenMPI is not installed on all your execution machines.&nbsp; You need to install at least the libs on all machines, or on an NFS-shared location.&nbsp; Check the output of "which orted" on the machine that works.</span></p><div><span style="font-size:11.0pt;color:#1F497D">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="font-size:11.0pt;color:#1F497D">Bart</span></p><div><span style="font-size:11.0pt;color:#1F497D">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><b><span style="font-size:10.0pt">From:</span></b><span style="font-size:10.0pt"> <a href="mailto:wrf-users-bounces@ucar.edu" target="_blank">wrf-users-bounces@ucar.edu</a> [mailto:<a href="mailto:wrf-users-bounces@ucar.edu" target="_blank">wrf-users-bounces@ucar.edu</a>] <b>On Behalf Of </b>Ahsan Ali<br>
<b>Sent:</b> Tuesday, May 03, 2011 1:04 AM<br><b>To:</b> <a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><b>Subject:</b> [Wrf-users] WRF Problem running in Parallel on multiple nodes(cluster)</span></p>
<div><div></div><div class="h5"><div>&nbsp;<br class="webkit-block-placeholder"></div><p class="MsoNormal">Hello,</p><div><div>&nbsp;<br class="webkit-block-placeholder"></div></div><div><p class="MsoNormal">I am able to run WRFV3.2.1 using mpirun on multiple cores of single machine, but when I want to run it across multiple nodes in cluster using hostlist then I get error, The compute nodes are mounted with the master node during boot using NFS. I get following error. Please help.</p>
</div><div><div>&nbsp;<br class="webkit-block-placeholder"></div></div><div><div><p class="MsoNormal">[root@pmd02 em_real]# mpirun -np 10 -hostfile /home/pmdtest/hostlist ./real.exe</p></div><div><p class="MsoNormal">bash: orted: command not found</p>
</div><div><p class="MsoNormal">bash: orted: command not found</p></div><div><p class="MsoNormal">--------------------------------------------------------------------------</p></div><div><p class="MsoNormal">A daemon (pid 22006) died unexpectedly with status 127 while attempting</p>
</div><div><p class="MsoNormal">to launch so we are aborting.</p></div><div><div>&nbsp;<br class="webkit-block-placeholder"></div></div><div><p class="MsoNormal">There may be more information reported by the environment (see above).</p></div><div><div>
&nbsp;<br class="webkit-block-placeholder"></div></div><div><p class="MsoNormal">This may be because the daemon was unable to find all the needed shared</p></div><div><p class="MsoNormal">libraries on the remote node. You may set your LD_LIBRARY_PATH to have the</p>
</div><div><p class="MsoNormal">location of the shared libraries on the remote nodes and this will</p></div><div><p class="MsoNormal">automatically be forwarded to the remote nodes.</p></div><div><p class="MsoNormal">--------------------------------------------------------------------------</p>
</div><div><p class="MsoNormal">--------------------------------------------------------------------------</p></div><div><p class="MsoNormal">mpirun noticed that the job aborted, but has no info as to the process</p></div>
<div><p class="MsoNormal">that caused that situation.</p></div><div><p class="MsoNormal">--------------------------------------------------------------------------</p></div><div><p class="MsoNormal">mpirun: clean termination accomplished</p>
</div><div><div>&nbsp;<br class="webkit-block-placeholder"></div></div><p class="MsoNormal"><br>-- <br>Syed Ahsan Ali Bokhari <br>Electronic Engineer (EE)</p><div><p class="MsoNormal"><br>Research &amp; Development Division<br>Pakistan Meteorological Department H-8/4, Islamabad.<br>
Phone&nbsp;#&nbsp;off &nbsp;+92518358714</p></div><div><p class="MsoNormal">Cell # +923155145014</p></div><div>&nbsp;<br class="webkit-block-placeholder"></div></div></div></div></div>
<div><div><br class="webkit-block-placeholder"></div><hr>
This message contains information that may be confidential, privileged or otherwise protected by law from disclosure. It is intended for the exclusive use of the Addressee(s). Unless you are the addressee or authorized agent of the addressee, you may not review, copy, distribute or disclose to anyone the message or any information contained within. If you have received this message in error, please contact the sender by electronic reply to <a href="mailto:email@environcorp.com" target="_blank">email@environcorp.com</a> and immediately delete all copies of the message.
<div><br class="webkit-block-placeholder"></div></div>
</div></blockquote></div><br><br clear="all"><br>-- <br>Syed Ahsan Ali Bokhari <br>Electronic Engineer (EE)<div><br>Research &amp; Development Division<br>Pakistan Meteorological Department H-8/4, Islamabad.<br>Phone&nbsp;#&nbsp;off &nbsp;+92518358714</div>
<div>Cell # +923155145014<br></div><br>
</div>
_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></body></html>
