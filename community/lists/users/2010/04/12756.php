<?
$subject_val = "[OMPI users] Trouble using rankfile with gridengine";
include("../../include/msg-header.inc");
?>
<!-- received="Fri Apr 23 12:36:13 2010" -->
<!-- isoreceived="20100423163613" -->
<!-- sent="Fri, 23 Apr 2010 10:36:03 -0600 (MDT)" -->
<!-- isosent="20100423163603" -->
<!-- name="Orion Poplawski" -->
<!-- email="orion_at_[hidden]" -->
<!-- subject="[OMPI users] Trouble using rankfile with gridengine" -->
<!-- id="41516.192.168.0.102.1272040563.squirrel_at_www.cora.nwra.com" -->
<!-- charset="iso-8859-1" -->
<!-- expires="-1" -->
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<p class="headers">
<strong>Subject:</strong> [OMPI users] Trouble using rankfile with gridengine<br>
<strong>From:</strong> Orion Poplawski (<em>orion_at_[hidden]</em>)<br>
<strong>Date:</strong> 2010-04-23 12:36:03
</p>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<li><strong>Previous message:</strong> <a href="12755.php">Timur Magomedov: "Re: [OMPI users] Segmentation fault when Send/Recv on heterogeneouscluster (32/64 bit machines)"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<li><strong>Reply:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<!-- reply="end" -->
</ul>
<hr>
<!-- body="start" -->
<p>
I'm using gridengine 6.2u5 and openmpi 1.3.3.  I'm submitting a parallel
<br>
job and would like to specify a rankfile to set processor binding but am
<br>
getting errors.
<br>
<p>The $PE_HOSTFILE generated by gridengine is:
<br>
<p>amos.cora.nwra.com 4 clouds.q_at_[hidden] UNDEFINED
<br>
andrew.cora.nwra.com 4 clouds.q_at_[hidden] UNDEFINED
<br>
<p>The rankfile I'm using is:
<br>
<p>rank 0=amos.cora.nwra.com slot=0
<br>
rank 1=andrew.cora.nwra.com slot=0
<br>
rank 2=amos.cora.nwra.com slot=4
<br>
rank 3=andrew.cora.nwra.com slot=4
<br>
rank 4=amos.cora.nwra.com slot=1
<br>
rank 5=andrew.cora.nwra.com slot=1
<br>
rank 6=amos.cora.nwra.com slot=5
<br>
rank 7=andrew.cora.nwra.com slot=5
<br>
<p>The error I'm getting is:
<br>
<p>Rankfile claimed host amos.cora.nwra.com that was not allocated or
<br>
oversubscribed it's slots:
<br>
<p>--------------------------------------------------------------------------
<br>
[amos:05727] [[44126,0],0] ORTE_ERROR_LOG: Bad parameter in file
<br>
rmaps_rank_file.c at line 108
<br>
[amos:05727] [[44126,0],0] ORTE_ERROR_LOG: Bad parameter in file
<br>
base/rmaps_base_map_job.c at line 87
<br>
[amos:05727] [[44126,0],0] ORTE_ERROR_LOG: Bad parameter in file
<br>
base/plm_base_launch_support.c at line 77
<br>
[amos:05727] [[44126,0],0] ORTE_ERROR_LOG: Bad parameter in file
<br>
plm_rsh_module.c at line 990
<br>
--------------------------------------------------------------------------
<br>
A daemon (pid unknown) died unexpectedly on signal 1  while attempting to
<br>
launch so we are aborting.
<br>
<p>Any ideas?
<br>
<p>Thanks!
<br>
<p>- Orion
<br>
<p><pre>
-- 
Orion Poplawski
Technical Manager                     303-415-9701 x222
NWRA/CoRA Division                    FAX: 303-415-9702
3380 Mitchell Lane                  orion_at_[hidden]
Boulder, CO 80301              <a href="http://www.cora.nwra.com">http://www.cora.nwra.com</a>
</pre>
<!-- body="end" -->
<hr>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<li><strong>Previous message:</strong> <a href="12755.php">Timur Magomedov: "Re: [OMPI users] Segmentation fault when Send/Recv on heterogeneouscluster (32/64 bit machines)"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<li><strong>Reply:</strong> <a href="12757.php">Ralph Castain: "Re: [OMPI users] Trouble using rankfile with gridengine"</a>
<!-- reply="end" -->
</ul>
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<? include("../../include/msg-footer.inc") ?>
