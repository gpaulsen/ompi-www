Thanks a lot Brian,<br><br>I think I will compile my applications with the new gcc and have open mpi compiled with the system-provided gcc, as you said.<br><br>Thanks a lot.<br><br>Daniele<br><br><div><span class="gmail_quote">
On 3/26/07, <b class="gmail_sendername">Brian Barrett</b> &lt;<a href="mailto:bbarrett@lanl.gov">bbarrett@lanl.gov</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
On Mar 25, 2007, at 11:20 AM, Daniele Avitabile wrote:<br><br>&gt; Hi everybody,<br>&gt;<br>&gt; I am trying to install open mpi on a Mac Os XServer, and the make<br>&gt; all command exits with the error<br>&gt;<br>&gt; openmpi_install_failed.tar.gz
<br>&gt;<br>&gt; as you can see from the output files I attached.<br>&gt;<br>&gt; Some comments that may be helpful:<br>&gt;<br>&gt; 1) I am not root on the machine, but I have permissions to write<br>&gt; in /usr/local/applications/, which is the directory in which I want
<br>&gt; to install openmpi.<br>&gt;<br>&gt; 2) In the same directory there is already an openmpi 1.1.2<br>&gt; installation, with gcc-4.0.1 compilers. I want to install the<br>&gt; current version of openmpi<br>&gt; and use a different compiler, namely the gcc compilers optimised
<br>&gt; for apple intel. They reside in the folder /usr/local/bin, and I<br>&gt; pass them in the make command, as you can see from the attached file.<br>&gt;<br>&gt; Any idea as to why I receive that error?<br><br>Short answer:
<br>You need to either use the system-provided GCC or rebuild your<br>version of GCC to use /usr/bin/libtool instead of /usr/bin/ld to link.<br><br>Long answer:<br>There are some things that are a little complicated to do with Mach-O
<br>if you want library versioning and plug-ins and all that to work<br>properly.&nbsp;&nbsp;GNU Libtool (and therefore Open MPI) assume that if you<br>are using GCC, it can emit options to the linker that are meant for /<br>usr/bin/libtool, the library creation helper for OS X.&nbsp;&nbsp;-
<br>compatibility_version is one of those things.&nbsp;&nbsp;Your version of GCC is<br>instead invoking /usr/bin/ld directly, so things are going wrong.<br><br>You can still use the &quot;intel optimized&quot; version of GCC to compile
<br>your application, as long as it doesn&#39;t use GNU libtool, of course.<br>Just use the system GCC to compile Open MPI and all will be fine.<br><br><br>Hope this helps,<br><br>Brian<br><br><br>_______________________________________________
<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div>
<br>

