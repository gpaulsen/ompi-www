<div dir="ltr">Have you tried using a debugger to look at the resulting core file? It will probably point you right at the problem. Most likely a case of overrunning some array when #temps &gt; 5<br><br><br></div><div class="gmail_extra">
<br><br><div class="gmail_quote">On Tue, Apr 15, 2014 at 10:46 AM, Oscar Mojica <span dir="ltr">&lt;<a href="mailto:o_mojical@hotmail.com" target="_blank">o_mojical@hotmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">



<div><div dir="ltr">Hello everybody<div style="line-height:21.299999237060547px"><br></div><div style="line-height:21.299999237060547px"><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">I implemented a parallel simulated annealing algorithm in fortran.  The algorithm is describes as follows</span></div>
<div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt"><br></span></div><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">1. The MPI program initially </span><span style="line-height:22.719999313354492px;font-size:12pt">generates P processes that have rank 0,1,...,P-1. </span></div>
<div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">2. The MPI program generates a starting point and sends it  for all processes set T=T0</span></div><div style="color:rgb(68,68,68);font-size:15px">
<span style="line-height:22.719999313354492px;font-size:12pt">3. At the current temperature T, each process begins to execute iterative operations</span></div><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">4. At end of iterations, process with rank 0 is responsible for collecting the solution obatined by </span></div>
<div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">5. Each process at current temperature and broadcast the best solution of them among all participating</span></div>
<div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">process</span></div><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt">6. Each process cools the temperatue and goes back to step 3, </span>until the maximum number of temperatures </div>
<div style="color:rgb(68,68,68);font-size:15px">is reach</div><div style="color:rgb(68,68,68);font-size:15px"><br></div><div style="color:rgb(68,68,68);font-size:15px">I compiled with: mpif90 -o exe mpivfsa_version2.f</div>
<div style="color:rgb(68,68,68);font-size:15px">and run with: mpirun -np 4 ./exe in a single machine</div><div style="color:rgb(68,68,68);font-size:15px"><br></div><div style="color:rgb(68,68,68);font-size:15px">So I have 4 processes, 1 iteration per temperature and for example 15 temperatures. When I run the program </div>
<div style="color:rgb(68,68,68);font-size:15px">with just 5 temperatures it works well, but when the number of temperatures is higher than 5 it doesn&#39;t write the</div><div style="color:rgb(68,68,68);font-size:15px">ouput files and <span style="line-height:22.719999313354492px;font-size:12pt">I get the following error message:</span></div>
<div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt"><br></span></div><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt"><br>
</span></div><div style="color:rgb(68,68,68);font-size:15px"><span style="line-height:22.719999313354492px;font-size:12pt"><div>[oscar-Vostro-3550:06740] *** Process received signal ***</div><div>[oscar-Vostro-3550:06741] *** Process received signal ***</div>
<div>[oscar-Vostro-3550:06741] Signal: Segmentation fault (11)</div><div>[oscar-Vostro-3550:06741] Signal code: Address not mapped (1)</div><div>[oscar-Vostro-3550:06741] Failing at address: 0xad6af</div><div>[oscar-Vostro-3550:06742] *** Process received signal ***</div>
<div>[oscar-Vostro-3550:06740] Signal: Segmentation fault (11)</div><div>[oscar-Vostro-3550:06740] Signal code: Address not mapped (1)</div><div>[oscar-Vostro-3550:06740] Failing at address: 0xad6af</div><div><span style="font-size:12pt">[oscar-Vostro-3550:06742] Signal: Segmentation fault (11)</span></div>
<div>[oscar-Vostro-3550:06742] Signal code: Address not mapped (1)</div><div>[oscar-Vostro-3550:06742] Failing at address: 0xad6af</div><div>[oscar-Vostro-3550:06740] [ 0] /lib/x86_64-linux-gnu/libc.so.6(+0x364a0) [0x7f49ee2224a0]</div>
<div>[oscar-Vostro-3550:06740] [ 1] /lib/x86_64-linux-gnu/libc.so.6(cfree+0x1c) [0x7f49ee26f54c]</div><div>[oscar-Vostro-3550:06740] [ 2] ./exe() [0x406742]</div><div>[oscar-Vostro-3550:06740] [ 3] ./exe(main+0x34) [0x406ac9]</div>
<div>[oscar-Vostro-3550:06740] [ 4] /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed) [0x7f49ee20d76d]</div><div>[oscar-Vostro-3550:06742] [ 0] /lib/x86_64-linux-gnu/libc.so.6(+0x364a0) [0x7f6877fdc4a0]</div><div>[oscar-Vostro-3550:06742] [ 1] /lib/x86_64-linux-gnu/libc.so.6(cfree+0x1c) [0x7f687802954c]</div>
<div>[oscar-Vostro-3550:06742] [ 2] ./exe() [0x406742]</div><div>[oscar-Vostro-3550:06742] [ 3] ./exe(main+0x34) [0x406ac9]</div><div>[oscar-Vostro-3550:06742] [ 4] /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed) [0x7f6877fc776d]</div>
<div>[oscar-Vostro-3550:06742] [ 5] ./exe() [0x401399]</div><div>[oscar-Vostro-3550:06742] *** End of error message ***</div><div>[oscar-Vostro-3550:06740] [ 5] ./exe() [0x401399]</div><div>[oscar-Vostro-3550:06740] *** End of error message ***</div>
<div>[oscar-Vostro-3550:06741] [ 0] /lib/x86_64-linux-gnu/libc.so.6(+0x364a0) [0x7fa6c4c6e4a0]</div><div>[oscar-Vostro-3550:06741] [ 1] /lib/x86_64-linux-gnu/libc.so.6(cfree+0x1c) [0x7fa6c4cbb54c]</div><div>[oscar-Vostro-3550:06741] [ 2] ./exe() [0x406742]</div>
<div>[oscar-Vostro-3550:06741] [ 3] ./exe(main+0x34) [0x406ac9]</div><div>[oscar-Vostro-3550:06741] [ 4] /lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed) [0x7fa6c4c5976d]</div><div>[oscar-Vostro-3550:06741] [ 5] ./exe() [0x401399]</div>
<div>[oscar-Vostro-3550:06741] *** End of error message ***</div></span></div><div style="color:rgb(68,68,68);font-size:15px"><div style="line-height:22.719999313354492px;font-size:12pt">--------------------------------------------------------------------------</div>
<div style="line-height:22.719999313354492px;font-size:12pt">mpirun noticed that process rank 0 with PID 6917 on node oscar-Vostro-3550 exited on signal 11 (Segmentation fault).</div><div style="line-height:22.719999313354492px;font-size:12pt">
--------------------------------------------------------------------------</div><div style="line-height:22.719999313354492px;font-size:12pt">2 total processes killed (some possibly by mpirun during cleanup)</div><div style="line-height:22.719999313354492px;font-size:12pt">
<br></div><div style="line-height:22.719999313354492px;font-size:12pt">If there is a segmentation fault in no case it must work .</div><div style="line-height:22.719999313354492px;font-size:12pt"><span style="font-size:12pt">I checked the program and didn&#39;t find the error. </span><span style="font-size:12pt">Why does the program work with five temperatures?</span></div>
<div style="line-height:22.719999313354492px;font-size:12pt"><span style="font-size:12pt">Could someone help me to find the error and answer my question please.</span></div><div style="line-height:22.719999313354492px;font-size:12pt">
<span style="font-size:12pt"><br></span></div><div>The program and the necessary files to run it  are attached</div></div><div style="color:rgb(68,68,68);font-size:15px"><br></div><div style="color:rgb(68,68,68);font-size:15px">
Thanks</div><div><br></div></div><br><u>Oscar Fabian Mojica Ladino</u><br><font style="font-size:8pt" size="1">Geologist M.S. in  Geophysics</font><br> 		 	   		  </div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br></div>

