<div dir="ltr"><span style="font-family: courier new,monospace;">Dear all,</span><br style="font-family: courier new,monospace;"><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">I have troubles installing rmpi&nbsp; 0.5-5 (or 0.5-6) on a quad opteron machine with OpenSUSE 11.0 and </span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">R 2.7.2 </span><br style="font-family: courier new,monospace;"><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">platform&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x86_64-unknown-linux-gnu</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">arch&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x86_64</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">os&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; linux-gnu</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">system&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x86_64, linux-gnu</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Patched</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">major&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">minor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7.2</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">year&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2008</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">month&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 09</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">day&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 18</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">svn rev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 46546</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">language&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; R</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">version.string R version 2.7.2 Patched (2008-09-18 r46546)</span><br>
<br>I tried the following<br><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;"># export MPI_ROOT=/usr/lib64/mpi/gcc/openmpi/</span><br><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;"># R CMD INSTALL&nbsp; Rmpi_0.5-6.tar.gz</span><br><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">* Installing to library &#39;/usr/local/lib64/R/library&#39;</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">* Installing *source* package &#39;Rmpi&#39; ...</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking for gcc... gcc</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">checking for C compiler default output file name... a.out</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking whether the C compiler works... yes</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">checking whether we are cross compiling... no</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking for suffix of executables...</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">checking for suffix of object files... o</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking whether we are using the GNU C compiler... yes</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">checking whether gcc accepts -g... yes</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking for gcc option to accept ISO C89... none needed</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">Try to find mpi.h ...</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">Found in /usr/lib64/mpi/gcc/openmpi//include</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">Try to find libmpi.so or libmpich.a</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking for main in -lmpi... yes</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">checking for openpty in -lutil... yes</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">checking for main in -lpthread... yes</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">configure: creating ./config.status</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">config.status: creating src/Makevars</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">** libs</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">gcc -std=gnu99 -I/usr/local/lib64/R/include -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/lib64/mpi/gcc/openmpi//include -DMPI2 -DOPENMPI -fPIC -I/usr/local/include&nbsp;&nbsp;&nbsp; -fpic&nbsp; -g -O2 -c RegQuery.c -o RegQuery.o</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">gcc -std=gnu99 -I/usr/local/lib64/R/include -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/lib64/mpi/gcc/openmpi//include -DMPI2 -DOPENMPI -fPIC -I/usr/local/include&nbsp;&nbsp;&nbsp; -fpic&nbsp; -g -O2 -c Rmpi.c -o Rmpi.o</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">gcc -std=gnu99 -I/usr/local/lib64/R/include -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/lib64/mpi/gcc/openmpi//include -DMPI2 -DOPENMPI -fPIC -I/usr/local/include&nbsp;&nbsp;&nbsp; -fpic&nbsp; -g -O2 -c conversion.c -o conversion.o</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">gcc -std=gnu99 -I/usr/local/lib64/R/include -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/lib64/mpi/gcc/openmpi//include -DMPI2 -DOPENMPI -fPIC -I/usr/local/include&nbsp;&nbsp;&nbsp; -fpic&nbsp; -g -O2 -c internal.c -o internal.o</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">gcc -std=gnu99 -shared -L/usr/local/lib64 -o Rmpi.so RegQuery.o Rmpi.o conversion.o internal.o -L/usr/lib64/mpi/gcc/openmpi//lib -lmpi -lutil -lpthread -fPIC</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">/usr/lib64/gcc/x86_64-suse-linux/4.3/../../../../x86_64-suse-linux/bin/ld: cannot find -lmpi</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">collect2: ld returned 1 exit status</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">make: *** [Rmpi.so] Error 1</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">chmod: cannot access `/usr/local/lib64/R/library/Rmpi/libs/*&#39;: No such file or directory</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">ERROR: compilation failed for package &#39;Rmpi&#39;</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">** Removing &#39;/usr/local/lib64/R/library/Rmpi&#39;</span><br>
<br><span style="font-family: courier new,monospace;">I also tried with </span><br style="font-family: courier new,monospace;"><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">R CMD INSTALL&nbsp; Rmpi_0.5-6.tar.gz --configure-args=--with-mpi=/usr/lib64/mpi/gcc/openmpi/</span><br>
<br>with the same results.<br>Any help would be greatly appreciated.<br><br>Regards<br><br>Simone Giannerini<br><br><br clear="all"><br>-- <br>______________________________________________________<br><br>Simone Giannerini<br>
Dipartimento di Scienze Statistiche &quot;Paolo Fortunati&quot;<br>Universita&#39; di Bologna<br>Via delle belle arti 41 - 40126 &nbsp;Bologna, &nbsp;ITALY<br>Tel: +39 051 2098262 &nbsp;Fax: +39 051 232153<br><a href="http://www2.stat.unibo.it/giannerini/">http://www2.stat.unibo.it/giannerini/</a><br>
______________________________________________________<br>
</div>

