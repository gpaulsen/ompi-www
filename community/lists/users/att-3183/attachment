<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; ">Yup, it does.  There's nothing in the standard that says it isn't allowed to.  Given the number of system/libc calls involved in doing communication, pretty much every MPI function is going to change the value of errno.  If you expect otherwise, I'd modify your application.  Most cluster-based MPI implementations are going to randomly change the errno on you.<DIV><BR class="khtml-block-placeholder"></DIV><DIV>Brian<DIV><BR><DIV><DIV>On May 2, 2007, at 12:18 PM, Chudin, Eugene wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite"><P><FONT size="2" face="Arial">I am trying to experiment with openmpi and following trivial code (although runs) affects value of errno</FONT> </P><P><FONT size="2" face="Arial">#include &lt;cerrno&gt;</FONT> <BR><FONT size="2" face="Arial">#include &lt;mpi.h&gt;</FONT> </P> <BR><P><FONT size="2" face="Arial">int main(int argc, char** argv)</FONT> <BR><FONT size="2" face="Arial">{</FONT> <BR><FONT size="2" face="Arial">     int _procid, _np;</FONT> <BR><FONT size="2" face="Arial">     std::cout &lt;&lt; "errno=\t" &lt;&lt; errno &lt;&lt; std::endl;</FONT> <BR><FONT size="2" face="Arial">     MPI_Init(&amp;argc, &amp;argv);</FONT> <BR><FONT size="2" face="Arial">     std::cout &lt;&lt; "errno=\t" &lt;&lt; errno &lt;&lt; "\tafter MPI_Init()\t" &lt;&lt; std::endl;</FONT> <BR><FONT size="2" face="Arial">     MPI_Comm_rank (MPI_COMM_WORLD, &amp;_procid);</FONT> <BR><FONT size="2" face="Arial">     MPI_Comm_size (MPI_COMM_WORLD, &amp;_np);</FONT> <BR><FONT size="2" face="Arial">     std::cout &lt;&lt; "errno msg=\t" &lt;&lt; strerror(errno) &lt;&lt; "\tprocessor=\t" &lt;&lt; _procid &lt;&lt; std::endl;</FONT> <BR><FONT size="2" face="Arial">     MPI_Finalize();</FONT> <BR><FONT size="2" face="Arial">     return 0;</FONT> <BR><FONT size="2" face="Arial">}</FONT> </P><P><FONT size="2" face="Arial">Compiled with </FONT> <BR><FONT size="2" face="Arial">mpiCC -Wall test.cpp -o test</FONT> </P><P><FONT size="2" face="Arial">Produces following output when run just on single processor using </FONT> <BR><FONT size="2" face="Arial">mpirun -np 1 --prefix /toolbox/openmpi  ./test</FONT> <BR><FONT size="2" face="Arial">errno=  0</FONT> <BR><FONT size="2" face="Arial">errno=  2       after MPI_Init()</FONT> <BR><FONT size="2" face="Arial">errno msg=      No such file or directory       processor=      0</FONT> </P><P><FONT size="2" face="Arial">When run on two processors using </FONT> <BR><FONT size="2" face="Arial">mpirun -np 2 --prefix /toolbox/openmpi  ./test</FONT> <BR><FONT size="2" face="Arial">errno=  0</FONT> <BR><FONT size="2" face="Arial">errno=  0</FONT> <BR><FONT size="2" face="Arial">errno=  11      after MPI_Init()</FONT> <BR><FONT size="2" face="Arial">errno=  115     after MPI_Init()</FONT> <BR><FONT size="2" face="Arial">errno msg=      Operation now in progress       processor=      0</FONT> <BR><FONT size="2" face="Arial">errno msg=      Resource temporarily unavailable        processor=      1</FONT> </P><P><FONT size="2" face="Arial">The output of ompi_info --all is attached</FONT> </P><P><FONT face="Arial" size="2" color="#000000"> &lt;&lt;ompi_info.txt&gt;&gt; </FONT> </P> <BR><DIV><BR class="khtml-block-placeholder"></DIV><PRE wrap="">------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains
information of Merck & Co., Inc. (One Merck Drive, Whitehouse Station,
New Jersey, USA 08889), and/or its affiliates (which may be known
outside the United States as Merck Frosst, Merck Sharp & Dohme or MSD
and in Japan, as Banyu - direct contact information for affiliates is 
available at <A href="http://www.merck.com/contact/contacts.html">http://www.merck.com/contact/contacts.html</A>) that may be 
confidential, proprietary copyrighted and/or legally privileged. It is 
intended solely for the use of the individual or entity named on this 
message. If you are not the intended recipient, and have received this 
message in error, please notify us immediately by reply e-mail and then 
delete it from your system.

------------------------------------------------------------------------------</PRE><DIV><SPAN><DIV>&lt;ompi_info.txt&gt;</DIV></SPAN>_______________________________________________</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">users mailing list</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="mailto:users@open-mpi.org">users@open-mpi.org</A></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</A></DIV> </BLOCKQUOTE></DIV><BR></DIV></DIV></BODY></HTML>
