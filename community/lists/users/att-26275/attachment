<div dir="ltr"><br><div class="gmail_extra"><br><div class="gmail_quote">2015-02-03 19:12 GMT+00:00 Elio Physics <span dir="ltr">&lt;<a href="mailto:elio-physics@live.com" target="_blank">elio-physics@live.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">


<div><div dir="ltr">Hello,<div><br></div><div>thanks for your help. I have tried:</div><div><br></div><div><div>./configure  --with-mpi-prefix=/usr FC=ifort CC=icc</div><div><br></div><div>But i still get the same error.  Mind you if I compile it serially, that is ./configure   FC=ifort CC=icc</div><div><br></div><div>It works perfectly fine.</div><div><br></div><div>We do have MPI installed.. I am using Quantum Espresso code with mpirun.</div></div></div></div></blockquote><div>Sorry I thought you where also compiling your own MPI. </div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div dir="ltr"><div><div><br></div><div>I am attaching the config.log file. I appreciate your help.</div></div></div></div></blockquote><div>I see you are trying to install abinit, I would highly recommend you to utilize their <a href="http://build.ac">build.ac</a> module method.</div><div>Instead of then passing arguments to the command line you create a <a href="http://build.ac">build.ac</a> file and configure like this:</div><div>./configure --with-config-file </div><div>(I would recommend you to build abinit in a sub-folder)</div><div><br></div><div>However, your problem is that your used MPI version is compiled against gcc (the 4.1) so that will never work, even if you specify FC/CC</div><div>Either:</div><div>A) Use an MPI version installed using the intel compiler (if not provided by your cluster administrator you need to install it)</div><div>B) Get a new gcc compiler</div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div dir="ltr"><div><div><br></div><div>Regards</div><div><br></div><div>Elio</div><div><span style="font-size:12pt"><br></span></div><br><div><hr>From: <a href="mailto:nickpapior@gmail.com" target="_blank">nickpapior@gmail.com</a><br>Date: Tue, 3 Feb 2015 17:21:51 +0000<br>To: <a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>Subject: Re: [OMPI users] configuring a code with MPI/OPENMPI<div><div class="h5"><br><br><div dir="ltr">First try and correct your compilation by using the intel c-compiler AND the fortran compiler. You should not mix compilers. <div>CC=icc FC=ifort</div><div>Else the config.log is going to be necessary to debug it further.</div><div><br></div><div>PS: You could also try and convince your cluster administrator to provide a more recent compiler</div><div>PPS: Do your cluster not have an MPI installation already present?</div><div><br></div></div><div><br><div>2015-02-03 17:13 GMT+00:00 Elio Physics <span dir="ltr">&lt;<a href="mailto:elio-physics@live.com" target="_blank">elio-physics@live.com</a>&gt;</span>:<br><blockquote style="border-left:1px #ccc solid;padding-left:1ex">


<div><div dir="ltr">Dear all,<div><br></div><div>II am trying to configure a code  with mpi (for parallel processing)  to do some calculations so basically I type:</div><div><br></div><div>./configure </div><div><br></div><div>and I get:</div><div><br></div><div><span style="color:rgb(51,51,51);font-family:&#39;Lucida Grande&#39;,&#39;Trebuchet MS&#39;,Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:18.2000007629395px;background-color:rgb(225,235,242)">configure: error: Fortran compiler does not provide iso_c_binding module. Use a more recent version or a different compiler</span></div><div><br></div><div><br></div><div>which means that my GCC 4.1 compiler is too old to build the code (something i do not have control over..It is a cluster of the Uni where I work). so I tried another compiler ifort:</div><div><br></div><div><div>./configure  --enable-mpi=yes  FC=ifort</div></div><div> but now I get another error:</div><div><br></div><div><div> ==============================================================================</div><div> === Multicore architecture support                                         ===</div><div> ==============================================================================</div><div><br></div><div>checking whether to enable OpenMP support... no</div><div>checking whether to build MPI code... yes</div><div>checking whether the C compiler supports MPI... no</div><div>checking whether the C++ compiler supports MPI... no</div><div>checking whether the Fortran Compiler supports MPI... no</div><div>checking whether MPI is usable... no</div><div>configure: error: MPI support is broken - please fix your config parameters and/or MPI installation</div></div><div><br></div><div>Agaiin, I tried ti give a path for the mpi compiler:</div><div><br></div><div><div> ./configure  --enable-mpi  --with-mpi-prefix=/usr FC=ifort</div></div><div><br></div><div>WHICH APPARENTLY SOLVED THE PREVIOUS ERROR:</div><div><div> ==============================================================================</div><div> === Multicore architecture startup                                         ===</div><div> ==============================================================================</div><div><br></div><div>configure: Initializing MPI support</div><div>configure: looking for MPI in /usr</div><div>checking for a MPI C compiler... /usr/bin/mpicc</div><div>checking for a MPI C++ compiler... /usr/bin/mpicxx</div><div>checking for a MPI Fortran compiler... /usr/bin/mpif90</div><div>configure: creating wrapper for MPI Fortran compiler</div><div>configure: GPU support disabled from command-line</div></div><div> </div><div>But stranegly enough got me back to the furst error although I am using ifort!!</div><div><br></div><div><div>checking whether the Fortran compiler provides the iso_c_binding module... configure: error: Fortran compiler does not provide iso_c_binding module. Use a more recent version or a different compiler</div></div><div><br></div><div>so what is going on?? please can anyone help me on this..Thank youu</div><div><br></div><div>Elio</div><div>University of Rondonia</div><div>Brazil</div><div><br></div><div><br></div> 		 	   		  </div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/02/26268.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26268.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div>Kind regards Nick</div></div></div>
</div>
<br></div></div>_______________________________________________
users mailing list
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/02/26270.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26270.php</a></div></div> 		 	   		  </div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/02/26273.php" target="_blank">http://www.open-mpi.org/community/lists/users/2015/02/26273.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div>Kind regards Nick</div></div></div>
</div></div>

