<table cellspacing="0" cellpadding="0" border="0" ><tr><td valign="top" style="font: inherit;"><div id="yiv199304184"><table cellspacing="0" cellpadding="0" border="0" id="yiv199304184bodyDrftID" class="yiv199304184"><tbody><tr><td id="yiv199304184drftMsgContent" style="font:inherit;font-family:arial;font-size:10pt;"><font class="yiv199304184Apple-style-span" face="arial" style="font-size:10pt;">Hello Everyone,</font><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;">I am trying to statically build open mpi libraries from a server which has intel and pgi compilers installed and copy the resulting binaries to be used on another test server since I do not have intel and pgi compilers on these test servers (only gcc). First of all, please tell me if this is possible.</div><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;">So far these are the three
 different options I have tried and ended up getting the respective errors while running the mpicc or mpirun on the test server:</div><div style="
font-size:10pt;"><p class="yiv199304184MsoNormal" style="margin-top:0in;margin-right:0in;margin-left:0.5in;margin-bottom:0.0001pt;line-height:normal;"><font class="yiv199304184Apple-style-span" face="arial"><br></font></p></div><div style="font-size:10pt;font-family:arial;"><b><font class="yiv199304184Apple-style-span" color="#ff0000">Option 1: &nbsp;Using&nbsp;</font></b><b><font class="yiv199304184Apple-style-span" color="#ff0000"><span class="yiv199304184Apple-style-span" style="font-family:'Times New Roman';"><span style="font-family:serif;">LDFLAGS=</span></span></font></b><b><font class="yiv199304184Apple-style-span" color="#ff0000">-Bstatic</font></b></div><div style="font-size:10pt;"><div><p class="yiv199304184MsoNormal" style="font-family:arial;margin-top:0in;margin-right:0in;margin-bottom:0.0001pt;margin-left:0.5in;line-height:normal;"><span style="font-family:serif;"><br></span></p><p class="yiv199304184MsoNormal"
 style="font-family:arial;margin-top:0in;
margin-right:0in;margin-bottom:0.0001pt;margin-left:0.5in;line-height:normal;"><span style="font-family:serif;">./configure CC=icc CXX=icpc F77=ifort FC=ifort LDFLAGS=-Bstatic --without-memory-manager --without-libnuma --enable-static --disable-shared<span>&nbsp;&nbsp;</span>--prefix=/opt/openmpi/openmpi-intel --enable-mpi-f77 --enable-mpi-f90 2&gt;&amp;1 | tee configure-intel.log</span></p><p class="yiv199304184MsoNormal" style="margin-top:0in;margin-right:0in;margin-bottom:0.0001pt;margin-left:0.5in;line-height:normal;"><font class="yiv199304184Apple-style-span" face="'Times New Roman', serif"><br></font></p></div><div><span class="yiv199304184Apple-style-span" style="font-family:arial;"><span class="yiv199304184Apple-style-span" style="line-height:19px;font-family:'Times New Roman';"><b style="
"><span style="font-size:10.0pt;color:#333333;">Error on the test server</span></b><span style="font-size:10.0pt;color:#333333;">:</span></span></span></div><div><span class="yiv199304184Apple-style-span" style="font-family:arial;"><span class="yiv199304184Apple-style-span" style="line-height:19px;font-family:'Times New Roman';"><span style="font-size:10.0pt;color:#333333;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ld: attempted static link of dynamic object `/cm/shared/apps/torque/2.4.11/lib/libtorque.so'</span></span></span></div></div>

<p style="font-size:10pt;margin-left:0.5in;line-height:14.25pt;"><span style="font-size:10.0pt;color:#333333;">make[2]: *** [orte-clean]
Error 1</span></p> 

<p style="font-size:10pt;margin-left:0.5in;line-height:14.25pt;"><span style="font-size:10.0pt;color:#333333;">make[2]: Leaving directory
`/opt/openmpi/openmpi-1.4.3-intel/openmpi-1.4.3/orte/tools/orte-clean'</span></p> 

<p style="font-size:10pt;margin-left:0.5in;line-height:14.25pt;"><span style="font-size:10.0pt;color:#333333;">make[1]: *** [all-recursive]
Error 1</span></p> 

<p style="font-size:10pt;margin-left:0.5in;line-height:14.25pt;"><span style="font-size:10.0pt;color:#333333;">make[1]: Leaving directory
`/opt/openmpi/openmpi-1.4.3-intel/openmpi-1.4.3/orte'</span></p> 

<p style="font-size:10pt;margin-top:0in;margin-right:0in;margin-bottom:5pt;margin-left:0.5in;line-height:14.25pt;"><span style="font-size:10.0pt;color:#333333;">make: *** [all-recursive] Error 1</span></p><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;"><b><font class="yiv199304184Apple-style-span" color="#ff0000">Option 2: Using&nbsp;</font></b><b><font class="yiv199304184Apple-style-span" color="#ff0000"><span class="yiv199304184Apple-style-span" style="font-family:'Times New Roman';"><span style="font-family:serif;">LDFLAGS=</span></span></font></b><b><font class="yiv199304184Apple-style-span" color="#ff0000">&nbsp;-static</font></b></div><div style="font-size:10pt;font-family:arial;"><span class="yiv199304184Apple-style-span" style="line-height:19px;font-family:'Times New Roman';"><b><span style="font-size:10pt;font-family:Verdana, sans-serif;color:rgb(51, 51, 51);">Error on the test
 server</span></b><span style="font-size:10pt;font-family:Verdana, sans-serif;color:rgb(51, 51, 51);">:</span></span>&nbsp;</div><div style="font-size:10pt;font-family:arial;"><span class="yiv199304184Apple-style-span" style="font-family:serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;root@ubuntu-server2:/opt/openmpi-intel/bin#
./mpicc</span></div>

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-top:0in;margin-right:0in;margin-left:1.5in;margin-bottom:0.0001pt;line-height:normal;"><span style="">Cannot
open configuration file
/opt/openmpi/openmpi-intel/share/openmpi/mpicc-wrapper-data.txt</span></p> 

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in;line-height:normal;"><span style="">Error parsing data file mpicc:
Not found</span></p> 

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in;line-height:normal;"><span style="">root@ubuntu-server2:/opt/openmpi-intel/bin#
mpirun</span></p> 

<span style="font-size:11pt;line-height:115%;font-family:serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mpirun:
error while loading shared libraries: libtorque.so.2: cannot open shared object
file: No such file or directory</span><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;"><b><font class="yiv199304184Apple-style-span" color="#ff0000">Option 3:&nbsp;</font></b><b><font class="yiv199304184Apple-style-span" color="#ff0000"><span class="yiv199304184Apple-style-span" style="font-family:'Times New Roman';"><span style="">LDFLAGS=-static-intel
(same as deprecated i-static option)</span></span></font></b></div><div style="font-size:10pt;font-family:arial;"><span class="yiv199304184Apple-style-span" style="font-family:'Times New Roman';"><span class="yiv199304184Apple-style-span" style="font-family:arial;"><span class="yiv199304184Apple-style-span" style="line-height:19px;font-family:'Times New Roman';"><b><span style="font-size:10pt;font-family:Verdana, sans-serif;color:rgb(51, 51, 51);">Error on the test server</span></b></span></span></span></div><div style="font-size:10pt;"><font class="yiv199304184Apple-style-span" color="#333333" face="Verdana, sans-serif"><span class="yiv199304184Apple-style-span" style="line-height:19px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></font><span class="yiv199304184Apple-style-span" style="font-family:arial;">&nbsp;</span><span style="font-family:serif;">mpirun:
error while loading shared libraries: libtorque.so.2: &nbsp; cannot open shared object
file: No such file or directory</span></div><div style="font-size:10pt;font-family:arial;"></div><div style="font-size:10pt;font-family:arial;"></div><div style="font-size:10pt;font-family:arial;"></div>

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-bottom:0.0001pt;line-height:normal;"><span style=""><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>root@ubuntu-server2:/opt/openmpi-intel/bin#
./mpicc</span></p> 

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-top:0in;margin-right:0in;margin-left:1.5in;margin-bottom:0.0001pt;line-height:normal;"><span style="">Cannot
open configuration file
/opt/openmpi/openmpi-intel/share/openmpi/mpicc-wrapper-data.txt</span></p> 

<p class="yiv199304184MsoNormal" style="font-size:10pt;margin-top:0in;margin-right:0in;margin-left:1in;margin-bottom:0.0001pt;text-indent:0.5in;line-height:normal;"><span style="">Error parsing data file mpicc:
Not found</span></p><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;">How do I exclude torque shared libraries. Will that solve the problem?</div><div style="font-size:10pt;font-family:arial;"><br></div><div><font class="yiv199304184Apple-style-span" face="arial" size="2">FYI, both servers (test and the original server) are 64-bit AMD opterons and the openmpi works perfectly fine on the&nbsp;original&nbsp;server on which they were built on.</font></div><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;">Any comments or suggestions will help.</div><div style="font-size:10pt;font-family:arial;"><br></div><div style="font-size:10pt;font-family:arial;">Thanks,</div><div style="font-size:10pt;font-family:arial;">Rohan</div></td></tr></tbody></table></div></td></tr></table>
