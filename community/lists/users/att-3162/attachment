Hi all,<br><br>I use gcc-4.1.3 (gcc/g++/gfortran) with openmpi-1.2.1 on an Alpha system<br>with Linux CentOS 4.4.<br><br>The "--enable-static" configure option causes the make to end with error.<br>Without this configure option, there is no problem with the make.<br><br>Note that I need the "-mfp-trap-mode=su" compiler flag with this alpha<br>system, to avoid a runtime sigsegv abort. This is what I have done:<br><br>$ ./configure CPP=/opt/gcc/bin/cpp \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CC=/opt/gcc/bin/gcc&nbsp; CFLAGS=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CXX=/opt/gcc/bin/g++ CXXFLAGS=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; F77=/opt/gcc/bin/gfortran FFLAGS=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FC=/opt/gcc/bin/gfortran FCFLAGS=-mfp-trap-mode=su
 \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-wrapper-cflags=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-wrapper-cxxflags=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-wrapper-fflags=-mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --with-wrapper-fcflags=mfp-trap-mode=su \<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --enable-static --prefix=/opt/openmpi<br>[ ...snip... ]<br>$ make all<br>[ ...snip... ]<br>if /opt/gcc/bin/g++ -DHAVE_CONFIG_H -I. -I. -I../../../opal/include -I../../../orte/include -I../../../ompi/include -I../../../ompi/include&nbsp; -DOMPI_CONFIGURE_USER="\"rob\"" -DOMPI_CONFIGURE_HOST="\"alpha\"" -DOMPI_CONFIGURE_DATE="\"Tue May&nbsp; 1 21:48:43 KST 2007\"" -DOMPI_BUILD_USER="\"$USER\"" -DOMPI_BUILD_HOST="\"`hostname`\"" -DOMPI_BUILD_DATE="\"`date`\""
 -DOMPI_BUILD_CFLAGS="\"-O3 -DNDEBUG -mfp-trap-mode=su -finline-functions -fno-strict-aliasing -pthread\"" -DOMPI_BUILD_CPPFLAGS="\"-I../../..&nbsp; \"" -DOMPI_BUILD_CXXFLAGS="\"-O3 -DNDEBUG -mfp-trap-mode=su -finline-functions -pthread\"" -DOMPI_BUILD_CXXCPPFLAGS="\"-I../../..&nbsp; \"" -DOMPI_BUILD_FFLAGS="\"-mfp-trap-mode=su\"" -DOMPI_BUILD_FCFLAGS="\"-mfp-trap-mode=su\"" -DOMPI_BUILD_LDFLAGS="\"-export-dynamic&nbsp; \"" -DOMPI_BUILD_LIBS="\"-lnsl -lutil&nbsp; -lm \"" -DOMPI_CC_ABSOLUTE="\"/opt/gcc/bin/gcc\"" -DOMPI_CXX_ABSOLUTE="\"/opt/gcc/bin/g++\"" -DOMPI_F77_ABSOLUTE="\"/opt/gcc/bin/gfortran\"" -DOMPI_F90_ABSOLUTE="\"/opt/gcc/bin/gfortran\"" -DOMPI_F90_BUILD_SIZE="\"small\"" -I../../..&nbsp;&nbsp;&nbsp; -O3 -DNDEBUG -mfp-trap-mode=su -finline-functions -pthread -MT version.o -MD -MP -MF "$depbase.Tpo" -c -o version.o version.cc; \<br>then mv -f "$depbase.Tpo" "$depbase.Po"; else rm -f "$depbase.Tpo"; exit 1; fi<br>/bin/sh ../../../libtool --tag=CXX --mode=link
 /opt/gcc/bin/g++&nbsp; -O3 -DNDEBUG -mfp-trap-mode=su -finline-functions -pthread&nbsp; -export-dynamic&nbsp;&nbsp; -o ompi_info&nbsp; components.o ompi_info.o output.o param.o version.o ../../../ompi/libmpi.la -lnsl -lutil&nbsp; -lm <br>libtool: link: /opt/gcc/bin/g++ -O3 -DNDEBUG -mfp-trap-mode=su -finline-functions -pthread -o .libs/ompi_info components.o ompi_info.o output.o param.o version.o -Wl,--export-dynamic&nbsp; ../../../ompi/.libs/libmpi.so -libverbs -lrt /home/lahaye/Software/openmpi-1.2.1/orte/.libs/libopen-rte.so -pthread /home/lahaye/Software/openmpi-1.2.1/opal/.libs/libopen-pal.so -ldl -lnsl -lutil -lm -Wl,-rpath -Wl,/opt/openmpi/lib<br>../../../ompi/.libs/libmpi.so: undefined reference to `opal_sys_timer_get_cycles'<br>collect2: ld returned 1 exit status<br>make[2]: *** [ompi_info] Error 1<br>make[2]: Leaving directory `/home/lahaye/Software/openmpi-1.2.1/ompi/tools/ompi_info'<br>make[1]: *** [all-recursive] Error 1<br>make[1]: Leaving directory
 `/home/lahaye/Software/openmpi-1.2.1/ompi'<br>make: *** [all-recursive] Error 1<br><br><br><br>Any idea why this goes wrong?<br><br>Once again, when I remove the "--enable-static" in the configure line, then<br>all goes well....<br>But I need the static libraries for compiling Blacs/ScaLapack.<br><br>Thanks,<br>Rob.<br><br><p>&#32;

      <hr size=1>Ahhh...imagining that irresistible "new car" smell?<br> Check out
<a href="http://us.rd.yahoo.com/evt=48245/*http://autos.yahoo.com/new_cars.html;_ylc=X3oDMTE1YW1jcXJ2BF9TAzk3MTA3MDc2BHNlYwNtYWlsdGFncwRzbGsDbmV3LWNhcnM-">new cars at Yahoo! Autos.</a>

