Hi,<br><br>Have you checked the .bashrc or /etc/bash.bashrc file on the machine. We have seen this problem before on both Debian and Ubuntu systems. If you find the following line:<br><br># If not running interactively, don&#39;t do anything<br>
[ -z &quot;$PS1&quot; ] &amp;&amp; return<br><br>It means that the remainder of the file is not processed (which may include setting up your PATH/LD_LIBRARY_PATH) if you are connecting via a non-interactive login. Since this command only works for non-interactive logins the user falsely gets the idea that the PATH/LD_LIBRARY_PATH when they log in over SSH.<br>
<br>We commented this line out and it worked for us, so just an idea.<br><br><br><br>Si Hammond<br><br>Performance Modelling and Analysis Team,<br>Department of Computer Science,<br>University of Warwick, UK<br><br><br><div>
<span class="gmail_quote">On 22/04/2008, <b class="gmail_sendername">Jeff Squyres</b> &lt;<a href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Make sure you&#39;re using the &quot;right&quot; mpirun.&nbsp;&nbsp;If you have both MPICH and<br> Open MPI installed, you need to install them into the different<br> directories.<br> <br> As for not finding the &quot;orted&quot; on the remote nodes, it simply means<br>
 that your PATH / LD_LIBRARY_PATH is not set properly on the remote<br> nodes.&nbsp;&nbsp;See:<br> <br> <a href="http://www.open-mpi.org/faq/?category=running#run-prereqs">http://www.open-mpi.org/faq/?category=running#run-prereqs</a><br>
 <a href="http://www.open-mpi.org/faq/?category=running#adding-ompi-to-path">http://www.open-mpi.org/faq/?category=running#adding-ompi-to-path</a><br> <a href="http://www.open-mpi.org/faq/?category=running#mpirun-prefix">http://www.open-mpi.org/faq/?category=running#mpirun-prefix</a><br>
 <br> A few notes about your command line syntax:<br> <br> - &quot;-np X&quot; specifies how many processes to launch (where X is an<br> integer).&nbsp;&nbsp;If you don&#39;t specify this, OMPI defaults to as many slots<br> are defined in your hostfile.<br>
 <br>&nbsp;&nbsp;&nbsp;&nbsp; mpirun -np 4 ....<br> <br> - &quot;--host LIST&quot;, where LIST is a comma-delimited list of hostnames to<br> launch on (*instead* of specifying a hostfile).<br> <br>&nbsp;&nbsp;&nbsp;&nbsp; mpirun --host host1,host2,host3,host4 ....<br>
 <br> - &quot;--hostfile FILENAME&quot;, where FILENAME is a list of a hostfile as<br> described in the FAQ.<br> <br>&nbsp;&nbsp;&nbsp;&nbsp; mpirun --hostfile my_hostfile.txt ...<br> <br> You can&#39;t mix and match these params, like your example:<br>
 <br><br>&nbsp;&nbsp;&nbsp;&nbsp; mpirun --host -np 2 node0,node1 /bin/hostname<br> <br> <br> <br> <br>On Apr 22, 2008, at 4:40 AM, <a href="mailto:gildo.rex@gmx.de">gildo.rex@gmx.de</a> wrote:<br> <br> &gt; Hi Jodi,<br> &gt;<br> &gt; thanks for the quick answer!<br>
 &gt;<br> &gt;&gt; Have you tried the command ompi_info?<br> &gt;&gt; What is its output?<br> &gt;<br> &gt; No, I haven&#39;t. I can try this evening, when I&#39;m back home from work.<br> &gt;<br> &gt;&gt;<br> &gt;&gt; Furthermore, the command you gave<br>
 &gt;&gt;&gt;&nbsp;&nbsp;mpirun -np 2 --hostfile /home/stephan/mpd.hosts<br> &gt;&gt; is incomplete. There is no executable.<br> &gt;<br> &gt; Sorry, it should correctly be<br> &gt;<br> &gt; mpirun -np 2 --hostfile /home/stephan/mpd.hosts /bin/hostname<br>
 &gt;<br> &gt; The output shows, that the program is only executed on the local<br> &gt; machine. This is the same on each of the machines.<br> &gt;<br> &gt;&gt;<br> &gt;&gt; Try to make sure wether your host file has the correct<br>
 &gt;&gt; format. If i remember correctly&nbsp;&nbsp;Open-MPI does not use<br> &gt;&gt; the same format for hostfiles as MPICH.<br> &gt;<br> &gt; Yes, thats true according to the documentation. There is a<br> &gt; possibility to define the number of slots and the max-number of<br>
 &gt; slots in OpenMPI, which I haven&#39;t seen in MPICH so far (at least not<br> &gt; within the hostfile).<br> &gt; But when I use a hostfile without a specification regarding the<br> &gt; slots, e.g.<br> &gt;<br> &gt; shell$ cat my-hosts<br>
 &gt; node0<br> &gt; node1<br> &gt;<br> &gt; (which is the same as in MPICH), it should interpret the default<br> &gt; values, i.e. slots=1 and max_slots=unlimited). That should work for<br> &gt; that simple test.<br> &gt;<br>
 &gt;&gt; See the FAQ for more info<br> &gt;&gt; <a href="http://www.open-mpi.org/faq/?category=running#mpirun-scheduling">http://www.open-mpi.org/faq/?category=running#mpirun-scheduling</a><br> &gt;<br> &gt; I also tried the way to specify the hosts in the command, e.g.<br>
 &gt;<br> &gt; mpirun --host -np 2 node0,node1 /bin/hostname<br> &gt;<br> &gt; but the result is the same. The program runs only on one host.<br> &gt;&gt;<br> &gt;&gt; If you don&#39;t use a hostfile, mpirun will start<br>
 &gt;&gt; all processes on the local machine.<br> &gt;<br> &gt; Yes, that&#39;s what it obviously does. It doesn&#39;t recognise the cluster<br> &gt; partner in each direction...<br> &gt;<br> &gt; Kind Regards<br> &gt;<br>
 &gt; Stephan<br> &gt;<br> &gt;&gt; On Tue, Apr 22, 2008 at 8:56 AM,&nbsp;&nbsp;&lt;<a href="mailto:gildo.rex@gmx.de">gildo.rex@gmx.de</a>&gt; wrote:<br> &gt;&gt;&gt; Dear all,<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; I wanted to compare MPICH and OpenMPI. MPICH works fine. So I<br>
 &gt;&gt;&gt; installed<br> &gt;&gt; OpenMPI the same way (configure, make, make install). The commands<br> &gt;&gt; are<br> &gt;&gt; found in the OpenMPI installation directory.<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; When I tried to run programs I was a little bit confused, that there<br>
 &gt;&gt; seems not to be a default hosts-file like in MPICH. I included it<br> &gt;&gt; in the<br> &gt;&gt; command with &quot;--hostfile&quot;.<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; When I now want to run my first test with<br>
 &gt;&gt;&gt;<br> &gt;&gt;&gt;&nbsp;&nbsp;mpirun -np 2 --hostfile /home/stephan/mpd.hosts<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; I get the error-message:<br> &gt;&gt;&gt;<br> &gt;&gt;&gt;&nbsp;&nbsp;orted: command not found<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; The &quot;orted&quot;-executable resides as well as the &quot;mpirun&quot;- and<br>
 &gt;&gt; &quot;mpiexec&quot;-executables in the directory /home/stephan/openmpi-<br> &gt;&gt; install. &quot;orted&quot; is also<br> &gt;&gt; found by &quot;which orted&quot;.<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; What might be the problem? How does &quot;orted&quot; work? I&#39;m not conscious<br>
 &gt;&gt; about anything equivalent in MPICH...<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; Thanks in advance for your help!<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; Kind Regards<br> &gt;&gt;&gt;<br> &gt;&gt;&gt; Stephan<br> &gt;<br> &gt; --<br>
 &gt; Psssst! Schon vom neuen GMX MultiMessenger gehört?<br> &gt; Der kann`s mit allen: <a href="http://www.gmx.net/de/go/multimessenger">http://www.gmx.net/de/go/multimessenger</a><br> &gt; _______________________________________________<br>
 &gt; users mailing list<br> &gt; <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br> &gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
 <br> <br> <br>--<br> Jeff Squyres<br> Cisco Systems<br> <br><br> <br> _______________________________________________<br> users mailing list<br> <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br> <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
 </blockquote></div><br>

