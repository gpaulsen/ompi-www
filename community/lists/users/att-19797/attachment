<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii"><meta name=Generator content="Microsoft Word 14 (filtered medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.85pt 70.85pt 2.0cm 70.85pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext="edit" spidmax="1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext="edit">
<o:idmap v:ext="edit" data="1" />
</o:shapelayout></xml><![endif]--></head><body lang=EN-US link=blue vlink=purple><div class=WordSection1><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Hi,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>You should consult the CPMD manual on how to run the program in parallel &#8211; this doesn&#8217;t look like a problem in Open MPI. The error comes from MPI_ABORT being called by rank 0. As rank 0 process is the one that reads all the input data and prepares the computation I would say that the most probable reason for the crash is inconsistency in the program input. It could be that some of the parameters specified there are not compatible with running the program with 4 processes. It can also happen (at least with some DFT codes) if you try to continue a previous simulation that was performed on different number of processes. Quantum Espresso also uses similar technique to abort but at least it prints a cryptic error message before the crash :)<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Hope that helps!<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Kind regards,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Hristo<o:p></o:p></span></p><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>--<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Hristo Iliev, Ph.D. -- High Performance Computing<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>RWTH Aachen University, Center for Computing and Communication<o:p></o:p></span></p><p class=MsoNormal><span lang=DE style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Rechen- und Kommunikationszentrum der RWTH Aachen<o:p></o:p></span></p><p class=MsoNormal><span lang=DE style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Seffenter Weg 23,&nbsp; D 52074&nbsp; Aachen (Germany)<o:p></o:p></span></p><p class=MsoNormal><span lang=DE style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Tel: +49 241 80 24367 -- </span><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Fax/UMS: +49 241 80 6</span><span lang=DE style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>24367<o:p></o:p></span></p></div><p class=MsoNormal><o:p>&nbsp;</o:p></p><div style='border:none;border-left:solid blue 1.5pt;padding:0cm 0cm 0cm 4.0pt'><div><div style='border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0cm 0cm 0cm'><p class=MsoNormal><b><span style='font-size:10.0pt;font-family:"Tahoma","sans-serif"'>From:</span></b><span style='font-size:10.0pt;font-family:"Tahoma","sans-serif"'> users-bounces@open-mpi.org [mailto:users-bounces@open-mpi.org] <b>On Behalf Of </b>Abhra Paul<br><b>Sent:</b> Thursday, July 19, 2012 1:35 PM<br><b>To:</b> users@open-mpi.org<br><b>Subject:</b> [OMPI users] mpirun command gives ERROR<o:p></o:p></span></p></div></div><p class=MsoNormal><o:p>&nbsp;</o:p></p><div><div><p class=MsoNormal style='background:white'><span style='color:black'>Respected developers and users<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'><o:p>&nbsp;</o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>I am trying to run a parallel program CPMD with the command &quot; /usr/local/bin/mpirun -np 4 ./cpmd.x 1-h2-wave.inp &gt; 1-h2-wave.out &amp;&quot; , it <o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>is giving the following error:<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>======================================================================================================<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'><o:p>&nbsp;</o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>[testcpmd@slater CPMD_3_15_3]$ /usr/local/bin/mpirun -np 4 ./cpmd.x 1-h2-wave.inp &gt; 1-h2-wave.out &amp;<br>[1] 1769<br>[testcpmd@slater CPMD_3_15_3]$ --------------------------------------------------------------------------<br>MPI_ABORT was invoked on rank 0 in communicator MPI_COMM_WORLD <br>with errorcode 999.<br><br>NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.<br>You may or may not see output from other processes, depending on<br>exactly when Open MPI kills them.<br>--------------------------------------------------------------------------<br>--------------------------------------------------------------------------<br>mpirun has exited due to process rank 0 with PID 1770 on<br>node slater.rcamos.iacs exiting improperly. There are two reasons this could occur:<br><br>1. this process did not call &quot;init&quot; before exiting, but others in<br>the job did. This can cause a job to hang indefinitely while it waits<br>for all processes to call &quot;init&quot;. By rule, if one process calls &quot;init&quot;,<br>then ALL processes must call &quot;init&quot; prior to termination.<br><br>2. this process called &quot;init&quot;, but exited without calling &quot;finalize&quot;.<br>By rule, all processes that call &quot;init&quot; MUST call &quot;finalize&quot; prior to<br>exiting or it will be considered an &quot;abnormal termination&quot;<br><br>This may have caused other processes in the application to be<br>terminated by signals sent by mpirun (as reported here).<br>--------------------------------------------------------------------------<br><br>[1]+&nbsp; Exit 231&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/local/bin/mpirun -np 4 ./cpmd.x 1-h2-wave.inp &gt; 1-h2-wave.out<br>======================================================================================================<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>I am unable to find out the reason of that error. Please help. My Open-MPI version is 1.6.<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'><o:p>&nbsp;</o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>With regards<o:p></o:p></span></p></div><div><p class=MsoNormal style='background:white'><span style='color:black'>Abhra Paul<o:p></o:p></span></p></div></div></div></div></body></html>
