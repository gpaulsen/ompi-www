<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hi Vipin<div><br></div><div>I have added support for these features to the OMPI trunk repository. They are only accessible via MPI_Comm_spawn or MPI_Comm_spawn_multiple, specified as MPI Info keys "add-host" and "add-hostfile". Check the man pages for those functions to see how they are used.</div><div><br></div><div>Quick summary: I add the hosts found in any add-host and add-hostfile specifications to the list of hosts known to mpirun, and then use the provided hosts to constrain the launch of the specified apps. So spawning an app of "foo" with an info key of "add-host mike" will result in foo being launched on mike, without mpirun having previous&nbsp;knowledge&nbsp;of&nbsp;"mike".</div><div><br></div><div>You'll have to wait to try it, though, until another problem in comm_spawn on the trunk gets fixed - hopefully, real soon (someone is working on it).</div><div><br></div><div>HTH</div><div>Ralph</div><div><br><div><div>On Jul 2, 2009, at 1:28 AM, vipin kumar wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">Hi Ralph,<br><br>&nbsp;To add few more points to my queries, as you said earlier "addhost" and "addhostfile" features will come soon. So can you please tell how we are going to use those features, will there be any API for that to calll from inside the program or we have to execute command to use those features.<br> <br>Thanks,<br><br>Regards,<br><div class="gmail_quote">On Thu, Jul 2, 2009 at 12:46 PM, vipin kumar <span dir="ltr">&lt;<a href="mailto:vipinkumar41@gmail.com">vipinkumar41@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"> Hi Ralph,<br><br>I am thankful to your reply regarding the matter, however to carry forward with my activities it would be of great help if I can know where OpenMpi/mpirun holds the contents of "hostfile" so that I can dynamically add/alter the values till such a feature is officially included in OpenMpi in the form of "addhost" and "addhostfile".<br> <br>Thanks.<br><br>Regards,<div><div></div><div class="h5"><br><br><div class="gmail_quote">On Thu, Jul 2, 2009 at 12:23 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br> <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"> <div>At the moment, the answer is "no". :-/<div><br></div><div>However, we do have a "ticket" in our plans to add a "addhost" and "addhostfile" capability to the system. I haven't implemented it yet because of other priorities and the fact that nobody has asked for it before now.</div> <div><br></div><div>Well...actually, people -did- ask for it a long time ago, but not for quite awhile now. ;-)</div><div><br></div><div>Anyway, I can implement those features pretty easily. Could get to it in the next few days - otherwise, it will have to wait another week as I will be out.</div> <div><br></div><div>Either way, though, it would only be in the OMPI devel trunk until the next feature series (1.5) has its first release. Haven't set the date for that, though it will likely be this summer.</div><div> <br></div><div>Ralph</div><div><br><div><div><div></div><div><div>On Jul 2, 2009, at 12:45 AM, vipin kumar wrote:</div><br></div></div><blockquote type="cite"><div><div></div><div>Hi all,<br><br>I got the solution but its not flexible. I have to provide two host files "chfile" and "dhfile". Contents of host files are as follows<br> <br>$ cat chfile<br>#This file contains all slaves as well as master node<br> localhost<br>200.40.70.193<br><br>$cat dhfile<br>#This file contains all slave nodes<br>200.40.70.193<br><br>and the command line I am using is <br> <br>$ mpirun -np 1 -hostfile chfile launcher -hostfile dhfile<br><br>but this is not what I want.<br> &nbsp;&nbsp; I don't know in advance which and how many remote nodes can be there. Dynamically nodes may be added and requested to serve the master. So I am assuming that I have only local machine where I will invoke launcher program. When one remote node gets added launcher program will launch one "slave" in local machine and one "rslave" in remote machine.<br> <br>Is there any other way to do this.<br><br>Thanks.<br><br>Regards,<br>&nbsp; <br><div class="gmail_quote">On Mon, Jun 29, 2009 at 10:49 AM, vipin kumar <span dir="ltr">&lt;<a href="mailto:vipinkumar41@gmail.com" target="_blank">vipinkumar41@gmail.com</a>&gt;</span> wrote:<br>  <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">Hi all,<br><br>&nbsp;I am trying to spawn dynamically processes in remote as well as local machine using MPI::Intracomm::Spawn_multiple. I am using MPI::Info object to tell where to launch processes using "host" key and "&lt;ip_address&gt;" as its value but but I am getting the error&nbsp; <br>  <br clear="all">--------------------------------------------------------------------------<br>There are no allocated resources for the application <br>&nbsp; slaveprocess<br>that match the requested mapping:<br>&nbsp; <br><br>Verify that you have mapped the allocated resources properly using the <br>  --host or --hostfile specification.<br>--------------------------------------------------------------------------<br><br>I tried with "&lt;hostname&gt;" too.<br>but its not working.<br><br>It works fine if I give the value "localhost" to "host:" key. It launches successfully processes in local machine.<br>  <br>any help will be greatly appreciated.<br><br>Regards,<br><font color="#888888">-- <br>Vipin K.<br>Research Engineer,<br>C-Dot, Bangalore, India<br> </font></blockquote></div><br><br clear="all"><br>-- <br>Vipin K.<br> Research Engineer,<br>C-DOTB, India<br></div></div> _______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></blockquote> </div><br></div></div><br>_______________________________________________<br> users mailing list<br> <a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br> <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></div><br><br clear="all"><br>-- <br>Vipin K.<br>Research Engineer,<br>C-DOTB, India<br> </div></div></blockquote></div><br><br clear="all"><br>-- <br>Vipin K.<br>Research Engineer,<br>C-DOTB, India<br> _______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></body></html>
