<html><body><div style="color:#000; background-color:#fff; font-family:verdana, helvetica, sans-serif;font-size:10pt">Hello Jeff and Hristo,<br><br>Now I am completely confused:<br><br>So, let's say, the complete reception requires 8192 bytes. And, I have:<br><br><span id="yiv1301008748yui_3_2_0_18_1345454772473352" style="color:rgb(0, 0, 255);">MPI_Irecv(</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0,
 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (void*)this-&gt;receivebuffer,/* the receive buffer */</span><br style="color:rgb(0, 0, 255);"><span id="yiv1301008748yui_3_2_0_18_1345454772473355" style="color:rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this-&gt;receive_packetsize,&nbsp; /* 80 */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI_BYTE,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* The data type expected */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0,
 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this-&gt;transmittingnode,&nbsp;&nbsp;&nbsp; /* The node from which to receive */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this-&gt;uniquetag,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Tag */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MPI_COMM_WORLD,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* Communicator */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0,
 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;Irecv_request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* request handle */</span><br style="color:rgb(0, 0, 255);"><span style="color:rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );</span><br><div><span><br></span></div><div><br></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;">That means, the the MPI_Test will tell me that the reception is complete when I have received the first 80 bytes. Correct?</div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;"><br></div><div style="color:
 rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;">Next, let[s say that I have a receive buffer with a capacity of 160 bytes, then, will overflow error occur here? Even if I have decided to receive a large payload in chunks of 80 bytes?</div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;"><br></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;">I am sorry, the manual and the API reference was too vague for me.</div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;"><br></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif;
 background-color: transparent; font-style: normal;">Thanks a lot</div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;"><br></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: verdana,helvetica,sans-serif; background-color: transparent; font-style: normal;">Devendra<br></div>  <div style="font-family: verdana, helvetica, sans-serif; font-size: 10pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> "Iliev, Hristo" &lt;iliev@rz.rwth-aachen.de&gt;<br> <b><span style="font-weight: bold;">To:</span></b> Open MPI Users &lt;users@open-mpi.org&gt; <br><b><span style="font-weight: bold;">Cc:</span></b> devendra rai &lt;rai.devendra@yahoo.co.uk&gt; <br> <b><span style="font-weight:
 bold;">Sent:</span></b> Tuesday, 21 August 2012, 9:48<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] MPI_Irecv: Confusion with &lt;&lt;int count&gt;&gt; inputy parameter<br> </font> </div> <br>Jeff,<br><br>&gt;&gt; Or is it the number of elements that are expected to be received, and hence MPI_Test will tell me that the receive is not complete untill "count" number of elements have not been received?<br>&gt; <br>&gt; Yes.<br><br>Answering "Yes" this question might further the confusion there. The "count" argument specifies the *capacity* of the receive buffer and the receive operation (blocking or not) will complete successfully for any matching message with size up to "count", even for an empty message with 0 elements, and will produce an overflow error if the received message was longer and data truncation has to occur.<br><br>On 20.08.2012, at 16:32, Jeff Squyres &lt;<a ymailto="mailto:jsquyres@cisco.com"
 href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt; wrote:<br><br>&gt; On Aug 20, 2012, at 5:51 AM, devendra rai wrote:<br>&gt; <br>&gt;&gt; Is it the number of elements that have been received *thus far* in the buffer?<br>&gt; <br>&gt; No.<br>&gt; <br>&gt;&gt; Or is it the number of elements that are expected to be received, and hence MPI_Test will tell me that the receive is not complete untill "count" number of elements have not been received?<br>&gt; <br>&gt; Yes.<br>&gt; <br>&gt;&gt; Here's the reason why I have a problem (and I think I may be completely stupid here, I'd appreciate your patience):<br>&gt; [snip]<br>&gt;&gt; Does anyone see what could be going wrong?<br>&gt; <br>&gt; Double check that the (sender_rank, tag, communicator) tuple that you issued in the MPI_Irecv matches the (rank, tag, communicator) tuple from the sender (tag and communicator are arguments on the sending side, and rank is the rank of the sender in that
 communicator).<br>&gt; <br>&gt; When receives block like this without completing like this, it usually means a mismatch between the tuples.<br>&gt; <br>&gt; -- <br>&gt; Jeff Squyres<br>&gt; <a ymailto="mailto:jsquyres@cisco.com" href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a><br>&gt; For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/" target="_blank">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; <a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br><br>--<br>Hristo Iliev, Ph.D. -- High Performance Computing,<br>RWTH Aachen University, Center for Computing and Communication<br>Seffenter Weg
 23,&nbsp; D 52074&nbsp; Aachen (Germany)<br>Tel: +49 241 80 24367 -- Fax/UMS: +49 241 80 624367<br><br><br><br><br> </div> </div>  </div></body></html>
