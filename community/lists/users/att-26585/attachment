<div dir="ltr"><div><div>I have a nasty bug in my software and can make it crash by stopping it with ctrl-Z, waiting many seconds, and then saying &quot;fg&quot;, for continuing the run. At least it crashes when I start it on 3 workers with 24 instances each plus a master. On 2 workers with 24 instances each it doesn&#39;t crash.<br><br></div>I decided to upgrade openmpi from 1.6.5 to 1.8.4 for a test, to see if it changes anything. But 1.8.4 behaves completely different from 1.6.5, at least when I change the number of instances or the number of workers. If I start it with 3 workers plus a master, I get the error message<br><br><br>Host key verification failed.<br>--------------------------------------------------------------------------<br>ORTE was unable to reliably start one or more daemons.<br><br><br></div><div>If I start with 3 workers but no separate master, or 2 workers and a separate master, the software seems to run fine, but after some time I get the warning (with no further consequences)<br></div><div><br><br>[warn] opal_libevent2021_event_base_loop: reentrant invocation.Â  Only one event_base_loop can run on each event_base at once.<br><br><br></div><div>If I start completely differenc command line options (of my software) and a GUI I always get (even if I only start just a single worker on the master, i.e. no separate workers)<br></div><div><br><br>ssh: Could not resolve hostname xxx.yyy.zzz: Name or service not known<br>--------------------------------------------------------------------------<br>ORTE was unable to reliably start one or more daemons.<br><br><br></div><div>This last message certainly contains some truth, because even &quot;dig xxx.yyy.zzz&quot; cannot resolve this hostname (not even on the master itself), and xxx.yyy.zzz is indeed the hostname of the master.<br><br><br></div><div>But the differences don&#39;t stop here. If I press ctrl-Z, the mesage &quot;^Zorterun: Forwarding signal 20 to job&quot; appears, and the shell freezes until I press crtl-C. I work around this now by sending the master a SIGSTOP signal via &quot;kill -SIGSTOP 12345&quot;, and after many seconds a &quot;kill -SIGCONT 12345&quot;. Still, the behavior of 1.8.4 is completely different from 1.6.5 here too.<br><br></div><div>Another difference is that 1.8.4 often complains that I have requested too many workers (or that some libnuma would be missing), which I fix by adding --bind-to socket:overload-allowed. <br><br><br></div><div>I have at least one question: Is 1.8.4 really so different from 1.6.5, or is it more probably that I made some mistake while building 1.8.4, for example using wrong configure options, maybe because these changed since 1.6.5, and I haven&#39;t bothered to read the documentation and just continued to use my following (old from 1.6.5) configure options:<br><br>--enable-mpi-f77=no --enable-mpi-f90=no --with-threads=posix --enable-mpi-thread-multiple --disable-vt<br></div></div>

