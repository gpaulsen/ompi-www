<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Meantime, I’ve created a patch that should address this problem:<div class=""><br class=""></div><div class=""><a href="https://github.com/open-mpi/ompi-release/pull/227" class="">https://github.com/open-mpi/ompi-release/pull/227</a></div><div class=""><br class=""></div><div class="">If you can and would like, please see if it resolves this for you.</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Apr 7, 2015, at 9:29 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><meta http-equiv="Content-Type" content="text/html charset=utf-8" class=""><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Hmmm…yeah, we’ve been discussing this point. It’s a bit of a mixed bag. We hit problems where people don’t get their paths set correctly on remote machines, and then we hang because of bad connections between incompatible versions. Same time, we hit these situations.<div class=""><br class=""></div><div class="">We’re getting ready to release 1.8.5 - let me discuss with the team about what we can/should do to resolve these problems.</div><div class=""><br class=""></div><div class=""><br class=""><div class=""><blockquote type="cite" class=""><div class="">On Apr 7, 2015, at 8:43 PM, Alan Wild &lt;<a href="mailto:alan@madllama.net" class="">alan@madllama.net</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">I know this isn't "recommend", but a vendor recently gave me an executable compiled openmpi-1.8.3 and I happened to have recently completed a build of 1.8.4 (but didn't have 1.8.3 sitting around and the vendor refuses to provide his build).<div class=""><br class=""></div><div class="">Since these releases are so close they should be ABI compatible so I thought I would see what happens...</div><div class=""><br class=""></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px" class=""><div class=""><div class="">[arwild1@hplcslsp2 ~]$ mpirun -n 2 -H localhost vendor_app_mpi</div></div><div class=""><div class="">[hplcslsp2:11394] [[56032,0],0] tcp_peer_recv_connect_ack: received different version from [[56032,1],0]: 1.8.3 instead of 1.8.4</div></div><div class=""><div class="">[hplcslsp2:11394] [[56032,0],0] tcp_peer_recv_connect_ack: received different version from [[56032,1],1]: 1.8.3 instead of 1.8.4</div></div></blockquote><div class=""><br class=""></div><div class="">and then everything hangs.&nbsp; I can clearly see the output coming from&nbsp;</div><div class=""><br class=""></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px" class=""><div class="">./orte/mca/oob/tcp/oob_tcp_connection.c</div></blockquote><div class=""><br class=""></div><div class="">and where it returns</div><div class=""><br class=""></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px" class=""><div class="">return ORTE_ERR_CONNECTION_REFUSED;</div></blockquote><div class=""><br class=""></div><div class=""><br class=""></div><div class="">So it looks like I'm going to have to at least build 1.8.3, but is there any way to work around this given we are dealing with builds that are that close?&nbsp; I'm really not interested in "rolling back" to 1.8.3 or providing both releases on my system. &nbsp;</div><div class=""><br class=""></div><div class="">(yes, "right answer" is to get the vendor to provide his build... long stoy)</div><div class=""><br class=""></div><div class="">-Alan</div><div class=""><br class=""></div><div class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><a href="mailto:alan@madllama.net" class="">alan@madllama.net</a> <a href="http://humbleville.blogspot.com/" class="">http://humbleville.blogspot.com</a></div>
</div></div>
_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br class="">Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2015/04/26645.php" class="">http://www.open-mpi.org/community/lists/users/2015/04/26645.php</a></div></blockquote></div><br class=""></div></div></div></blockquote></div><br class=""></div></body></html>
