<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:p="urn:schemas-microsoft-com:office:powerpoint" xmlns:a="urn:schemas-microsoft-com:office:access" xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:s="uuid:BDC6E3F0-6DA3-11d1-A2A3-00AA00C14882" xmlns:rs="urn:schemas-microsoft-com:rowset" xmlns:z="#RowsetSchema" xmlns:b="urn:schemas-microsoft-com:office:publisher" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:c="urn:schemas-microsoft-com:office:component:spreadsheet" xmlns:odc="urn:schemas-microsoft-com:office:odc" xmlns:oa="urn:schemas-microsoft-com:office:activation" xmlns:html="http://www.w3.org/TR/REC-html40" xmlns:q="http://schemas.xmlsoap.org/soap/envelope/" xmlns:rtc="http://microsoft.com/officenet/conferencing" xmlns:D="DAV:" xmlns:Repl="http://schemas.microsoft.com/repl/" xmlns:mt="http://schemas.microsoft.com/sharepoint/soap/meetings/" xmlns:x2="http://schemas.microsoft.com/office/excel/2003/xml" xmlns:ppda="http://www.passport.com/NameSpace.xsd" xmlns:ois="http://schemas.microsoft.com/sharepoint/soap/ois/" xmlns:dir="http://schemas.microsoft.com/sharepoint/soap/directory/" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:dsp="http://schemas.microsoft.com/sharepoint/dsp" xmlns:udc="http://schemas.microsoft.com/data/udc" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:sub="http://schemas.microsoft.com/sharepoint/soap/2002/1/alerts/" xmlns:ec="http://www.w3.org/2001/04/xmlenc#" xmlns:sp="http://schemas.microsoft.com/sharepoint/" xmlns:sps="http://schemas.microsoft.com/sharepoint/soap/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:udcs="http://schemas.microsoft.com/data/udc/soap" xmlns:udcxf="http://schemas.microsoft.com/data/udc/xmlfile" xmlns:udcp2p="http://schemas.microsoft.com/data/udc/parttopart" xmlns:wf="http://schemas.microsoft.com/sharepoint/soap/workflow/" xmlns:dsss="http://schemas.microsoft.com/office/2006/digsig-setup" xmlns:dssi="http://schemas.microsoft.com/office/2006/digsig" xmlns:mdssi="http://schemas.openxmlformats.org/package/2006/digital-signature" xmlns:mver="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns:mrels="http://schemas.openxmlformats.org/package/2006/relationships" xmlns:spwp="http://microsoft.com/sharepoint/webpartpages" xmlns:ex12t="http://schemas.microsoft.com/exchange/services/2006/types" xmlns:ex12m="http://schemas.microsoft.com/exchange/services/2006/messages" xmlns:pptsl="http://schemas.microsoft.com/sharepoint/soap/SlideLibrary/" xmlns:spsl="http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService" xmlns:Z="urn:schemas-microsoft-com:" xmlns:st="&#1;" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type content="text/html; charset=us-ascii"><meta name=Generator content="Microsoft Word 12 (filtered medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{mso-style-priority:99;
	mso-style-link:"Plain Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:Consolas;}
span.PlainTextChar
	{mso-style-name:"Plain Text Char";
	mso-style-priority:99;
	mso-style-link:"Plain Text";
	font-family:Consolas;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext="edit" spidmax="1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext="edit">
<o:idmap v:ext="edit" data="1" />
</o:shapelayout></xml><![endif]--></head><body lang=EN-US link=blue vlink=purple><div class=WordSection1><p class=MsoPlainText>Actually I can download OpenMPI 1.5.4, 1.4.4rc3 or 1.4.3 - and ALL of them build just fine.<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Apparently what isn't working is the version of 1.4.3 that I have downloaded and copied from place to place, i.e. timestamps on files may have changed (otherwise the files are the same).<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>It seems to be a configure behavior, but I don't understand enough to figure it out.&nbsp; Perhaps you can advise me.<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Key differences that I noted were:<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>(1) in config.log, the configure command that gets rerun appears to add some arguments in the bad build:<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Bad build includes the underlined 3 options at the end below: <o:p></o:p></p><p class=MsoPlainText>&nbsp;&nbsp;$ ./configure --prefix=/release/cfd/openmpi-pgi --without-tm --without-sge --without-lsf --without-psm --without-portals --without-gm --without-elan --without-slurm --without-loadleveler --enable-mpirun-prefix-by-default --enable-contrib-no-build=vt --enable-mca-no-build=maffinity --disable-per-user-config-files --disable-io-romio --enable-static --disable-shared --with-wrapper-cflags=-Msignextend --with-wrapper-cxxflags=-Msignextend CXX=/appserv/pgi/linux86-64/10.9/bin/pgCC CC=/appserv/pgi/linux86-64/10.9/bin/pgcc CFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend CXXFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend F77=/appserv/pgi/linux86-64/10.9/bin/pgf95 FFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical FC=/appserv/pgi/linux86-64/10.9/bin/pgf95 FCFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical LDFLAGS= -Bstatic_pgi <b><u>--enable-ltdl-convenience --no-create --no-recursion<o:p></o:p></u></b></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Good build:<o:p></o:p></p><p class=MsoPlainText>&nbsp; $ ./configure --prefix=/release/cfd/openmpi-pgi --without-tm --without-sge --without-lsf --without-psm --without-portals --without-gm --without-elan --without-slurm --without-loadleveler --enable-mpirun-prefix-by-default --enable-contrib-no-build=vt --enable-mca-no-build=maffinity --disable-per-user-config-files --disable-io-romio --enable-static --disable-shared --with-wrapper-cflags=-Msignextend --with-wrapper-cxxflags=-Msignextend CXX=/appserv/pgi/linux86-64/10.9/bin/pgCC CC=/appserv/pgi/linux86-64/10.9/bin/pgcc CFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend CXXFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend F77=/appserv/pgi/linux86-64/10.9/bin/pgf95 FFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical FC=/appserv/pgi/linux86-64/10.9/bin/pgf95 FCFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical LDFLAGS= -Bstatic_pgi<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>(2) in configure itself, the version number is missing in the bad build:<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Bad build:<o:p></o:p></p><p class=MsoPlainText>#! /bin/sh<o:p></o:p></p><p class=MsoPlainText># Guess values for system-dependent variables and create Makefiles.<o:p></o:p></p><p class=MsoPlainText># Generated by GNU Autoconf 2.63 for Open MPI .<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Good build:<o:p></o:p></p><p class=MsoPlainText>#! /bin/sh<o:p></o:p></p><p class=MsoPlainText># Guess values for system-dependent variables and create Makefiles.<o:p></o:p></p><p class=MsoPlainText># Generated by GNU Autoconf 2.63 for Open MPI 1.4.3.<o:p></o:p></p><p class=MsoPlainText>#<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>(3) also in configure, the good build has picked up availability of pgfortran but the bad one does not:<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>- Bad build: &nbsp;for ac_prog in g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77 xlf90 f90 pgf90 pghpf epcf90 gfortran g95 xlf95 f95 fort ifort ifc efc pgf95 lf95 ftn<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>- Good build: for ac_prog in g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77 xlf90 f90 pgf90 pghpf epcf90 gfortran g95 xlf95 f95 fort ifort ifc efc <b><u>pgfortran</u></b> pgf95 lf95 ftn<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>If you have any idea what could cause these differences, I&#8217;m all ears&#8230;<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Thanks<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Ed<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>-----Original Message-----<br>From: users-bounces@open-mpi.org [mailto:users-bounces@open-mpi.org] On Behalf Of Jeff Squyres<br>Sent: Saturday, September 24, 2011 8:23 AM<br>To: Open MPI Users<br>Subject: EXTERNAL: Re: [OMPI users] Trouble compiling 1.4.3 with PGI 10.9 compilers<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>Just out of curiosity, does Open MPI 1.5.4 build properly?<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>We've seen problems with the PGI compiler suite before -- it *does* look like a problem with libtool-building issues; e.g., a switch is too old or is missing or something.&nbsp; Meaning: it looks like PGI thinks it's trying to build an application, not a library.&nbsp; This is usually bit rot in libtool (i.e., PGI may have changed their options, but we're using an older Libtool in the 1.4.x series that doesn't know about this option).<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>I do note that we fixed some libtool issues in the 1.4.4 tarball; could you try the 1.4.4rc and see if that fixes the issue?&nbsp; If not, we might have missed some patches to bring over to the v1.4 branch.<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>&nbsp;&nbsp;&nbsp; http://www.open-mpi.org/software/ompi/v1.4/<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>On Sep 20, 2011, at 1:16 PM, Blosch, Edwin L wrote:<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>&gt; I'm having trouble building 1.4.3 using PGI 10.9.&nbsp; I searched the list archives briefly but I didn't stumble across anything that looked like the same problem, so I thought I'd ask if an expert might recognize the nature of the problem here.<o:p></o:p></p><p class=MsoPlainText>&gt; <o:p></o:p></p><p class=MsoPlainText>&gt; The configure command:<o:p></o:p></p><p class=MsoPlainText>&gt; <o:p></o:p></p><p class=MsoPlainText>&gt; ./configure --prefix=/release/openmpi-pgi --without-tm --without-sge --enable-mpirun-prefix-by-default --enable-contrib-no-build=vt --enable-mca-no-build=maffinity --disable-per-user-config-files --disable-io-romio --with-mpi-f90-size=small --enable-static --disable-shared --with-wrapper-cflags=-Msignextend --with-wrapper-cxxflags=-Msignextend CXX=/appserv/pgi/linux86-64/10.9/bin/pgCC CC=/appserv/pgi/linux86-64/10.9/bin/pgcc 'CFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend' 'CXXFLAGS=&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend' F77=/appserv/pgi/linux86-64/10.9/bin/pgf95 'FFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical' FC=/appserv/pgi/linux86-64/10.9/bin/pgf95 'FCFLAGS=-D_GNU_SOURCE&nbsp; -O2 -Mcache_align -Minfo -Munixlogical' 'LDFLAGS= -Bstatic_pgi'<o:p></o:p></p><p class=MsoPlainText>&gt; <o:p></o:p></p><p class=MsoPlainText>&gt; The place where the build eventually dies:<o:p></o:p></p><p class=MsoPlainText>&gt; <o:p></o:p></p><p class=MsoPlainText>&gt; /bin/sh ../../../libtool --tag=CXX&nbsp;&nbsp; --mode=link /appserv/pgi/linux86-64/10.9/bin/pgCC&nbsp; -DNDEBUG&nbsp;&nbsp; -O2 -Mcache_align -Minfo -Msignextend -Msignextend&nbsp; -version-info 0:1:0 -export-dynamic&nbsp; -Bstatic_pgi&nbsp; -o libmpi_cxx.la -rpath /release/cfd/openmpi-pgi/lib mpicxx.lo intercepts.lo comm.lo datatype.lo win.lo file.lo ../../../ompi/libmpi.la -lnsl -lutil&nbsp; -lpthread<o:p></o:p></p><p class=MsoPlainText>&gt; libtool: link: tpldir=Template.dir<o:p></o:p></p><p class=MsoPlainText>&gt; libtool: link:&nbsp; rm -rf Template.dir<o:p></o:p></p><p class=MsoPlainText>&gt; libtool: link:&nbsp; /appserv/pgi/linux86-64/10.9/bin/pgCC --prelink_objects --instantiation_dir Template.dir&nbsp;&nbsp; mpicxx.o intercepts.o comm.o datatype.o win.o file.o<o:p></o:p></p><p class=MsoPlainText>&gt; pgCC-Warning-prelink_objects switch is deprecated<o:p></o:p></p><p class=MsoPlainText>&gt; pgCC-Warning-instantiation_dir switch is deprecated<o:p></o:p></p><p class=MsoPlainText>&gt; /usr/lib64/crt1.o: In function `_start':<o:p></o:p></p><p class=MsoPlainText>&gt; /usr/src/packages/BUILD/glibc-2.9/csu/../sysdeps/x86_64/elf/start.S:109: undefined reference to `main'<o:p></o:p></p><p class=MsoPlainText>&gt; mpicxx.o: In function `__sti___9_mpicxx_cc_a6befbec':<o:p></o:p></p><p class=MsoPlainText>&gt; (.text+0x49): undefined reference to `ompi_mpi_errors_are_fatal'<o:p></o:p></p><p class=MsoPlainText>&gt; mpicxx.o: In function `__sti___9_mpicxx_cc_a6befbec':<o:p></o:p></p><p class=MsoPlainText>&gt; (.text+0x62): undefined reference to `ompi_mpi_errors_return'<o:p></o:p></p><p class=MsoPlainText>&gt; mpicxx.o: In function `__sti___9_mpicxx_cc_a6befbec':<o:p></o:p></p><p class=MsoPlainText>&gt; (.text+0x7b): undefined reference to `ompi_mpi_errors_throw_exceptions'<o:p></o:p></p><p class=MsoPlainText>&gt; _______________________________________________<o:p></o:p></p><p class=MsoPlainText>&gt; users mailing list<o:p></o:p></p><p class=MsoPlainText>&gt; users@open-mpi.org<o:p></o:p></p><p class=MsoPlainText>&gt; http://www.open-mpi.org/mailman/listinfo.cgi/users<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>-- <o:p></o:p></p><p class=MsoPlainText>Jeff Squyres<o:p></o:p></p><p class=MsoPlainText>jsquyres@cisco.com<o:p></o:p></p><p class=MsoPlainText>For corporate legal information go to:<o:p></o:p></p><p class=MsoPlainText>http://www.cisco.com/web/about/doing_business/legal/cri/<o:p></o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText><o:p>&nbsp;</o:p></p><p class=MsoPlainText>_______________________________________________<o:p></o:p></p><p class=MsoPlainText>users mailing list<o:p></o:p></p><p class=MsoPlainText>users@open-mpi.org<o:p></o:p></p><p class=MsoPlainText>http://www.open-mpi.org/mailman/listinfo.cgi/users<o:p></o:p></p></div></body></html>
