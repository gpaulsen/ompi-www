<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; ">OpenMPI will do this on its own.  As shared memory in its mind is preferable to tcp.  We can measure the difference here on the same kind of system (Sun x4600).   If you want to force omitting tcp (should not be needed)  run like this:<DIV><BR class="khtml-block-placeholder"></DIV><DIV>mpirun --mca btl ^tcp -np 8 ./a.out<BR><DIV> <SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Brock Palen</DIV><DIV>Center for Advanced Computing</DIV><DIV><A href="mailto:brockp@umich.edu">brockp@umich.edu</A></DIV><DIV>(734)936-1985</DIV><BR class="Apple-interchange-newline"></SPAN></SPAN> </DIV><BR><DIV><DIV>On Apr 25, 2007, at 12:54 PM, Borenstein, Bernard S wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite"><P><FONT size="2" face="Arial">We just got a 8 cpu machine with 64GB of memory.  I've been told it would be advantageous to run MPI codes with shared memory and not use TCP sockets </FONT></P><P><FONT size="2" face="Arial">for this new machine.</FONT> </P><P><FONT size="2" face="Arial">How do I do this with OPENMPI.</FONT> </P><P><FONT size="2" face="Arial">Thanx,</FONT> </P><P><B><FONT face="Arial">Bernie Borenstein</FONT></B> <BR><FONT face="Arial">The Boeing Company</FONT> </P> <BR><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">_______________________________________________</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">users mailing list</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="mailto:users@open-mpi.org">users@open-mpi.org</A></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</A></DIV> </BLOCKQUOTE></DIV><BR></DIV></BODY></HTML>
