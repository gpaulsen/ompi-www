<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hi<div><br></div><div>I spent some time today trying to install OpenMPI 1.3.3 on OS X 10.5.8. I need to used threading and asynchronous progress, hence the pre-installed OpenMPI is not sufficient.</div><div><br></div><div>Anyhow - whatever I did (and I tried many things) - my applications is getting linked against the default /usr/lib/ &nbsp;OpenMPI, rather than against /opt/openmpi/lib version.</div><div><br></div><div>I installed the software using those instructions:</div><div><br></div><div><a href="http://www.open-mpi.org/faq/?category=osx#osx-bundled-ompi">http://www.open-mpi.org/faq/?category=osx#osx-bundled-ompi</a></div><div><br></div><div>and, when it didn't work properly, I tired:</div><div><br></div><div>1. Using&nbsp;<span class="Apple-style-span" style="font-family: monospace, arial, helvetica; font-size: 12px; ">DYLD_LIBRARY_PATH</span></div><div><font class="Apple-style-span" face="monospace, arial, helvetica"><span class="Apple-style-span" style="font-family: Helvetica; ">2. passing some&nbsp;<span class="Apple-style-span" style="font-family: monospace, arial, helvetica; font-size: 12px; white-space: pre; ">./configure --with-wrapper-ldflags="-L/opt/openmpi/lib"</span></span></font></div><div><font class="Apple-style-span" face="monospace, arial, helvetica"><span class="Apple-style-span" style="white-space: pre;"><span class="Apple-style-span" style="font-family: Helvetica, arial, helvetica; white-space: normal; ">3. passing some&nbsp;<span class="Apple-style-span" style="font-family: monospace, arial, helvetica; font-size: 12px; white-space: pre; ">./configure --with-wrapper-ldflags="-rpath /opt/openmpi/lib"</span></span></span></font></div><div><font class="Apple-style-span" face="monospace, arial, helvetica"><span class="Apple-style-span" style="white-space: pre;"><span class="Apple-style-span" style="font-family: Helvetica, arial, helvetica; white-space: normal; ">4. hand compilation with cc -L/opt/openmpi/lib -lmpi</span></span></font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica"><br></font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica">2 and 3 did not work (ld error=22)</font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica"><br></font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica">With 1 and 2&nbsp;my code still gets linked with /usr/lib/libmpi...</font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica"><br></font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica">Note, that the /opt/openmpi/bin path is properly set and ompi_info does outputs the right info.</font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica"><br></font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica">Any hints will be appreciated</font></div><div><font class="Apple-style-span" face="Helvetica, arial, helvetica">Tomek&nbsp;</font></div></body></html>
