<html><body><div style="color:#000; background-color:#fff; font-family:times new roman, new york, times, serif;font-size:12pt"><div><span>Hello !</span></div><div><span>I check&nbsp; my OS(ubuntu 11)&nbsp; . it not install prelink . </span><span id="result_box" class="short_text" lang="en"><span class="">Are</span> <span class="hps">there</span> <span class="hps">other reasons</span><span class="">? (ompi-restart)</span></span></div><div><span>&nbsp; thanks . </span><span id="result_box" class="short_text" lang="en"><span class=""></span><span class="hps"></span><span class=""></span></span></div><div><br></div>  <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">寄件者：</span></b> Josh Hursey &lt;jjhursey@open-mpi.org&gt;<br> <b><span
 style="font-weight: bold;">收件者：</span></b> Open MPI Users &lt;users@open-mpi.org&gt; <br> <b><span style="font-weight: bold;">寄件日期：</span></b> 2012/4/11 (週三) 8:36 PM<br> <b><span style="font-weight: bold;">主旨：</span></b> Re: [OMPI users] ompi-restart failed &amp;&amp; ompi-migrate<br> </font> </div> <br>The 1.5 series does not support process migration, so there is no<br>ompi-migrate option there. This was only contributed to the trunk (1.7<br>series). However, changes to the runtime environment over the past few<br>months have broken this functionality. It is currently unclear when<br>this will be repaired. We hope to have it fixed and functional again<br>before the first release of the 1.7 series.<br><br>As far as your problem with ompi-restart have you checked the prelink<br>option on all of your nodes, per:<br>&nbsp; <a href="https://upc-bugs.lbl.gov/blcr/doc/html/FAQ.html#prelink"
 target="_blank">https://upc-bugs.lbl.gov/blcr/doc/html/FAQ.html#prelink</a><br><br>-- Josh<br><br>On Tue, Apr 10, 2012 at 11:14 PM, kidd &lt;<a ymailto="mailto:q19860103@yahoo.com.tw" href="mailto:q19860103@yahoo.com.tw">q19860103@yahoo.com.tw</a>&gt; wrote:<br>&gt; Hello !<br>&gt; I had some&nbsp; problems .<br>&gt; This is My environment<br>&gt; &nbsp;&nbsp; BLCR= 0.8.4&nbsp;&nbsp; , openMPI= 1.5.5&nbsp; , OS= ubuntu 11.04<br>&gt; &nbsp;&nbsp; I have 2 Node : cuda05(Master ,it have NFS&nbsp; file system)&nbsp; , cuda07(slave<br>&gt; ,mount Master)<br>&gt;<br>&gt; &nbsp;&nbsp; I had also set&nbsp; ~/.openmpi/mca-params.conf-&gt;<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp; crs_base_snapshot_dir=/root/kidd_openMPI/Tmp<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp; snapc_base_global_snapshot_dir=/root/kidd_openMPI/checkpoints<br>&gt;<br>&gt; &nbsp; my configure format=<br>&gt; ./configure --prefix=/root/kidd_openMPI --with-ft=cr --enable-ft-thread<br>&gt;
 &nbsp;--with-blcr=/usr/local/BLCR&nbsp; --with-blcr-libdir=/usr/local/BLCR/lib<br>&gt; --enable-mpirun-prefix-by-default<br>&gt; &nbsp;--enable-static --enable-shared&nbsp; --enable-opal-multi-threads;<br>&gt;<br>&gt; problem 1:&nbsp; ompi-restart&nbsp; on multiple Node<br>&gt; &nbsp; command 01: mpirun -hostfile&nbsp; Hosts -am ft-enable-cr&nbsp; -x&nbsp; LD_LIBRARY_PATH<br>&gt; -np 2&nbsp; ./TEST<br>&gt; &nbsp; command 02: ompi-restart&nbsp; ompi_global_snapshot_2892.ckpt<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; I can checkpoint 2 process on multiples nodes ,but when I restart<br>&gt; ,it can only restart on Master-Node.<br>&gt;<br>&gt; &nbsp; &nbsp;&nbsp; command 03 : ompi-restart&nbsp; -hostfile Hosts<br>&gt; ompi_global_snapshot_2892.ckpt<br>&gt; &nbsp; &nbsp; -&gt;Error Message . &nbsp; I make sure BLCR&nbsp; is OK.<br>&gt; ################################################################################################<br>&gt;<br>&gt;
 --------------------------------------------------------------------------<br>&gt; &nbsp;&nbsp;&nbsp; root@cuda05:~/kidd_openMPI/checkpoints# ompi-restart -hostfile Hosts<br>&gt; ompi_global_snapshot_2892.ckpt/<br>&gt;<br>&gt; --------------------------------------------------------------------------<br>&gt; &nbsp;&nbsp; Error: BLCR was not able to restart the process because exec failed.<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check the installation of BLCR on all of the machines in your<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; system. The following information may be of help:<br>&gt; &nbsp;Return Code : -1<br>&gt; &nbsp;BLCR Restart Command : cr_restart<br>&gt; &nbsp;Restart Command Line : cr_restart<br>&gt; /root/kidd_openMPI/checkpoints/ompi_global_snapshot_2892.ckpt/0/opal_snapshot_1.ckpt/ompi_blcr_context.2704<br>&gt; --------------------------------------------------------------------------<br>&gt;
 --------------------------------------------------------------------------<br>&gt; Error: Unable to obtain the proper restart command to restart from the<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; checkpoint file (opal_snapshot_1.ckpt). Returned -1.<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Check the installation of the blcr checkpoint/restart service<br>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on all of the machines in your system.essage<br>&gt; ####################################################################################################<br>&gt; &nbsp;problem 2: ompi-migrate i can't find . &nbsp; How to use ompi-migrate ?<br>&gt;<br>&gt; &nbsp; Please help me , thanks .<br>&gt;<br>&gt;<br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; <a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users"
 target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br><br><br><br>-- <br>Joshua Hursey<br>Postdoctoral Research Associate<br>Oak Ridge National Laboratory<br><a href="http://users.nccs.gov/%7Ejjhursey" target="_blank">http://users.nccs.gov/~jjhursey</a><br><br>_______________________________________________<br>users mailing list<br><a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br><br><br> </div> </div>  </div></body></html>
