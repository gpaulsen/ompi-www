<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type content="text/html; charset=us-ascii"><meta name=Generator content="Microsoft Word 12 (filtered medium)"><base href="x-msg://566/"><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";
	color:black;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:"Consolas","serif";
	color:black;}
span.EmailStyle19
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext="edit" spidmax="1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext="edit">
<o:idmap v:ext="edit" data="1" />
</o:shapelayout></xml><![endif]--></head><body bgcolor=white lang=EN-US link=blue vlink=purple><div class=WordSection1><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Hi Shiqing,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>I agree. I think that I am somehow using WMI, but this is happening both with the Open-MPI windows binary (OpenMPI_v1.5.4-1_win32.exe) and also with versions of the binaries I built (1.4.3 &amp; 1.5.1 from svn).<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>What do I have to do to get OpenMPI to use ssh instead of WMI. From what I can see of the configuration with ompi_info, the following seems correct:<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal style='margin-left:.5in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>$ ompi_info -all<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Package: Open MPI hpcfan@VISCLUSTER26 Distribution<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open MPI: 1.5.4<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open MPI SVN revision: r25060<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open MPI release date: Aug 18, 2011<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open RTE: 1.5.4<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open RTE SVN revision: r25060<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Open RTE release date: Aug 18, 2011<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>OPAL: 1.5.4<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>OPAL SVN revision: r25060<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>OPAL release date: Aug 18, 2011<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Ident string: 1.5.4<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>&#8230;.<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>MCA orte: parameter &quot;orte_rsh_agent&quot; (current value: &lt;ssh : rsh&gt;, &#8230;.<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>&#8230;.<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>MCA plm: parameter &quot;plm_rsh_agent&quot; (current value: &lt;ssh : rsh&gt;, &#8230;.<o:p></o:p></span></p><p class=MsoNormal style='margin-left:1.0in'><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>&#8230;.<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Is there a cmake configuration option I need to set for a Windows build to use ssh? Is there some environment or package configuration option I need to set?<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Thanks again for your help, I am keen to know what I am missing.<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Best regards,<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'>Jim<o:p></o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p></span></p><div><div style='border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in 0in 0in'><p class=MsoNormal><b><span style='font-size:10.0pt;font-family:"Tahoma","sans-serif";color:windowtext'>From:</span></b><span style='font-size:10.0pt;font-family:"Tahoma","sans-serif";color:windowtext'> Shiqing Fan [mailto:fan@hlrs.de] <br><b>Sent:</b> Tuesday, February 07, 2012 8:20 PM<br><b>To:</b> Open MPI Users; james.torossian@essetek.com<br><b>Cc:</b> Ralph Castain<br><b>Subject:</b> Re: [OMPI users] O-MPI Support for Windows 7<o:p></o:p></span></p></div></div><p class=MsoNormal><o:p>&nbsp;</o:p></p><p class=MsoNormal>Hi James,<br><br>One other possibility could be that ssh is actually not used at all. Did you build Open MPI under Cygwin? Is the ssh module shown up in the ompi_info output?<br><br>The user credential message looks very familiar to me as it seems from the WMI (Windows Management Instrumentation) module, where the 'save credential' option has not been implemented.<br><br>Shiqing<br><br>On 2012-02-07 4:11 AM, Ralph Castain wrote: <o:p></o:p></p><p class=MsoNormal>Afraid I'm no OpenSSH expert, but it sounds like there is an issue with its configuration. Check out the OpenSSH config options to see if something fits. <o:p></o:p></p><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=MsoNormal>I did a quick search and found this, as an example:<o:p></o:p></p></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=MsoNormal><a href="http://mah.everybody.org/docs/ssh">http://mah.everybody.org/docs/ssh</a><o:p></o:p></p></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=MsoNormal>Note the need to run ssh-agent to cache login credentials.<o:p></o:p></p></div><div><p class=MsoNormal><o:p>&nbsp;</o:p></p><div><div><p class=MsoNormal>On Feb 6, 2012, at 5:05 PM, James Torossian wrote:<o:p></o:p></p></div><p class=MsoNormal><br><br><o:p></o:p></p><div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Hi all,<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>I am trying to setup Open-MPI across two Windows 7 machines with UAC disabled &#8230;&#8230;<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Cygwin with OpenSSH is installed, and I can successfully ssh to each machine without entry of username and password:<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>JimT@JimT-PC ~<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>$ ssh NanoOneQuad<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Last login: Tue Feb&nbsp; 7 01:42:02 2012 from jimt-pc<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>JimT@NanoOneQuad ~<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>$<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Regardless of this, mpirun insists on asking for a username and password; then asks to save credentials, but if selected, responds with not implemented. If saving credentials is not selected, then I can see that the task starts on the other machine (in task manager) and that the task runs to completion OK:<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>JimT@JimT-PC ~<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>$ mpirun -H NanoOneQuad ipconfig.exe<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>connecting to NanoOneQuad<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>username:JimT<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>password:**************<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Save Credential?(Y/N) y<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>[JimT-PC:03784] This feature hasn't been implemented yet.<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>JimT@JimT-PC ~<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>$ mpirun -H NanoOneQuad ipconfig.exe<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>connecting to NanoOneQuad<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>username:JimT<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>password:**************<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Save Credential?(Y/N) n<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>JimT@JimT-PC ~<o:p></o:p></span></p></div><div style='margin-left:.5in'><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>$<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Please let me know what I have missed. I have gone through the FAQs and have rebuilt the windows version but can&#8217;t seem to get past this.<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Thanks and best regards,<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>Jim<o:p></o:p></span></p></div><div><p class=MsoNormal><span style='font-size:11.0pt;font-family:"Calibri","sans-serif"'>&nbsp;<o:p></o:p></span></p></div><p class=MsoNormal>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><o:p></o:p></p></div></div><p class=MsoNormal><o:p>&nbsp;</o:p></p></div><p class=MsoNormal><br><br><br><o:p></o:p></p><pre>_______________________________________________<o:p></o:p></pre><pre>users mailing list<o:p></o:p></pre><pre><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><o:p></o:p></pre><pre><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><o:p></o:p></pre><p class=MsoNormal><br><br><br><o:p></o:p></p><pre>-- <o:p></o:p></pre><pre>---------------------------------------------------------------<o:p></o:p></pre><pre>Shiqing Fan<o:p></o:p></pre><pre>High Performance Computing Center Stuttgart (HLRS)<o:p></o:p></pre><pre>Tel: ++49(0)711-685-87234&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nobelstrasse 19<o:p></o:p></pre><pre>Fax: ++49(0)711-685-65832&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 70569 Stuttgart<o:p></o:p></pre><pre><a href="http://www.hlrs.de/organization/people/shiqing-fan/">http://www.hlrs.de/organization/people/shiqing-fan/</a><o:p></o:p></pre><pre>email: <a href="mailto:fan@hlrs.de">fan@hlrs.de</a><o:p></o:p></pre></div></body></html>
