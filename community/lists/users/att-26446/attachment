<div dir="ltr"><div><div><div><div><div><div><div><div><div><div><div><div>Hello,<br><br></div>I would like to know if Open MPI provides some kind of mechanism to select collective algorithms such as MPI broadcast during run time depending on some logic. For example, I would like to<br></div></div>use something like this:<br><br></div>if (some_condition)  ompi_binomial_broadcast(...);<br></div>else   ompi_pipeline_broadcast(...);<br><br></div>I know it is possible to use some fixed algorithm by <span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)">coll_tuned_use_dynamic_rules or </span>to define a custom selection rule using <span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)">coll_tuned_dynamic_rules_filename<span class="">. But<br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">I think it is not suitable in this situation as the dynamic rules mainly based on the message size, segment size and communicator size.<br><br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Another option could be using Open MPI internal APIS like <br><br>ompi_coll_tuned_bcast_intra_binomial( buf, count, dtype, root, comm, module, segsize);<br><br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">But it highly depends on Open MPI internals as it uses mca_coll_base_module_t . <br><br></span></span></div><div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Is there any better option? (except using my own implementation of collectives)<br></span></span></div><div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class=""><br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Any suggestion highly appreciated.<br><br></span></span></div><div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Thanks<br></span></span></div><div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class=""><br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Regards,<br></span></span></div><span style="color:rgb(0,0,0);font-family:verdana,arial,helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;display:inline!important;float:none;background-color:rgb(255,255,255)"><span class="">Khalid<br></span></span></div>

