<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><DIV>Dear All</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I am trying to get openmpi-1.1.2 to work on AIX 5.3 / power5.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>:: Compilation seems to have worked with the following sequence:</DIV><DIV>====================================================================</DIV><DIV>setenv OBJECT_MODE 64</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>setenv CC xlc</DIV><DIV>setenv CXX xlC</DIV><DIV>setenv F77 xlf</DIV><DIV>setenv FC xlf90</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>setenv CFLAGS "-qthreaded -O3 -qmaxmem=-1 -qarch=pwr5x -qtune=pwr5 -q64"</DIV><DIV>setenv CXXFLAGS "-qthreaded -O3 -qmaxmem=-1 -qarch=pwr5x -qtune=pwr5 -q64"</DIV><DIV>setenv FFLAGS "-qthreaded -O3 -qmaxmem=-1 -qarch=pwr5x -qtune=pwr5 -q64" </DIV><DIV>setenv FCFLAGS "-qthreaded -O3 -qmaxmem=-1 -qarch=pwr5x -qtune=pwr5 -q64" </DIV><DIV>setenv LDFLAGS "-Wl,-brtl"</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>./configure --prefix=/ist/openmpi-1.1.2 \</DIV><DIV>  --disable-mpi-cxx \</DIV><DIV>  --disable-mpi-cxx-seek \</DIV><DIV>  --enable-mpi-threads \</DIV><DIV>  --enable-progress-threads \</DIV><DIV>  --enable-static \</DIV><DIV>  --disable-shared \</DIV><DIV>  --disable-io-romio </DIV><DIV>====================================================================</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>:: After the compilation I ran make check and all 11 tests passed successfully.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>:: Now I'm trying to run the following command just for test:</DIV><DIV># mpirun -hostfile /gpfs/MICHAEL/MPI_hostfiles/mpinodes_b41-b44_1.asc -np 2 /usr/bin/hostname</DIV><DIV>- The file /gpfs/MICHAEL/MPI_hostfiles/mpinodes_b41-b44_1.asc contains 4 hosts:</DIV><DIV>    r1blade041 slots=1</DIV><DIV>    r1blade042 slots=1</DIV><DIV>    r1blade043 slots=1</DIV><DIV>    r1blade044 slots=1</DIV><DIV>- The mpirun command eventually hangs with the following message:</DIV><DIV>    [r1blade041:418014] poll failed with errno=25</DIV><DIV>    [r1blade041:418014] opal_event_loop: ompi_evesel-&gt;dispatch() failed.</DIV><DIV>- In this state mpirun cannot be killed by hitting &lt;ctrl-c&gt; only a kill -9 will do the trick.</DIV><DIV>- While the mpirun still hangs I can see that the "orted" has been launched on both requested hosts.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>:: I turned on all debug options in openmpi-mca-params.conf. The output for the same call of mpirun is in the file <FONT class="Apple-style-span" face="Lucida Grande">mpirun-debug.txt.gz.</FONT></DIV><DIV></DIV></BODY></HTML>
