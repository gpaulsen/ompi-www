<html><body><div style="color:#000; background-color:#fff; font-family:verdana, helvetica, sans-serif;font-size:12pt"><div><span>Hello Ralph,</span></div><div><br><span></span></div><div><span>Yes, historically, the rebuild fixed the problem. But, now, how do I rebuild against a new libc? And doesn't mpi build process automatically pick up whatever libc version I have?<br></span></div><div><br><span></span></div><div><span>I cant seem to google this solution. I already included my configure line for building open-mpi.<br></span></div><div><br><span></span></div><div><span>Thanks a lot.</span></div><div><br><span></span></div><div><span>Devendra Rai<br></span></div><div><br></div>  <div style="font-family: verdana, helvetica, sans-serif; font-size: 12pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <font size="2" face="Arial"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Ralph Castain
 &lt;rhc@open-mpi.org&gt;<br> <b><span style="font-weight: bold;">To:</span></b> devendra rai &lt;rai.devendra@yahoo.co.uk&gt;; Open MPI Users &lt;users@open-mpi.org&gt; <br> <b><span style="font-weight: bold;">Sent:</span></b> Thursday, 5 January 2012, 18:32<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] Strange Segfault in mpirun: orterun.c:486<br> </font> <br><div id="yiv2140557118"><div>Let me see if I understand correctly. You performed some upgrades on Linux, and then orterun fails. Rebuilding OMPI resolved the problem.<div><br></div><div>Is that correct? If so, then I'm not terribly surprised - it depends on what got upgraded. For example, if the default libc changed due to a revision upgrade, then you probably do need to rebuild against it.</div><div><br></div><div><br><div><div>On Jan 5, 2012, at 10:28 AM, devendra rai wrote:</div><br class="yiv2140557118Apple-interchange-newline"><blockquote type="cite"><div><div
 style="color:rgb(0, 0, 0);background-color:rgb(255, 255, 255);font-family:verdana, helvetica, sans-serif;font-size:12pt;"><div>Hello All,</div><div><br></div><div>This has happened to me many times, but a simple rebuild of the Open-MPI generally fixed it.</div><div><br></div><div>I had a perfectly working (and tested) MPI application till a few days ago. Since then, there has been some upgrades on my Linux OS (basically, the ones which the system picks up automatically). <br></div><div><br></div><div>Now, I rebuild and rerun the same application, I get this:</div><div><br></div><div><span style="color:rgb(0, 0, 191);">mpirun: orterun.c:486: orterun: Assertion `((0xdeafbeedULL &lt;&lt; 32) + 0xdeafbeedULL) == ((opal_object_t *) (&amp;cmd_line))-&gt;obj_magic_id' failed.</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] *** Process received signal ***</span><br style="color:rgb(0, 0, 191);"><span style="
color:rgb(0, 0, 191);">[Morpheus:24572] Signal: Aborted (6)</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] Signal code:&nbsp; (-6)</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 0] /lib64/libpthread.so.0(+0xf2d0) [0x7fd23c9312d0]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 1] /lib64/libc.so.6(gsignal+0x35) [0x7fd23c5e7ab5]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 2] /lib64/libc.so.6(abort+0x186) [0x7fd23c5e8fb6]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 3] /lib64/libc.so.6(__assert_fail+0xf5) [0x7fd23c5e0385]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 4] /home/Morpheus/CustomInstalledPrograms/OpenMPI-1.4.2/bin/mpirun() [0x4037ed]</span><br
 style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 5] /home/Morpheus/CustomInstalledPrograms/OpenMPI-1.4.2/bin/mpirun() [0x4032a4]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 6] /lib64/libc.so.6(__libc_start_main+0xfd) [0x7fd23c5d3bfd]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] [ 7] /home/Morpheus/CustomInstalledPrograms/OpenMPI-1.4.2/bin/mpirun() [0x4031c9]</span><br style="color:rgb(0, 0, 191);"><span style="color:rgb(0, 0, 191);">[Morpheus:24572] *** End of error message ***</span><br></div><div><br></div><div><br></div><div>I have a custom installation of open-mpi, with the configure script looking like this:</div><div><br></div><div style="color:rgb(0, 0, 255);">./configure --enable-mpi-threads=yes -prefix=/home/Morpheus/CustomInstalledPrograms/OpenMPI-1.4.2 --enable-mem-profile --enable-mem-debug
 --enable-debug --enable-trace --enable-memchecker --with-valgrind=/usr --with-threads=posix&nbsp;</div><div><br></div><div>The rebuild of my application was successful.</div><div><br></div><div>Where should I fix it? and How?</div><div><br></div><div>Thanks for ideas.</div><div><br></div><div>Best</div><div><br></div><div>Devendra<br></div></div></div>_______________________________________________<br>users mailing list<br><a rel="nofollow" ymailto="mailto:users@open-mpi.org" target="_blank" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></div></div><br><br> </div> </div>  </div></body></html>
