<div dir="ltr">It is attached in the previous mail.<br></div><div class="gmail_extra"><br><div class="gmail_quote">2014-10-03 16:47 GMT+00:00 Diego Avesani <span dir="ltr">&lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Dear N.,<div>thanks for the explanation.</div><div><br><div>really really sorry, but I am not able to see your example. where is it?</div><div><br></div><div>thanks again<br><div><br></div></div></div></div><div class="gmail_extra"><br clear="all"><div>Diego<br><br></div>
<br><div class="gmail_quote"><div><div class="h5">On 3 October 2014 18:35, Nick Papior Andersen <span dir="ltr">&lt;<a href="mailto:nickpapior@gmail.com" target="_blank">nickpapior@gmail.com</a>&gt;</span> wrote:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr"><br><div class="gmail_extra"><br><div class="gmail_quote"><span>2014-10-03 16:27 GMT+00:00 Diego Avesani <span dir="ltr">&lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">dear N.,<div>here my results:</div><div><br></div><div><div>0.200000002980232     </div><div>  0.200000000000000     </div><div>   1.00000000000000     </div><div>  0.200000002980232     </div><div>  0.200000000000000     </div><div>   1.00000000000000     </div><div>   1.00000000000000     </div><div>   1.00000000000000</div><div><br></div><div>I suppose that in case of 0.2 we have a real that is different in double or in single precision. when I write 0.2_db I forced the program to fill with 0 the empty space in the memory. </div></div></div></blockquote></span><div>Correct. When doing &quot;dp = 0.2&quot; it casts the 0.2 to a double precision, see below.</div><span><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><div><br></div><div>In the second case we have and integer that the program treat as a real and as a consequence, the program fill  automatically the empty space with 0.</div></div></div></blockquote></span><div>Not correct (at least not in this example), a real 1. (and whole number up to a certain integer) is perfectly represented in bytes. Hence conversion between different precisions will not loose any precision, the 0.2 case is &quot;approximately&quot; set to 0.2 in context of the precision. Hence conversion from 0.2 to a double precision 0.2_dp will &quot;guess&quot; the last digits, not exactly, but you get the point.</div><span><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><br></div><div>Am I right?</div><div>What do you suggest as next step?</div></div></blockquote></span><div>??? The example I sent you worked perfectly. </div><div>Good luck!</div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr"><div>I could create a type variable and try to send it from a processor to another with MPI_SEND and MPI_RECV?</div><div><br></div><div>Again thank </div></div><div class="gmail_extra"><br clear="all"><div>Diego<br><br></div>
<br><div class="gmail_quote"><div><div>On 3 October 2014 18:04, Nick Papior Andersen <span dir="ltr">&lt;<a href="mailto:nickpapior@gmail.com" target="_blank">nickpapior@gmail.com</a>&gt;</span> wrote:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr"><div>Dear Diego, <br></div><div>Instead of instantly going about using cartesian communicators you should try and create a small test case, something like this:</div><div><br></div><div>I have successfully runned this small snippet on my machine.</div><div>As I state in the source, the culprit was the integer address size. It is inherently of type long, whereas you used integer.</div><div>Running it (with ONLY 2 processors) should print:</div><div>           1   1.0000000000000000        1.0000000000000000        11.000000000000000        11.000000000000000     <br></div><div><br></div><div>Please notice the other things I comment on, they can turn out to be important!</div><div><br></div><div>For instance, try this:</div><div><br></div><div>real(dp) :: a</div><div>a = 0.2</div><div>print *,a</div><div>a=0.2_dp</div><div>print *,a</div><div><br></div><div>Try and understand why the output is not as expected!</div><div><br></div><div>Also try and understand why this has no problems:</div><div><br></div><div><div>real(dp) :: a</div><div>a = 1.</div><div>print *,a</div><div>a=1._dp</div><div>print *,a</div><div><br></div></div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div>2014-10-03 15:41 GMT+00:00 Diego Avesani <span dir="ltr">&lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt;</span>:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr">Dear Nick,<div>thanks again, I am learning a lot and do not be afraid to be rude.</div><span><font color="#888888"><div><br></div><div><br></div></font></span></div><div class="gmail_extra"><span><font color="#888888"><br clear="all"><div>Diego<br><br></div></font></span><div><div>
<br><div class="gmail_quote">On 3 October 2014 17:38, Diego Avesani <span dir="ltr">&lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Dear Jeff, Dear Nick,<div>the question is about, inserting the FLAG for using -r8</div><div><br></div><div>Now I have written a simple code with select_kind to avoid -r8. I get the same error.</div><div>You can find the code in the attachment.</div><div><br></div><div>probably there is something wrong with ompi configuration</div><div><br></div><div>What do you think?</div><div><br></div><div>Again, thanks and thanks a lot</div><span><font color="#888888"><div><br></div><div><br></div></font></span></div><div class="gmail_extra"><span><font color="#888888"><br clear="all"><div>Diego<br><br></div></font></span><div><div>
<br><div class="gmail_quote">On 3 October 2014 17:18, Jeff Squyres (jsquyres) <span dir="ltr">&lt;<a href="mailto:jsquyres@cisco.com" target="_blank">jsquyres@cisco.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span>On Oct 3, 2014, at 10:55 AM, Diego Avesani &lt;<a href="mailto:diego.avesani@gmail.com" target="_blank">diego.avesani@gmail.com</a>&gt; wrote:<br>
<br>
&gt; Dear Jeff,<br>
&gt; how can I do that?<br>
<br>
</span>Er... can you be more specific?  I mentioned several things in my email.<br>
<br>
If you&#39;re asking about how to re-install OMPI compiled with -r8, please first read Nick&#39;s email (essentially asking &quot;why are you using -r8, anyway?&quot;).<br>
<span><br>
--<br>
Jeff Squyres<br>
<a href="mailto:jsquyres@cisco.com" target="_blank">jsquyres@cisco.com</a><br>
For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/" target="_blank">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br>
<br>
_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
</span>Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25450.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25450.php</a><br>
</blockquote></div><br></div></div></div>
</blockquote></div><br></div></div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25453.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25453.php</a><span><font color="#888888"><br></font></span></blockquote></div><span><font color="#888888"><br><br clear="all"><br>-- <br><div dir="ltr"><div>Kind regards Nick</div></div>
</font></span></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25454.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25454.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25455.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25455.php</a><span><font color="#888888"><br></font></span></blockquote></div><span><font color="#888888"><br><br clear="all"><br>-- <br><div dir="ltr"><div>Kind regards Nick</div></div>
</font></span></div></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org" target="_blank">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25456.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25456.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
users mailing list<br>
<a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/users/2014/10/25457.php" target="_blank">http://www.open-mpi.org/community/lists/users/2014/10/25457.php</a><br></blockquote></div><br><br clear="all"><br>-- <br><div dir="ltr"><div>Kind regards Nick</div></div>
</div>

