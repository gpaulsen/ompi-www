Hi,<br>   I&#39;m trying to build CCSM4 for which I&#39;m using open mpi 1.4.1. $MPICH_PATH is set /usr/local (output of $which mpirun is /usr/local/bin/mpirun) and LIB_MPI is set to $(MPICH_PATH)/lib in its Macros file. However build process exits with the following error:<br>
<i>.....4/scratch//d_f45/lib -lcsm_share -lmct -lmpeu -lpio  -L/home/srinivas/netcdf/lib -lnetcdf <b> -L/usr/local/lib -lmpich</b> -L/home/srinivas/pnetcdf/lib -lpnetcdf<br><b>ld: cannot find -lmpich</b><br>gmake: *** [/home/srinivas/ccsm4/scratch//d_f45/run/ccsm.exe] Error 1</i><br>
<br>All though /usr/local/lib exists it says it cannot find -lmpich. Contents of /usr/local/lib is as follows:<br><i>total 4764<br>-rwxr-xr-x 1 root root    991 2010-06-06 00:01 <a href="http://libmca_common_sm.la">libmca_common_sm.la</a><br>
lrwxrwxrwx 1 root root     25 2010-06-06 00:01 libmca_common_sm.so -&gt; libmca_common_sm.so.1.0.0<br>lrwxrwxrwx 1 root root     25 2010-06-06 00:01 libmca_common_sm.so.1 -&gt; libmca_common_sm.so.1.0.0<br>-rwxr-xr-x 1 root root  13566 2010-06-06 00:01 libmca_common_sm.so.1.0.0<br>
-rwxr-xr-x 1 root root   1041 2010-06-06 00:01 <a href="http://libmpi_cxx.la">libmpi_cxx.la</a><br>lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_cxx.so -&gt; libmpi_cxx.so.0.0.0<br>lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_cxx.so.0 -&gt; libmpi_cxx.so.0.0.0<br>
-rwxr-xr-x 1 root root 135913 2010-06-06 00:01 libmpi_cxx.so.0.0.0<br>-rwxr-xr-x 1 root root   1045 2010-06-06 00:01 <a href="http://libmpi_f77.la">libmpi_f77.la</a><br>lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_f77.so -&gt; libmpi_f77.so.0.0.0<br>
lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_f77.so.0 -&gt; libmpi_f77.so.0.0.0<br>-rwxr-xr-x 1 root root 362563 2010-06-06 00:01 libmpi_f77.so.0.0.0<br>-rwxr-xr-x 1 root root   1045 2010-06-06 00:01 <a href="http://libmpi_f90.la">libmpi_f90.la</a><br>
lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_f90.so -&gt; libmpi_f90.so.0.0.0<br>lrwxrwxrwx 1 root root     19 2010-06-06 00:01 libmpi_f90.so.0 -&gt; libmpi_f90.so.0.0.0<br>-rwxr-xr-x 1 root root  18024 2010-06-06 00:01 libmpi_f90.so.0.0.0<br>
-rwxr-xr-x 1 root root    996 2010-06-06 00:01 <a href="http://libmpi.la">libmpi.la</a><br>lrwxrwxrwx 1 root root     15 2010-06-06 00:01 libmpi.so -&gt; libmpi.so.0.0.1<br>lrwxrwxrwx 1 root root     15 2010-06-06 00:01 libmpi.so.0 -&gt; libmpi.so.0.0.1<br>
-rwxr-xr-x 1 root root 865544 2010-06-06 00:01 libmpi.so.0.0.1<br>-rwxr-xr-x 1 root root    997 2010-06-06 00:00 <a href="http://libopenmpi_malloc.la">libopenmpi_malloc.la</a><br>lrwxrwxrwx 1 root root     26 2010-06-06 00:00 libopenmpi_malloc.so -&gt; libopenmpi_malloc.so.0.0.0<br>
lrwxrwxrwx 1 root root     26 2010-06-06 00:00 libopenmpi_malloc.so.0 -&gt; libopenmpi_malloc.so.0.0.0<br>-rwxr-xr-x 1 root root   5923 2010-06-06 00:00 libopenmpi_malloc.so.0.0.0<br>-rwxr-xr-x 1 root root    966 2010-06-06 00:00 <a href="http://libopen-pal.la">libopen-pal.la</a><br>
lrwxrwxrwx 1 root root     20 2010-06-06 00:00 libopen-pal.so -&gt; libopen-pal.so.0.0.0<br>lrwxrwxrwx 1 root root     20 2010-06-06 00:00 libopen-pal.so.0 -&gt; libopen-pal.so.0.0.0<br>-rwxr-xr-x 1 root root 400658 2010-06-06 00:00 libopen-pal.so.0.0.0<br>
-rwxr-xr-x 1 root root    996 2010-06-06 00:00 <a href="http://libopen-rte.la">libopen-rte.la</a><br>lrwxrwxrwx 1 root root     20 2010-06-06 00:00 libopen-rte.so -&gt; libopen-rte.so.0.0.0<br>lrwxrwxrwx 1 root root     20 2010-06-06 00:00 libopen-rte.so.0 -&gt; libopen-rte.so.0.0.0<br>
-rwxr-xr-x 1 root root 359832 2010-06-06 00:00 libopen-rte.so.0.0.0<br>-rw-r--r-- 1 root root 238478 2010-06-06 00:01 libotf.a<br>-rwxr-xr-x 1 root root    891 2010-06-06 00:01 <a href="http://libotf.la">libotf.la</a><br>
-rw-r--r-- 1 root root 356316 2010-06-06 00:01 libvt.a<br>-rw-r--r-- 1 root root 123778 2010-06-06 00:01 libvt.fmpi.a<br>-rw-r--r-- 1 root root 538458 2010-06-06 00:01 libvt.mpi.a<br>-rw-r--r-- 1 root root 435412 2010-06-06 00:01 libvt.omp.a<br>
-rw-r--r-- 1 root root 616194 2010-06-06 00:01 libvt.ompi.a<br>-rwxr-xr-x 1 root root 284540 2010-06-06 00:01 mpi.mod<br>drwxr-xr-x 2 root root   4096 2010-06-06 00:01 openmpi</i><br><br>$mpif90 -showme -v<br>ifort -v<br>
$ifort -v<br>Version 11.1<br>(Same ouput for mpicc as well)<br>Im using linux on x86_64<br><br>Kindly let me know where I&#39;m going wrong.<br><br>Thanks and Regards,<br>Srinivas<br>

