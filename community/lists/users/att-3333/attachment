<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><DIV><DIV>On May 22, 2007, at 7:52 PM, Tom Clune wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite"><BLOCKQUOTE type="cite"><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">For example, if it is ppp0, try:</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><BR></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><SPAN class="Apple-converted-space">   </SPAN>mpirun -np 1 -mca oob_tcp_exclude ppp0 uptime</DIV> </BLOCKQUOTE><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><BR></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">This seems to at least produce a bit of output before hanging:</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><BR></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">LM000953070:~ tlclune$ mpirun -np 1 -mca oob_tcp_exclude ppp0 uptime</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">[153.sub-70-211-6.myvzw.com:07562] [0,0,0] mca_oob_tcp_init: invalid address '' returned for selected oob interfaces.</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">[153.sub-70-211-6.myvzw.com:07562] [0,0,0] ORTE_ERROR_LOG: Error in file oob_tcp.c at line 1216</DIV></BLOCKQUOTE></DIV><BR><DIV>Tom -</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I managed to track this down a bit.  We try to use the ppp0 interface (the cell phone device) for network connectivity, as it's the only non-localhost address up at the time.  Unfortunately, we can't use the address to route messages that way and Open MPI hangs.  The problem is made worse due to a bug that I'm still trying to track down in Open MPI.  When you tell Open MPI to not use a device (like ppp0), it should just use whatever other devices are available.  In your case, that would be localhost, which is what you're using when you don't have any network connectivity at all.  But it appears that this instead causes Open MPI to segfault / hang.  I'm looking into exactly why this is happening and should have a fix in the next day or so.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Brian</DIV><BR><DIV> <SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><DIV>-- </DIV><DIV>  Brian W. Barrett</DIV><DIV>  Open MPI Team, CCS-1</DIV><DIV>  Los Alamos National Laboratory</DIV><BR class="Apple-interchange-newline"></SPAN> </DIV><BR></BODY></HTML>
