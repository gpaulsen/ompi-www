<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"><base href="x-msg://5950/"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Yes, but it is a little more tricky than calling MPI_Bcast.<div><br></div><div>The prototype of MPI_Bcast as defined by the MPI standard is:</div><div>&nbsp;<div></div><blockquote type="cite"><div>int MPI_Bcast(void* buffer, int count, MPI_Datatype datatype, int root,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;MPI_Comm comm)</div></blockquote><div><br></div><div>This clearly prevents you from using a count larger than MAX_INT. However, you can build a datatype, by composing several types with counts under 1G and then use this datatype to do the bcast.</div><div><br></div><div>&nbsp; George.</div><div><br></div><div><div>On Apr 12, 2013, at 00:11 , William Au &lt;<a href="mailto:au_wai_chung@hotmail.com">au_wai_chung@hotmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div class="hmmessage" style="font-size: 12pt; font-family: Calibri; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div dir="ltr">Hi,<br><br>I am using openmpi 1.6 and when I tried to send a large array through MPI_BCAST<br>in fortran. The number of count is larger than 3 billions. Although I compiled openmpi and<br>my code with the option to declare my fortran integer as 64 bit long in linux. I found out<br>that fortran pbcast_f.c will cast my *count to integer to call the c code MPI_Bcast<br><br>&nbsp; *ierr = OMPI_INT_2_FINT(MPI_Bcast(OMPI_F2C_BOTTOM(buffer),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OMPI_FINT_2_INT(*count),<br><br>So my question is, is it possible to bcast more than MAX_INT count of data_type in<br>openmpi?<br><br>Thanks.<br><br>Regards,<br><br>William<br></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></div></blockquote></div><br></div></body></html>
