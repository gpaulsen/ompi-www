<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Just fixed it - thanks!<div class=""><br class=""></div><div class=""><br class=""><div class=""><div><blockquote type="cite" class=""><div class="">On Jun 10, 2015, at 10:31 AM, Nathan Hjelm &lt;<a href="mailto:hjelmn@lanl.gov" class="">hjelmn@lanl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Looks like a bug in the CM optimization that went into 1.10 yesterday. I</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">will let the author know to fix this one.</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">-Nathan</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">On Wed, Jun 10, 2015 at 11:19:04AM +0200, Siegmar Gross wrote:</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><blockquote type="cite" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">Hi Nathan,<br class=""><br class=""><blockquote type="cite" class="">Bah. Another proc-&gt;super usage. Thought I got them all. Will fix now.<br class=""></blockquote><br class="">Today I tried to build openmpi-v1.10-dev-70-g5fefddb and I still get an<br class="">error.<br class=""><br class="">&nbsp;CC &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pml_cm.lo<br class="">In file included from ../../../../../openmpi-v1.10-dev-70-g5fefddb/ompi/mca/pml/cm/pml_cm.c:25:0:<br class="">../../../../../openmpi-v1.10-dev-70-g5fefddb/ompi/mca/pml/cm/pml_cm.h: In function 'mca_pml_cm_recv':<br class="">../../../../../openmpi-v1.10-dev-70-g5fefddb/ompi/mca/pml/cm/pml_cm.h:149:13: warning: implicit declaration of function 'alloca' [-Wimplicit-function-declaration]<br class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alloca(sizeof(mca_mtl_request_t) + ompi_mtl-&gt;mtl_request_size);<br class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br class="">../../../../../openmpi-v1.10-dev-70-g5fefddb/ompi/mca/pml/cm/pml_cm.h:149:13: warning: incompatible implicit declaration of built-in function 'alloca'<br class="">../../../../../openmpi-v1.10-dev-70-g5fefddb/ompi/mca/pml/cm/pml_cm.h:171:18: error: 'opal_list_item_t {aka struct opal_list_item_t}' has no member named 'proc_convertor'<br class="">&nbsp;ompi_proc-&gt;super.proc_convertor,<br class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br class="">make[2]: *** [pml_cm.lo] Error 1<br class="">make[2]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-70-g5fefddb-SunOS.sparc.64_gcc/ompi/mca/pml/cm'<br class="">make[1]: *** [all-recursive] Error 1<br class="">make[1]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-70-g5fefddb-SunOS.sparc.64_gcc/ompi'<br class="">make: *** [all-recursive] Error 1<br class="">tyr openmpi-v1.10-dev-70-g5fefddb-SunOS.sparc.64_gcc 25<br class=""><br class=""><br class="">Thank you very much for your help in advance.<br class=""><br class=""><br class="">Kind regards<br class=""><br class="">Siegmar<br class=""><br class=""><br class=""><br class=""><blockquote type="cite" class=""><br class="">-Nathan<br class=""><br class="">On Tue, Jun 09, 2015 at 12:43:50PM +0200, Siegmar Gross wrote:<br class=""><blockquote type="cite" class="">Hi,<br class=""><br class="">today I tried to build openmpi-v1.10-dev-41-g57faa88 on my machines<br class="">(Solaris 10 Sparc, Solaris 10 x86_64, and openSUSE Linux 12.1<br class="">x86_64) with gcc-4.9.2 and Sun C 5.13 and I got the following error<br class="">on all platforms with cc. I have already reported the problem a few<br class="">days ago. Nathan wanted to fix it and I'm not sure if he hasn't had<br class="">time to do it or if it is something different now<br class="">(<a href="https://github.com/open-mpi/ompi-release/pull/299" class="">https://github.com/open-mpi/ompi-release/pull/299</a>). I used the<br class="">following command to configure the package.<br class=""><br class="">../openmpi-v1.10-dev-59-g4e9cea6/configure --prefix=/usr/local/openmpi-1.10.0_64_gcc \<br class="">&nbsp;--libdir=/usr/local/openmpi-1.10.0_64_gcc/lib64 \<br class="">&nbsp;--with-jdk-bindir=/usr/local/jdk1.8.0/bin \<br class="">&nbsp;--with-jdk-headers=/usr/local/jdk1.8.0/include \<br class="">&nbsp;JAVA_HOME=/usr/local/jdk1.8.0 \<br class="">&nbsp;LDFLAGS="-m64" CC="gcc" CXX="g++" FC="gfortran" \<br class="">&nbsp;CFLAGS="-m64" CXXFLAGS="-m64" FCFLAGS="-m64" \<br class="">&nbsp;CPP="cpp" CXXCPP="cpp" \<br class="">&nbsp;CPPFLAGS="" CXXCPPFLAGS="" \<br class="">&nbsp;--enable-mpi-cxx \<br class="">&nbsp;--enable-cxx-exceptions \<br class="">&nbsp;--enable-mpi-java \<br class="">&nbsp;--enable-heterogeneous \<br class="">&nbsp;--enable-mpi-thread-multiple \<br class="">&nbsp;--with-hwloc=internal \<br class="">&nbsp;--without-verbs \<br class="">&nbsp;--with-wrapper-cflags="-std=c11 -m64" \<br class="">&nbsp;--with-wrapper-cxxflags="-m64" \<br class="">&nbsp;--with-wrapper-fcflags="-m64" \<br class="">&nbsp;--enable-debug \<br class="">&nbsp;|&amp; tee log.configure.$SYSTEM_ENV.$MACHINE_ENV.64_gcc<br class=""><br class=""><br class="">...<br class="">&nbsp;CC &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osc_pt2pt_data_move.lo<br class="">../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c: In function 'osc_pt2pt_accumulate_buffer':<br class="">../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c:571:20: error: 'opal_list_item_t' has no member named 'proc_arch'<br class="">&nbsp;&nbsp;&nbsp;&nbsp;if (proc-&gt;super.proc_arch != ompi_proc_local()-&gt;super.proc_arch) {<br class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br class="">../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c:571:58: error: 'opal_list_item_t' has no member named 'proc_arch'<br class="">&nbsp;&nbsp;&nbsp;&nbsp;if (proc-&gt;super.proc_arch != ompi_proc_local()-&gt;super.proc_arch) {<br class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br class="">make[2]: *** [osc_pt2pt_data_move.lo] Error 1<br class="">make[2]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-59-g4e9cea6-SunOS.sparc.64_gcc/ompi/mca/osc/pt2pt'<br class="">make[1]: *** [all-recursive] Error 1<br class="">make[1]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-59-g4e9cea6-SunOS.sparc.64_gcc/ompi'<br class="">make: *** [all-recursive] Error 1<br class="">tyr openmpi-v1.10-dev-59-g4e9cea6-SunOS.sparc.64_gcc 122<span class="Apple-converted-space">&nbsp;</span><br class=""><br class=""><br class=""><br class=""><br class="">...<br class="">&nbsp;CC &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;osc_pt2pt_data_move.lo<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/opal/include/opal/sys/amd64/atomic.h", line 136: warning: parameter in inline asm statement unused: %3<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/opal/include/opal/sys/amd64/atomic.h", line 182: warning: parameter in inline asm statement unused: %2<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/opal/include/opal/sys/amd64/atomic.h", line 203: warning: parameter in inline asm statement unused: %2<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/opal/include/opal/sys/amd64/atomic.h", line 224: warning: parameter in inline asm statement unused: %2<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/opal/include/opal/sys/amd64/atomic.h", line 245: warning: parameter in inline asm statement unused: %2<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c", line 571: improper member use: proc_arch<br class="">"../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c", line 571: improper member use: proc_arch<br class="">cc: acomp failed for ../../../../../openmpi-v1.10-dev-59-g4e9cea6/ompi/mca/osc/pt2pt/osc_pt2pt_data_move.c<br class="">make[2]: *** [osc_pt2pt_data_move.lo] Error 1<br class="">make[2]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-59-g4e9cea6-Linux.x86_64.64_cc/ompi/mca/osc/pt2pt'<br class="">make[1]: *** [all-recursive] Error 1<br class="">make[1]: Leaving directory `/export2/src/openmpi-1.10.0/openmpi-v1.10-dev-59-g4e9cea6-Linux.x86_64.64_cc/ompi'<br class="">make: *** [all-recursive] Error 1<br class="">linpc1 openmpi-v1.10-dev-59-g4e9cea6-Linux.x86_64.64_cc 197<span class="Apple-converted-space">&nbsp;</span><br class=""><br class=""><br class="">I would be grateful, if somebody could fix the problem. Thank<br class="">you very much for any help in advance.<br class=""><br class=""><br class="">Kind regards<br class=""><br class="">Siegmar<br class=""><br class="">_______________________________________________<br class="">users mailing list<br class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/users<br class="">Link to this post: http://www.open-mpi.org/community/lists/users/2015/06/27056.php<br class=""></blockquote></blockquote><br class=""></blockquote><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">_______________________________________________</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">users mailing list</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class=""><a href="mailto:users@open-mpi.org" class="">users@open-mpi.org</a></span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users" class="">http://www.open-mpi.org/mailman/listinfo.cgi/users</a></span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/community/lists/users/2015/06/27083.php" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/community/lists/users/2015/06/27083.php</a></div></blockquote></div><br class=""></div></div></body></html>
