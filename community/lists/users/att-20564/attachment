<html><body><div style="color:#000; background-color:#fff; font-family:arial, helvetica, sans-serif;font-size:10pt"><div>Thanks all. It is now cleared.<br><br></div><div><div><font style="BACKGROUND-COLOR:#ffffff;" color="#0080ff" face="arial, helvetica, sans-serif" size="2"><span style="color:rgb(0, 0, 0);">Regards,</span><br style="color:rgb(0, 0, 0);"><span style="color:rgb(0, 0, 0);">Mahmood</span><b><br></b></font></div></div><div><br></div>  <div style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"> <div style="font-family: times new roman, new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Damien &lt;damien@khubla.com&gt;<br> <b><span style="font-weight: bold;">To:</span></b> Open MPI Users &lt;users@open-mpi.org&gt; <br> <b><span style="font-weight: bold;">Sent:</span></b> Saturday, October 27, 2012 7:25 PM<br> <b><span
 style="font-weight: bold;">Subject:</span></b> Re: [OMPI users] openmpi shared memory feature<br> </font> </div> <br>
Mahmood,<br><br>To build on what Jeff said, here's a short summary of how diskless clusters work:<br><br>A diskless node gets its operating system through a physical network (say gig-E), including the HPC applications and the MPI runtimes, from a master server.&nbsp; That master server isn't the MPI head node, it's a separate OS/Network boot server.&nbsp; That's completely separate from how the MPI applications run.&nbsp; The MPI-based HPC applications on the nodes communicate through a dedicated, faster physical network (say Infiniband).&nbsp; There's two separate networks, one for starting and running nodes and one for doing HPC work.&nbsp; On the same node, MPI processes use shared-memory to communicate, regardless of whether it's diskless or not, it's just part of MPI.&nbsp; Between nodes, MPI processes use that faster, dedicated network, and that's regardless of whether it's diskless or not, it's just part of MPI. The networks are separate because
 it's more efficient.<br><br>Damien<br><br>On 27/10/2012 11:00 AM, Jeff Squyres wrote:<br>&gt; On Oct 27, 2012, at 12:47 PM, Mahmood Naderan wrote:<br>&gt; <br>&gt;&gt;&gt; Because communicating through shared memory when sending messages between processes on the same server is far faster than going through a network stack.<br>&gt;&gt;&nbsp;  I see... But that is not good for diskless clusters. Am I right? assume processes are on a node (which has no disk). In this case, their communication go though network (from computing node to server) then IO and then network again (from server to computing node).<br>&gt; I don't quite understand what you're saying -- what exactly is your distinction between "server" and "computing node"?<br>&gt; <br>&gt; For the purposes of my reply, I use the word "server" to mean "one computational server, possibly containing multiple processors, a bunch of RAM, and possibly one or more disks."&nbsp; For example, a 1U "pizza box"
 style rack enclosure containing the guts of a typical x86-based system.<br>&gt; <br>&gt; You seem to be relating two orthogonal things: whether a server has a disk and how MPI messages flow from one process to another.<br>&gt; <br>&gt; When using shared memory, the message starts in one process, gets copied to shared memory, then then gets copied to the other process.&nbsp; If you use the knem Linux kernel module, we can avoid shared memory in some cases and copy the message directly from one process' memory to the other.<br>&gt; <br>&gt; It's irrelevant as to whether there is a disk or not.<br>&gt; <br><br>_______________________________________________<br>users mailing list<br><a ymailto="mailto:users@open-mpi.org" href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br><br><br> </div> </div>  </div></body></html>
