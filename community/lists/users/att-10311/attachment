<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">I can't speak to the tcp problem, but the following:<div><br></div><div><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><span class="Apple-style-span" style="font-family: monospace; "><div><div><div><div><div>[xserve02.local:43625] [[28627,0],2] orte:daemon:send_relay - recipient list is empty!</div></div></div></div></div></span></div></div></blockquote><div><font class="Apple-style-span" color="#144FAE" face="monospace"><br></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 12px;">is not an error message. It is perfectly normal operation.</span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 12px;"><br></span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 12px;">Ralph</span></font></div><div><font class="Apple-style-span" color="#144FAE" face="monospace"><br></font></div><div><font class="Apple-style-span" color="#144FAE" face="monospace"><br></font></div><div><div>On Aug 11, 2009, at 1:54 PM, Jody Klymak wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hello,<div><br></div><div><br><div><div>On Aug 11, 2009, at &nbsp;8:15 AM, Ralph Castain wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Lucida Sans Typewriter'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; ">You can turn off those mca params I gave you as you are now past that point. I know there are others that can help debug that TCP btl error, but they can help you there.</span></blockquote><br></div><div>Just to eliminate the mitgcm from the debugging I compiled example/hello_c.c&nbsp;and run as:</div><div><br></div><div><font class="Apple-style-span" face="monospace"><div>&nbsp;/usr/local/openmpi/bin/mpirun --debug-daemons -n 8 -host xserve01 hello_c &gt;&amp; hello_c4_1host.txt</div><div><br></div><div>There is no ostensible problem. &nbsp;If I run as:</div></font></div><span class="Apple-style-span" style="font-family: monospace; "><div><br></div><div>/usr/local/openmpi/bin/mpirun --debug-daemons -n 8 -host xserve01,xserve02 hello_c &gt;&amp; hello_c4_2host.txt</div><div><br></div><div>The process says Hello, but hangs at the end, and needs to be killed with ^C.</div><div><br></div><div><div>I then modified connectivity_c to include a printf as MPI is initialized, and hardwired verbose=1. &nbsp;This completes, and appears to work fine..</div><div><br></div></div><div><div>/usr/local/openmpi/bin/mpirun --debug-daemons -n 8 -host xserve01 connectivity_c &gt;&amp; connectivity_c8_1host.txt</div><div><br></div><div>However, again, two hosts sours the mix:</div><div><br></div><div><div>/usr/local/openmpi/bin/mpirun --debug-daemons -n 8 -host xserve01,xserve02 connectivity_c &gt;&amp; connectivity_c8_2host.txt</div><div><br></div><div>This&nbsp;hangs, and after waiting a minute or so we see that rank 0--4 on xserve01 cannot contact rank 5 (presumably on xserve02). &nbsp;</div><div><br></div><div>It seems that I have something wrong in my tcp setup, but communication between these servers worked yesterday using 1.1.5, and ping etc all work fine, so something else is up. &nbsp;Some sort of port permissions? &nbsp;</div><div><br></div><div>Th most glaring error I see in these is:</div><div><div><div><br></div><div>[xserve02.local:43625] [[28627,0],2] orte:daemon:send_relay - recipient list is empty!</div><div><br></div><div>I see reference in the archives to a similar error where "contacts.txt" could not be found. &nbsp;I've had trouble with 10.5.7 with temporary directories, so maybe that is the issue?</div></div></div><div><br></div><div>Thanks Jody</div><div><br></div><div></div></div></div></span></div><span>&lt;hello_c8_1host.txt&gt;</span></div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><span class="Apple-style-span" style="font-family: monospace; "><div><div><div></div></div></div></span></div><span>&lt;hello_c8_2host.txt&gt;</span></div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><span class="Apple-style-span" style="font-family: monospace; "><div><div><div></div></div></div></span></div><span>&lt;connectivity_c8_1host.txt&gt;</span></div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><span class="Apple-style-span" style="font-family: monospace; "><div><div><div></div></div></div></span></div><span>&lt;connectivity_c8_2host.txt&gt;</span></div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><span class="Apple-style-span" style="font-family: monospace; "><div><div><div></div></div><div><br></div></div><div><br></div></span><div apple-content-edited="true"> <span class="Apple-style-span" style="font-size: 12px; "><div style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><span class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Lucida Sans Typewriter; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><div>--</div><div>Jody Klymak &nbsp; &nbsp;</div><div><a href="http://web.uvic.ca/~jklymak/">http://web.uvic.ca/~jklymak/</a></div><div><br class="khtml-block-placeholder"></div><div><br class="khtml-block-placeholder"></div><br class="Apple-interchange-newline"></span></div></span> </div><br></div></div>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users</blockquote></div><br></div></body></html>
