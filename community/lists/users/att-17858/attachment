<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">This has come up before - I would suggest doing a quick search of "ec2" on our user list. Here is one solution:<div><br></div><div>On Jun 14, 2011, at 10:50 AM, Barnet Wagman wrote:<br><br><blockquote type="cite">I've put together a simple system for running OMPI on EC2 (Amazon's cloud computing service). &nbsp;If you're interested, see&nbsp;<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><a href="http://norbl.com/ppe-ompi.html">http://norbl.com/ppe-ompi.html</a><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Barnet Wagman<br></blockquote><div><br></div><div><br></div><div><br></div><div><div>On Nov 30, 2011, at 4:03 AM, Jaison Paul wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div><br>Ralph Castain &lt;rhc &lt;at&gt; <a href="http://open-mpi.org">open-mpi.org</a>&gt; writes:<br><br><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">On Nov 24, 2011, at 2:00 AM, Reuti wrote:<br></blockquote><blockquote type="cite"><br></blockquote><br><br>Thanks a lot to Ralph and Reuti.<br><br>Actually we are trying to use EC2 nodes as compute nodes and my local PC as host<br>node. <br><br>Happy to know that it is OK to use user&lt;at&gt;somehost.com<br><br>We used that but failed. Would try again. <br><br>Yes, we have set up .ssh file on remote EC2 hosts. Is there anything else that<br>we should be taking care of when dealing with EC2?<br><br>Jaison<br><br><br><blockquote type="cite"><blockquote type="cite">Hi,<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">Am 24.11.2011 um 05:26 schrieb Jaison Paul:<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">I am trying to access OpenMPI processes over Internet using ssh and not<br></blockquote></blockquote></blockquote>quite successful, yet. I believe<br><blockquote type="cite">that I should be able to do it.<br></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">I have to run one process on my PC and the rest on a remote cluster over<br></blockquote></blockquote></blockquote>internet. I have set the public keys<br><blockquote type="cite">(at .ssh/authorized_keys) to access remote nodes without a password.<br></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">I use hostfile to run mpi. It will read something like:<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">-----------------------------<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">localhost<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">user &lt;at&gt; <a href="http://remotehost.com">remotehost.com</a><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">this is not a valid syntax for Open MPI.<br></blockquote></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">This isn't correct - we have long supported that syntax in a hostfile, and<br></blockquote>there is no issue with having a<br><blockquote type="cite">different user name at each node.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Jaison: are you sure your nodes are setup for password-less ssh? In other<br></blockquote>words, have you setup your .ssh<br><blockquote type="cite">files on the remote nodes so they will allow us to ssh a process on them<br></blockquote>without providing a password? This is<br><blockquote type="cite">the typical problem we see.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">-----------------------------<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">But it fails.<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">The issue seems to be the user! That is, the user on my PC is different to<br></blockquote></blockquote></blockquote>that of user at remotehosts. That's<br><blockquote type="cite">my assumption.<br></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Is this the problem? Is there any work-around to solve this issue? Do I<br></blockquote></blockquote></blockquote>need to have same username at all<br><blockquote type="cite">nodes to solve this issue?<br></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">You can define nicknames for an ssh connection in a file ~/.ssh/config like:<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">Host foobar<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;User baz<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;Hostname the.remote.server.demo<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;Port 1234<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">While this will work with any nickname for an ssh connection, in your case<br></blockquote></blockquote>the nickname must match the one<br><blockquote type="cite">specified in the hostfile, as Open MPI won't use this lookup file:<br></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">Host <a href="http://remotehost.com">remotehost.com</a><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"> &nbsp;&nbsp;User user<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">ssh should then use the entries therein to initiate the connection. For<br></blockquote></blockquote>details you can have a look at `man ssh_config`.<br><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">-- Reuti<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">_______________________________________________<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">users mailing list<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">users &lt;at&gt; <a href="http://open-mpi.org">open-mpi.org</a><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br></blockquote></blockquote><blockquote type="cite"><br></blockquote><br><br><br><br>_______________________________________________<br>users mailing list<br><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/users<br></div></blockquote></div><br></div></body></html>
