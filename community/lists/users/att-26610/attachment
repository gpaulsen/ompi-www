<div dir="ltr"><div class="gmail_default" style="font-family:tahoma,sans-serif">Hello,</div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default" style="font-family:tahoma,sans-serif">I am converting an existing MPI program in C++ to Java using OpenMPI 1.8.4,</div><div class="gmail_default" style="font-family:tahoma,sans-serif">At some point I have a allToAllv() code which works fine in C++ but receives error in Java version:</div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default"><div class="gmail_default" style="font-family:tahoma,sans-serif">MPI.COMM_WORLD.allToAllv(data, subpartition_size, subpartition_offset, <a href="http://MPI.INT">MPI.INT</a>,</div><div class="gmail_default" style="font-family:tahoma,sans-serif">data2,subpartition_size2,subpartition_offset2,<a href="http://MPI.INT">MPI.INT</a>);</div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default" style="font-family:tahoma,sans-serif">Error:</div><div class="gmail_default"><div class="gmail_default"><font face="monospace, monospace">*** An error occurred in MPI_Alltoallv</font></div><div class="gmail_default"><font face="monospace, monospace">*** reported by process [3621322753,9223372036854775811]</font></div><div class="gmail_default"><font face="monospace, monospace">*** on communicator MPI_COMM_WORLD</font></div><div class="gmail_default"><font face="monospace, monospace">*** MPI_ERR_TRUNCATE: message truncated</font></div><div class="gmail_default"><font face="monospace, monospace">*** MPI_ERRORS_ARE_FATAL (processes in this communicator will now abort,</font></div><div class="gmail_default"><font face="monospace, monospace">***    and potentially your MPI job)</font></div><div class="gmail_default"><font face="monospace, monospace">3 more processes have sent help message help-mpi-errors.txt / mpi_errors_are_fatal</font></div><div class="gmail_default"><font face="monospace, monospace">Set MCA parameter &quot;orte_base_help_aggregate&quot; to 0 to see all help / error messages</font></div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default" style="font-family:tahoma,sans-serif">Here are the values for parameters:</div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default" style="font-family:tahoma,sans-serif">data.length = 5</div><div class="gmail_default" style="font-family:tahoma,sans-serif">data2.length = 20</div><div class="gmail_default" style="font-family:tahoma,sans-serif"><br></div><div class="gmail_default" style="font-family:tahoma,sans-serif"><div class="gmail_default">---------- Rank 0 of 4 ----------</div><div class="gmail_default">subpartition_offset:0,2,3,3,</div><div class="gmail_default">subpartition_size:2,1,0,2,</div><div class="gmail_default">subpartition_offset2:0,5,10,15,</div><div class="gmail_default">subpartition_size2:5,5,5,5,</div><div class="gmail_default">----------</div><div class="gmail_default">---------- Rank 1 of 4 ----------</div><div class="gmail_default">subpartition_offset:0,2,3,4,</div><div class="gmail_default">subpartition_size:2,1,1,1,</div><div class="gmail_default">subpartition_offset2:0,5,10,15,</div><div class="gmail_default">subpartition_size2:5,5,5,5,</div><div class="gmail_default">----------</div><div class="gmail_default">---------- Rank 2 of 4 ----------</div><div class="gmail_default">subpartition_offset:0,1,2,3,</div><div class="gmail_default">subpartition_size:1,1,1,2,</div><div class="gmail_default">subpartition_offset2:0,5,10,15,</div><div class="gmail_default">subpartition_size2:5,5,5,5,</div><div class="gmail_default">----------</div><div class="gmail_default">---------- Rank 3 of 4 ----------</div><div class="gmail_default">subpartition_offset:0,1,2,4,</div><div class="gmail_default">subpartition_size:1,1,2,1,</div><div class="gmail_default">subpartition_offset2:0,5,10,15,</div><div class="gmail_default">subpartition_size2:5,5,5,5,</div><div class="gmail_default">----------</div><div><br></div><div>Again, this is a code which works in C++ version.</div><div><br></div><div>Any help or advice is greatly appreciated.</div><div><br></div><div>Thanks,</div><div>-- HR</div></div></div></div></div>

