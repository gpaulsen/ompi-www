Tim,<br>thanks for your suggestions. <br>There seems to be something wrong with the PATH:<br>jody@aim-nano_02 ~/progs $ ssh <a href="http://130.60.49.128">130.60.49.128</a> printenv | grep PATH<br>PATH=/usr/bin:/bin:/usr/sbin:/sbin
<br><br>which i don&#39;t understand. Logging via ssh into <a href="http://130.60.49.128">130.60.49.128</a> i get:<br><br>jody@aim-nano_02 ~/progs $ ssh <a href="http://130.60.49.128">130.60.49.128</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>Last login: Mon Jul&nbsp;&nbsp;9 18:26:11 2007 from 
<a href="http://130.60.49.129">130.60.49.129</a><br>jody@aim-nano_00 ~ $ cat .bash_profile <br># /etc/skel/.bash_profile<br><br># This file is sourced by bash for login shells.&nbsp;&nbsp;The following line<br># runs your .bashrc and is recommended by the bash info pages.
<br>[[ -f ~/.bashrc ]] &amp;&amp; . ~/.bashrc<br><br>PATH=/opt/openmpi/bin:$PATH<br>export PATH<br>LD_LIBRARY_PATH=/opt/openmpi/lib:$LD_LIBRARY_PATH<br>export LD_LIBRARY_PATH<br><br><br>jody@aim-nano_00 ~ $ echo $PATH<br>
/opt/openmpi/bin:/opt/openmpi/bin:/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/3.4.5:/opt/sun-jdk-1.4.2.10/bin:/opt/sun-jdk-1.4.2.10/jre/bin:/opt/sun-jdk-1.4.2.10/jre/javaws:/usr/qt/3/bin<br><br>(aim-nano_00 is the name of 
<a href="http://130.60.49.128">130.60.49.128</a>)<br>So why is the path set when i ssh by hand,<br>but not otherwise?<br><br>The suggestion with&nbsp;&nbsp;the --prefix option also didn&#39;t work:<br>jody@aim-nano_02 /home/aim-cari/jody $ mpirun -np 2 --prefix /opt/openmpi --hostfile hostfile ./a.out
<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59
<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59<br>[aim-nano_02:13733] [0,0,0] ORTE_ERROR_LOG: Data unpack failed in file dss/dss_peek.c at line 59
<br><br>(after which the thing seems to hang....)<br><br>If i use the aim-nano_02 (<a href="http://130.60.49.130">130.60.49.130</a>) instead of a hostfile,<br>jody@aim-nano_02 /home/aim-cari/jody $ mpirun -np 2 --prefix /opt/openmpi --host 
<a href="http://130.60.49.130">130.60.49.130</a> ./a.out<br>it works, as it does if i run it on the machine itself the standard way<br>jody@aim-nano_02 /home/aim-cari/jody $ mpirun -np 2&nbsp;&nbsp;--host <a href="http://130.60.49.130">
130.60.49.130</a> ./a.out<br><br>Is there anything else i could try?<br><br>Jody<br><br>On 7/9/07, Tim Prins &lt;<a href="mailto:tprins@open-mpi.org">tprins@open-mpi.org</a>&gt; wrote:<br>&gt; jody wrote:<br>&gt; &gt; Hi Tim
<br>&gt; &gt; (I accidentally sent the previous message before it was ready - here&#39;s<br>&gt; &gt; the complete one)<br>&gt; &gt; Thank You for your reply.<br>&gt; &gt; Unfortunately my workstation, on which i could successfully run openmpi
<br>&gt; &gt; applications, has died. But one my replacement machine (which<br>&gt; &gt; i assume i have setup in an equivalent way) i now get errors even when i try<br>&gt; &gt; to run an openmpi application in a simple way:
<br>&gt; &gt;<br>&gt; &gt; jody@aim-nano_02 /home/aim-cari/jody $&nbsp;&nbsp;mpirun -np 2 --hostfile hostfile ./a.out<br>&gt; &gt; bash: orted: command not found<br>&gt; &gt; [aim-nano_02:22145] ERROR: A daemon on node <a href="http://130.60.49.129">
130.60.49.129</a> failed to<br>&gt; &gt; start as expected.<br>&gt; &gt; [aim-nano_02:22145] ERROR: There may be more information available from<br>&gt; &gt; [aim-nano_02:22145] ERROR: the remote shell (see above).<br>&gt; &gt; [aim-nano_02:22145] ERROR: The daemon exited unexpectedly with status 127.
<br>&gt; &gt; [aim-nano_02:22145] ERROR: A daemon on node <a href="http://130.60.49.128">130.60.49.128</a> failed to<br>&gt; &gt; start as expected.<br>&gt; &gt; [aim-nano_02:22145] ERROR: There may be more information available from
<br>&gt; &gt; [aim-nano_02:22145] ERROR: the remote shell (see above).<br>&gt; &gt; [aim-nano_02:22145] ERROR: The daemon exited unexpectedly with status 127.<br>&gt; &gt;<br>&gt; &gt; However, i set PATH and LD_LIBRARY_PATH to the correct paths both in
<br>&gt; &gt; .bashrc AND .bash_profile.<br>&gt; I assume you are using bash. You might try changing your .profile as well.<br>&gt; <br>&gt; &gt;<br>&gt; &gt; For example:<br>&gt; &gt; jody@aim-nano_02 /home/aim-cari/jody $ ssh 
<a href="http://130.60.49.128">130.60.49.128</a> echo $PATH<br>&gt; &gt; /opt/openmpi/bin:/usr/local/bin:/usr/bin:/bin:/opt/bin:/usr/i686-pc-linux-gnu/gcc-bin/4.1.2:/opt/sun-jdk-1.4.2.10/bin:/opt/sun-jdk-1.4.2.10/jre/bin:/opt/sun-
jdk-1.4.2.10/jre/javaws:/usr/qt/3/bin<br>&gt; <br>&gt; When you do this, $PATH gets interpreted on the local host, not the<br>&gt; remote host. Try instead:<br>&gt; <br>&gt; ssh <a href="http://130.60.49.128">130.60.49.128
</a> printenv |grep PATH<br>&gt; <br>&gt; &gt;<br>&gt; &gt; But:<br>&gt; &gt; jody@aim-nano_02 /home/aim-cari/jody $ ssh <a href="http://130.60.49.128">130.60.49.128</a> orted<br>&gt; &gt; bash: orted: command not found<br>
&gt; &gt;<br>&gt; You could also do:<br>&gt; ssh <a href="http://130.60.49.128">130.60.49.128</a> which orted<br>&gt; <br>&gt; This will show you the paths it looked in for the orted.<br>&gt; <br>&gt; &gt; Do You have any suggestions?
<br>&gt; To avoid dealing with paths (assuming everything is installed in the<br>&gt; same directory on all nodes) you can also try the suggestion here<br>&gt; (although I think that once it is setup modifying PATHs is the easier
<br>&gt; way to go, less typing :):<br>&gt; <a href="http://www.open-mpi.org/faq/?category=running#mpirun-prefix">http://www.open-mpi.org/faq/?category=running#mpirun-prefix</a><br>&gt; <br>&gt; <br>&gt; Hope this helps,<br>
&gt; <br>&gt; Tim<br>&gt; &gt;<br>&gt; &gt; Thank You<br>&gt; &gt;&nbsp;&nbsp;Jody<br>&gt; &gt;<br>&gt; &gt; On 7/9/07, Tim Prins &lt;<a href="mailto:tprins@open-mpi.org">tprins@open-mpi.org</a>&gt; wrote:<br>&gt; &gt;&gt; Hi Jody,
<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; Sorry for the super long delay. I don&#39;t know how this one got lost...<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; I run like this all the time. Unfortunately, it is not as simple as I<br>&gt; &gt;&gt; would like. Here is what I do:
<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; 1. Log into the machine using ssh -X<br>&gt; &gt;&gt; 2. Run mpirun with the following parameters:<br>&gt; &gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -mca pls rsh&nbsp;&nbsp;(This makes sure that Open MPI uses the rsh/ssh launcher.
<br>&gt; &gt;&gt; It may not be necessary depending on your setup)<br>&gt; &gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -mca pls_rsh_agent &quot;ssh -X&quot; (To make sure X information is forwarded.<br>&gt; &gt;&gt; This might not be necessary if you have ssh setup to always forward X
<br>&gt; &gt;&gt; information)<br>&gt; &gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --debug-daemons (This ensures that the ssh connections to the backed<br>&gt; &gt;&gt; nodes are kept open. Otherwise, they are closed and X information cannot<br>&gt; &gt;&gt; be forwarded. Unfortunately, this will also cause some debugging output
<br>&gt; &gt;&gt; to be printed, but right now there is no other way :( )<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; So, the complete command is:<br>&gt; &gt;&gt; mpirun -np 4 -mca pls rsh -mca pls_rsh_agent &quot;ssh -X&quot; --debug-daemons
<br>&gt; &gt;&gt; xterm -e gdb my_prog<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; I hope this helps. Let me know if you are still experiencing problems.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; Tim<br>&gt; &gt;&gt;<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; jody wrote:
<br>&gt; &gt;&gt;&gt; Hi<br>&gt; &gt;&gt;&gt; For debugging i usually run each process in a separate X-window.<br>&gt; &gt;&gt;&gt; This works well if i set the DISPLAY variable to the computer<br>&gt; &gt;&gt;&gt; from which i am starting my OpenMPI application.
<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; This method fails however, if i log in (via ssh) to my workstation<br>&gt; &gt;&gt;&gt; from a third computer and then start my OpenMPI application,<br>&gt; &gt;&gt;&gt; only the processes running on the workstation i logged into can
<br>&gt; &gt;&gt;&gt; open their windows on the third computers. The processes on<br>&gt; &gt;&gt;&gt; the other computers cant open their windows.<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; This is how i start the processes
<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; mpirun -np 4 -x DISPLAY run_gdb.sh ./TestApp<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; where run_gdb.sh looks like this<br>&gt; &gt;&gt;&gt; -------------------------<br>&gt; &gt;&gt;&gt; #!/bin/csh -f
<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; echo &quot;Running GDB on node `hostname`&quot;<br>&gt; &gt;&gt;&gt; xterm -e gdb $*<br>&gt; &gt;&gt;&gt; exit 0<br>&gt; &gt;&gt;&gt; -------------------------<br>&gt; &gt;&gt;&gt; The output from the processes on the other computer:
<br>&gt; &gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; xterm Xt error: Can&#39;t open display: localhost:12.0<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; I there a way to tell OpenMPI to forward the X windows<br>&gt; &gt;&gt;&gt; over yet another ssh connection?
<br>&gt; &gt;&gt;&gt;<br>&gt; &gt;&gt;&gt; Thanks<br>&gt; &gt;&gt;&gt;&nbsp;&nbsp; Jody<br>&gt; &gt;&gt;&gt; _______________________________________________<br>&gt; &gt;&gt;&gt; users mailing list<br>&gt; &gt;&gt;&gt; <a href="mailto:users@open-mpi.org">
users@open-mpi.org</a><br>&gt; &gt;&gt;&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>&gt; &gt;&gt; _______________________________________________
<br>&gt; &gt;&gt; users mailing list<br>&gt; &gt;&gt; <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; &gt;&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users
</a><br>&gt; &gt;&gt;<br>&gt; &gt; _______________________________________________<br>&gt; &gt; users mailing list<br>&gt; &gt; <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; &gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">
http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>&gt; <br>&gt; _______________________________________________<br>&gt; users mailing list<br>&gt; <a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br>&gt; 
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/mailman/listinfo.cgi/users</a><br>&gt; <br>

