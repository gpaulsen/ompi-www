<div dir="ltr">Hi all,<div><br></div><div>I wanted to setup a 3-node ring network, each connects to the other 2 using 2 Ethernet ports directly without a switch/router.</div><div><br></div><div>The interface configurations could be found in the following picture.</div><div><br></div><div><a href="https://www.dropbox.com/s/g75i51rrjs51b21/mpi-graph%20-%20New%20Page.png?dl=0">https://www.dropbox.com/s/g75i51rrjs51b21/mpi-graph%20-%20New%20Page.png?dl=0</a></div><div><br></div><div>I&#39;ve used <i>ifconfig </i>on each node to configure each port, and made sure I can ssh from each node to the other 2 nodes.</div><div><br></div><div>But a simple<a href="https://github.com/open-mpi/ompi/blob/master/examples/ring_c.c"> ring_c</a> example doesn&#39;t work... So I turn on  --mca btl_base_verbose 30, I could see that node1 was trying to use 23.0.0.2  (linke between node2 and 3) to get to node2 though there is a direct link to node 2. </div><div><br></div><div>The output log is like:</div><div><br></div><div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">[node1:01828] btl: tcp: attempting to connect() to [[19529,1],1] address 23.0.0.2 on port 1024<br>[[19529,1],0][btl_tcp_endpoint.c:606:mca_btl_tcp_endpoint_start_connect] from node1 to: node2 Unable to connect to the peer 23.0.0.2  on port 4: Network is unreachable</blockquote></div><div><br></div><div>I&#39;ve read the following posts and FAQs but still couldn&#39;t understand this kind of behavior.</div><div><br></div><div><a href="http://www.open-mpi.org/faq/?category=tcp#tcp-routability-1.3" target="_blank">http://www.open-mpi.org/faq/?category=tcp#tcp-routability-1.3</a></div><div><a href="http://www.open-mpi.org/faq/?category=tcp#tcp-selection" target="_blank">http://www.open-mpi.org/faq/?category=tcp#tcp-selection</a><br></div><div><a href="http://www.open-mpi.org/community/lists/users/2014/11/25810.php">http://www.open-mpi.org/community/lists/users/2014/11/25810.php</a><br></div><div><br></div><div><br></div><div>Any pointers would be appreciated! Thanks in advance!</div><div><br></div><div>My open-mpi info:</div><div><br></div><div><div><font size="1"> Package: Open MPI gtbldadm@ubuntu-12 Distribution</font></div><div><font size="1">                Open MPI: 1.0.0.22</font></div><div><font size="1">  Open MPI repo revision: git714842d</font></div><div><font size="1">   Open MPI release date: May 27, 2015</font></div><div><font size="1">                Open RTE: 1.0.0.22</font></div><div><font size="1">  Open RTE repo revision: git714842d</font></div><div><font size="1">   Open RTE release date: May 27, 2015</font></div><div><font size="1">                    OPAL: 1.0.0.22</font></div><div><font size="1">      OPAL repo revision: git714842d</font></div><div><font size="1">       OPAL release date: May 27, 2015</font></div><div><font size="1">                 MPI API: 2.1</font></div></div><div><br></div><div><br></div><div>Best,</div><div>Shawn</div><div><br></div><font face="yw-78311a38f4972aa4b84c8d2f70b767e8d79e2626-acb25b4662ef9e8adf8ea8ffaf50b090--o" style="display: none;"></font></div>

