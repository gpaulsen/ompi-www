<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; ">Dear Brian,<DIV><BR class="khtml-block-placeholder"></DIV><DIV>The file</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>/openmpi-1.0rc3/contrib/dist/macosx-pkg/buildpackage.sh</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>has a symbol TMP_DIR which is undefined.  Replacing TMP_DIR with  BUILD_TMP lead to a dmg file</DIV><DIV>which installed without a problem on my Apple dual G5 tower:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV> mighell% ./buildpackage.sh ~/pkg/openmpi/src/openmpi-1.0rc3.tar.gz ~/pkg/openmpi/</DIV><DIV>--&gt; Configuration options:</DIV><DIV>    Package Name:   openmpi</DIV><DIV>    Prefix:         /Users/mighell/pkg/openmpi/</DIV><DIV>    Boot:           ssh</DIV><DIV>    Config Options: --disable-f77 --without-cs-fs</DIV><DIV>--&gt; Found tarball: /Users/mighell/pkg/openmpi/src/openmpi-1.0rc3.tar.gz</DIV><DIV>--&gt; Found OMPI version: 1.0rc3</DIV><DIV>--&gt; Cleaning environment</DIV><DIV>--&gt; Making play space: /tmp/buildpackage-6446</DIV><DIV>--&gt; Copying tarball</DIV><DIV>--&gt; Untarring source: tar xzf openmpi-1.0rc3.tar.gz</DIV><DIV>--&gt; Running configure: ./configure --prefix=/Users/mighell/pkg/openmpi/ --with-rsh=ssh --disable-f77 --without-cs-fs</DIV><DIV>--&gt; Building: make all</DIV><DIV>--&gt; Installing:</DIV><DIV>--&gt; Copying in special files: README /Users/mighell/pkg/openmpi/src/openmpi-1.0rc3/contrib/dist/macosx-pkg/ReadMe.rtf LICENSE</DIV><DIV>--&gt; Creating Package Info:</DIV><DIV>--&gt; Copying OS X-specific ReadMe into package</DIV><DIV>--&gt; Creating pax file</DIV><DIV>--&gt; Compressing pax file</DIV><DIV>--&gt; Creating bom file</DIV><DIV>--&gt; Generating sizes file:</DIV><DIV>NumFiles      207</DIV><DIV>InstalledSize 7504</DIV><DIV>CompressedSize 7504</DIV><DIV>--&gt; Creating Disc Image</DIV><DIV>--&gt; Copying Package to Disc Image</DIV><DIV>--&gt; Ejecting R/W disk: hdiutil eject /dev/disk2s2        </DIV><DIV>--&gt; Resizing: hdiutil resize "/tmp/buildpackage-6446/openmpi-1.0rc3RW.dmg" -sectors min</DIV><DIV>--&gt; Converting to R-O: hdiutil convert "/tmp/buildpackage-6446/openmpi-1.0rc3RW.dmg" -format UDRO -o "/tmp/openmpi-1.0rc3.dmg"</DIV><DIV>--&gt; Compressing disk image</DIV><DIV>--&gt; Cleaning up the staging directory</DIV><DIV>--&gt; Done.  Package is at: /tmp/openmpi-1.0rc3.dmg.gz</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Thanks,</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>-Ken</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>---------------------------------------------------------------------------------------------------------</DIV><DIV>Kenneth Mighell, Associate Scientist            E-mail: ............. <A href="mailto:mighell@noao.edu">mighell@noao.edu</A></DIV><DIV>Kitt Peak National Observatory                     Phone: .................. 520-318-8391</DIV><DIV>National Optical Astronomy Observatory      Fax: .................... 520-318-8360</DIV><DIV>P.O. Box 26732, Tucson, AZ  85726-6732   URL: <A href="http://www.noao.edu/staff/mighell">http://www.noao.edu/staff/mighell</A></DIV><DIV><BR><DIV><DIV>On Oct 12, 2005, at 4:13 PM, Ken Mighell wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite">Dear Brian,<DIV><BR class="khtml-block-placeholder"></DIV><DIV>Previously my CC environment variable was set to cc:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>mighell% printenv CC</DIV><DIV>cc</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I then set the CC environment variable to gcc:</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>mighell% setenv CC gcc</DIV><DIV>mighell% printenv CC</DIV><DIV>gcc</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>and then tried to build the package</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>mighell% ./buildpackage.sh ~/pkg/openmpi/src/openmpi-1.0rc3.tar.gz ~/pkg/openmpi/</DIV><DIV>--&gt; Configuration options:</DIV><DIV>    Package Name:   openmpi</DIV><DIV>    Prefix:         /Users/mighell/pkg/openmpi/</DIV><DIV>    Boot:           ssh</DIV><DIV>    Config Options: --disable-f77 --without-cs-fs</DIV><DIV>--&gt; Found tarball: /Users/mighell/pkg/openmpi/src/openmpi-1.0rc3.tar.gz</DIV><DIV>--&gt; Found OMPI version: 1.0rc3</DIV><DIV>--&gt; Cleaning environment</DIV><DIV>--&gt; Making play space: /tmp/buildpackage-1930</DIV><DIV>--&gt; Copying tarball</DIV><DIV>--&gt; Untarring source: tar xzf openmpi-1.0rc3.tar.gz</DIV><DIV>--&gt; Running configure: ./configure --prefix=/Users/mighell/pkg/openmpi/ --with-rsh=ssh --disable-f77 --without-cs-fs</DIV><DIV>--&gt; Building: make all</DIV><DIV>--&gt; Installing:</DIV><DIV>--&gt; Copying in special files: README /Users/mighell/pkg/openmpi/src/openmpi-1.0rc3/contrib/dist/macosx-pkg/ReadMe.rtf LICENSE</DIV><DIV>touch: /disk.out: Permission denied</DIV><DIV>--&gt; Creating Package Info:</DIV><DIV>--&gt; Copying OS X-specific ReadMe into package</DIV><DIV>--&gt; Creating pax file</DIV><DIV>./buildpackage.sh: line 259: /disk.out: Permission denied</DIV><DIV>*** Failed building pax file.  Aborting!</DIV><DIV>*** Check /disk.out for information</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>The output file disk.out apparently does not exist; I could not find any file called disk.out on my machine.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>-Ken</DIV></BLOCKQUOTE></DIV><FONT class="Apple-style-span" color="#0000DD"></FONT></DIV></BODY></HTML>
