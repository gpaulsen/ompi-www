<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Hi there,<div><br></div><div>My application uses MPI to run parallel jobs on a single node, so I have no need of any support for communication between nodes. &nbsp;However, when I use mpirun to launch my application I see strange errors such as:</div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">--------------------------------------------------------------------------</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">No network interfaces were found for out-of-band communications. We require</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">at least one available network for out-of-band messaging.</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">--------------------------------------------------------------------------</div></div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">[nid23206:10697] [[33772,1],0] ORTE_ERROR_LOG: Unable to open a TCP socket for out-of-band communications in file oob_tcp_listener.c at line 113</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">[nid23206:10697] [[33772,1],0] ORTE_ERROR_LOG: Unable to open a TCP socket for out-of-band communications in file oob_tcp_component.c at line 584</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">--------------------------------------------------------------------------</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">It looks like orte_init failed for some reason; your parallel process is</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">likely to abort.&nbsp; There are many reasons that a parallel process can</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">fail during orte_init; some of which are due to configuration or</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">environment problems.&nbsp; This failure appears to be an internal failure;</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">here's some additional information (which may only be relevant to an</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">Open MPI developer):</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0); min-height: 11px;"><br></div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">&nbsp; orte_oob_base_select failed</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">&nbsp; --&gt; Returned value (null) (-43) instead of ORTE_SUCCESS</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">--------------------------------------------------------------------------</div></div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/home/leeping/opt/qchem-4.2/ext-libs/openmpi/lib/libmpi.so.1(+0xfeaa9)[0x2b77e9de5aa9]</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">/home/leeping/opt/qchem-4.2/ext-libs/openmpi/lib/libmpi.so.1(ompi_btl_openib_connect_base_select_for_local_port+0xd0)[0x2b77e9de13a0]</div></div><div><br></div><div>It seems like in each case, OpenMPI is trying to use some feature related to networking and crashing as a result. &nbsp;My workaround is to deduce the components that are crashing and disable them in my environment variables like this:</div><div><br></div><div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">export OMPI_MCA_btl=self,sm</div><div style="margin: 0px; font-size: 10px; font-family: Menlo; color: rgb(245, 245, 245); background-color: rgb(0, 0, 0);">export OMPI_MCA_oob=^tcp</div></div><div><br></div><div>Is there a better way to do this - i.e. explicitly prohibit OpenMPI from using any network-related feature and run only on the local node?</div><div><br></div><div>Thanks,</div><div><br></div><div>- Lee-Ping</div><div><br></div></body></html>
