<div dir="ltr"><div style="font-family:arial,sans-serif;font-size:13px">Hi,</div><div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">I am evaluating the performance of a clustering program written in Java with MPI+threads and would like to get some insight in solving a peculiar case. I&#39;ve attached a performance graph to explain this.<br>
</div><div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">In essence the tests were carried out as TxPxN, where T is threads per process, P is processes per node, and N is number of nodes. I noticed an inefficiency with Tx<b>1</b>xN cases in general (tall bars in graph).</div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">To elaborate a bit further, </div><div style="font-family:arial,sans-serif;font-size:13px">1. each node has 2 sockets with 4 cores each (totaling 8 cores) </div>
<div style="font-family:arial,sans-serif;font-size:13px">2. used OpenMPI 1.7.5rc5 (later tested with 1.8 and observed the same)</div><div style="font-family:arial,sans-serif;font-size:13px">3. with options</div><div style="font-family:arial,sans-serif;font-size:13px">
     A.) --map-by node:PE=4 and --bind-to core</div><div style="font-family:arial,sans-serif;font-size:13px">     B.) --map-by node:PE=8 and --bind-to-core</div><div style="font-family:arial,sans-serif;font-size:13px">     C.) --map-by socket and --bind-to none</div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Timing of A,B,C came out as A &lt; B &lt; C, so used results from option A for Tx<b>1</b>xN in the graph. </div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Could you please give some suggestion that may help to speed up these Tx<b>1</b>xN cases? Also, I expected B to perform better than A as threads could utilize all 8 cores, but it wasn&#39;t the case.</div>
<div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px">Thank you,</div><div style="font-family:arial,sans-serif;font-size:13px">Saliya</div><div style="font-family:arial,sans-serif;font-size:13px">
<br></div><div style="font-family:arial,sans-serif;font-size:13px"><br></div><div style="font-family:arial,sans-serif;font-size:13px"><img src="cid:ii_14519286c620e663" alt="Inline image 1" width="564" height="445" class=""></div>
<div><br></div>-- <br><div dir="ltr"><span style="color:rgb(136,136,136)">Saliya Ekanayake <a href="mailto:esaliya@gmail.com" target="_blank">esaliya@gmail.com</a></span><span style="color:rgb(136,136,136)"> </span><br style="color:rgb(136,136,136)">
<span style="color:rgb(136,136,136)">Cell 812-391-4914 Home 812-961-6383</span><br style="color:rgb(136,136,136)"><font color="#888888"><a href="http://saliya.org" target="_blank">http://saliya.org</a></font></div>
</div>

