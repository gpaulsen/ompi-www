<br><br><div><span class="gmail_quote">On 5/30/06, <b class="gmail_sendername">Brian Barrett</b> &lt;<a href="mailto:brbarret@open-mpi.org">brbarret@open-mpi.org</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
On May 28, 2006, at 8:48 AM, Justin Bronder wrote:<br><br>&gt; Brian Barrett wrote:<br>&gt;&gt; On May 27, 2006, at 10:01 AM, Justin Bronder wrote:<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;&gt; I've attached the required logs.&nbsp;&nbsp;Essentially the problem seems to
<br>&gt;&gt;&gt; be that the XL Compilers fail to recognize &quot;__asm__ __volatile__&quot; in<br>&gt;&gt;&gt; opal/include/sys/powerpc/atomic.h when building 64-bit.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; I've tried using various xlc wrappers such as gxlc and xlc_r to
<br>&gt;&gt;&gt; no avail.&nbsp;&nbsp;The current log uses xlc_r_64 which is just a one line<br>&gt;&gt;&gt; shell script forcing the -q64 option.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; The same works flawlessly with gcc-4.1.0.&nbsp;&nbsp;I'm using the nightly
<br>&gt;&gt;&gt; build in order to link with Torque's new shared libraries.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; Any help would be greatly appreciated.&nbsp;&nbsp;For reference here are<br>&gt;&gt;&gt; a few other things that may provide more information.
<br>&gt;&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; Can you send the config.log file generated by configure?&nbsp;&nbsp;What else<br>&gt;&gt; is in the xlc_r_64 shell script, other than the -q64 option?<br><br>&gt; I've attached the config.log
, and here's what all of the *_64 scripts<br>&gt; look like.<br><br>Can you try compiling without the -qkeyword=__volatile__?&nbsp;&nbsp;It looks<br>like XLC now has some support for GCC-style inline assembly, but it<br>doesn't seem to be working in this case.&nbsp;&nbsp;If that doesn't work, try
<br>setting CFLAGS and CXXFLAGS to include -qnokeyword=asm, which should<br>disable GCC inline assembly entirely.&nbsp;&nbsp;I don't have access to a linux<br>cluster with the XL compilers, so I can't verify this.&nbsp;&nbsp;But it should<br>
work.<br><br>Brian</blockquote><div><br>
No good sadly.&nbsp; The same error continues to appear.&nbsp; I had actually initially<br>
attempted to&nbsp; compile without -qkeyword=__volatile__, but had hoped to<br>
force xlc to recognize it.&nbsp; This is obviously more of an XL issue, especially<br>
as I've since found that everything works flawlessly in 32-bit mode.&nbsp; If anyone<br>
has more suggestions, I'd love the help as I'm lost at this point.<br>
<br>
Thanks for the help thus far,<br>
<br>
Justin.<br>
</div><br></div><br>

