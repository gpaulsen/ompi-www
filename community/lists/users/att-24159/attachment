<div dir="ltr"><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">Not sure if this is a SLURM or OMPI issue so please bear with the </div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
cross-posting...</div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px"><br></div><span style="font-family:arial,sans-serif;font-size:12.800000190734863px">The OpenMPI FAQ mentions an issue with slurm 2.6.3/pmi2.</span><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
<a href="https://www.open-mpi.org/faq/?category=slurm#slurm-2.6.3-issue" target="_blank">https://www.open-mpi.org/faq/?category=slurm#slurm-2.6.3-issue</a><br><div><br><div>I have built both 1.7.5/1.8 against slurm 14.03/pmi2.</div>
<div><br></div><div>When I launch openmpi/examples/hello_c on a single node allocation:</div><div><br></div><div>srun --mpi=pmi2 -N 1 hello_c:</div></div></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
<br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px"><div>srun -N 1 --mpi=pmi2 hello_c</div><div><font face="tahoma, sans-serif">srun: error: _server_read: fd 18 got error or unexpected eof reading header</font></div>
<div><font face="tahoma, sans-serif">srun: error: step_launch_notify_io_failure: aborting, io error with slurmstepd on node 0</font></div><div><font face="tahoma, sans-serif">srun: Job step aborted: Waiting up to 2 seconds for job step to finish.</font></div>
<div><font face="tahoma, sans-serif">srun: error: Timed out waiting for job step to complete</font></div></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px"><br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
<br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">with --slurmd-debug=9: (I&#39;m not sure what is the meaning of &quot;ip 111.110.61.48 sd 14&quot;</div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
below, is that ip as in ip address? It is not the ip address of any Nodes in my partition)</div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px"><br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
<div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: client_resp_send: 26    cmd=kvs-put-response;rc=0;</font></div><div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: _tree_listen_readable</font></div><div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: _task_readable</font></div>
<div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: got client request: 14     cmd=kvs-fence;</font></div><div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: _tree_listen_readable</font></div><div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: _task_readable</font></div>
<div><font face="tahoma, sans-serif">slurmstepd: mpi/pmi2: _tree_listen_read</font></div><div><font face="tahoma, sans-serif">slurmstepd: _tree_listen_read: accepted tree connection: ip 111.110.61.48 sd 14</font></div><div>
<font face="tahoma, sans-serif">slurmstepd: _handle_accept_rank: going to read() client rank</font></div><div><font face="tahoma, sans-serif">slurmstepd: _handle_accept_rank: got client rank 1478164480 on fd 14</font></div>
<div><font face="tahoma, sans-serif">srun: error: _server_read: fd 18 got error or unexpected eof reading header</font></div><div><font face="tahoma, sans-serif">srun: error: step_launch_notify_io_failure: aborting, io error with slurmstepd on node 0</font></div>
<div><font face="tahoma, sans-serif">srun: Job step aborted: Waiting up to 2 seconds for job step to finish.</font></div><div><font face="tahoma, sans-serif">srun: error: Timed out waiting for job step to complete</font></div>
</div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px"><br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">Launching with salloc/sbatch works.</div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">
<br></div><div style="font-family:arial,sans-serif;font-size:12.800000190734863px">- Anthony</div><div><br></div></div>

