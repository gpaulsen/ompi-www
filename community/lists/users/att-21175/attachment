<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html><body style='font-family: Verdana,Geneva,sans-serif'>
<p>Hi Mike,</p>
<p>that is a question I'm not sure I can answer, because I didn't install the OFED package; looking for it on the OpenFabrics.org site I see that the archive contains the packages that in my distro come one by one, e.g. 'libmthca-1.0.5-6.el5.rpm', 'libmlx4-1.0.1-7.el5.rpm',&nbsp;etc.</p>
<p>The complete list of packages that I was instructed to install to make the IB HCAs work under Centos/Red Hat is here:</p>
<p><a href="http://people.redhat.com/dledford/infiniband_get_started.html">http://people.redhat.com/dledford/infiniband_get_started.html</a></p>
<p>Taking for example the 'libmthca' package, the version is 1.0.5, the same as 'libmthca-1.0.5-0.1-gbe5eef3.src.rpm' source package inside 'OFED-3.5-rc5.tgz' from the OpenFabrics site; on the other hand, the 'libibmad' package for Centos 5.8 is version 1.3.3, not matching with 'libibmad-1.3.9-1.src.rpm' inside the tarball.</p>
<p>Do you think I should erase the relevant packages and instead rely on a completely recompiled OFED? As a desperate measure I will, but I understood that usage of OMPI 1.6.3 with MXM was not needing this...</p>
<p>&nbsp;</p>
<p>Best regards,</p>
<p><span style="font-family: 'Lucida Grande', Verdana, Arial, Helvetica, sans-serif; font-size: 12px;">Francesco</span></p>
<p>&nbsp;</p>
<p>Il 2013-01-19 20:06 Mike Dubman ha scritto:</p>
<blockquote type="cite" style="padding-left:5px; border-left:#1010ff 2px solid; margin-left:5px; width:100%"><!-- html ignored --><!-- head ignored --><!-- meta ignored -->
<div dir="ltr">Also, what MOFED/OFED version do you have?
<div>MXM is compiled per OFED/MOFED version, is there match between active ofed and mxm.rpm selected?<br /><br />
<div class="gmail_quote">On Thu, Jan 17, 2013 at 4:09 PM, Francesco Simula <span>&lt;<a href="mailto:francesco.simula@roma1.infn.it">francesco.simula@roma1.infn.it</a>&gt;</span> wrote:<br />
<blockquote class="gmail_quote" style="margin: 0  0  0  .8ex; border-left: 1px  #ccc  solid; padding-left: 1ex;">I tried building from OMPI 1.6.3 tarball with the following ./configure:<br /> ./configure --prefix=/apotto/home1/<span style="text-decoration: underline;"></span>homedirs/fsimula/Lavoro/<span style="text-decoration: underline;"></span>openmpi-1.6.3/install/ \<br /> --disable-mpi-io \<br /> --disable-io-romio \<br /> --enable-dependency-tracking \<br /> --without-slurm \<br /> --with-platform=optimized \<br /> --disable-mpi-f77 \<br /> --disable-mpi-f90 \<br /> --with-openib \<br /> --disable-static \<br /> --enable-shared \<br /> --disable-vt \<br /> --enable-pty-support \<br /> --enable-mca-no-build=btl-<span style="text-decoration: underline;"></span>ofud,pml-bfo \<br /> --with-mxm=/opt/mellanox/mxm \<br /> --with-mxm-libdir=/opt/<span style="text-decoration: underline;"></span>mellanox/mxm/lib<br /><br /> As you can see from the last two lines, I want to enable the MXM transport layer on a cluster made of SuperMicro X8DTG-D boards with dual Xeons and Mellanox MT26428 HCAs; the OS is CentOS 5.8.<br /><br /> I tried with two different .rpm's for MXM, either 'mxm-1.1.ad085ef-1.x86_64-<span style="text-decoration: underline;"></span>centos5u7.rpm' taken from here:<br /><a href="http://www.mellanox.com/downloads/hpc/mxm/v1.1/mxm-latest.tar">http://www.mellanox.com/<span style="text-decoration: underline;"></span>downloads/hpc/mxm/v1.1/mxm-<span style="text-decoration: underline;"></span>latest.tar</a><br /><br /> and 'mxm-1.5.f583875-1.x86_64-<span style="text-decoration: underline;"></span>centos5u7.rpm' taken from here:<br /><a href="http://www.mellanox.com/downloads/hpc/mxm/v1.5/mxm-latest.tar">http://www.mellanox.com/<span style="text-decoration: underline;"></span>downloads/hpc/mxm/v1.5/mxm-<span style="text-decoration: underline;"></span>latest.tar</a><br /><br /> With both, even if the compilation concludes successfully, a simple test (osu_bw from the OSU Micro-Benchmarks 3.8) fails with the sort of message reported below; the lines:<br /><br /> rdma_dev.c:122 &nbsp;MXM DEBUG Port 1 on mlx4_0 has a link layer different from IB. Skipping it<br /> rdma_dev.c:155 &nbsp;MXM ERROR An active IB port on a Mellanox device, with lid [any] gid [any] not found<br /><br /> make it seem like it cannot access the HW for the HCA: is that so? The very same test works when using '-mca pml ob1' (thus using the openib BTL).<br /><br /> I'm quite ready to start pulling my hair; any suggestions?<br /><br /> The output of /usr/bin/ibv_devinfo for the two cluster nodes follows:<br /> [cut]<br /> hca_id: mlx4_0<br /> &nbsp; &nbsp; &nbsp; &nbsp; transport: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InfiniBand (0)<br /> &nbsp; &nbsp; &nbsp; &nbsp; fw_ver: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.7.000<br /> &nbsp; &nbsp; &nbsp; &nbsp; node_guid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0025:90ff:ff07:0ac4<br /> &nbsp; &nbsp; &nbsp; &nbsp; sys_image_guid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0025:90ff:ff07:0ac7<br /> &nbsp; &nbsp; &nbsp; &nbsp; vendor_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x02c9<br /> &nbsp; &nbsp; &nbsp; &nbsp; vendor_part_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 26428<br /> &nbsp; &nbsp; &nbsp; &nbsp; hw_ver: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0xB0<br /> &nbsp; &nbsp; &nbsp; &nbsp; board_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SM_1061000001000<br /> &nbsp; &nbsp; &nbsp; &nbsp; phys_port_cnt: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port: &nbsp; 1<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; state: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PORT_ACTIVE (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_mtu: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2048 (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active_mtu: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2048 (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sm_lid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port_lid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 6<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port_lmc: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00<br /> [/cut]<br /><br /> [cut]<br /> hca_id: mlx4_0<br /> &nbsp; &nbsp; &nbsp; &nbsp; transport: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InfiniBand (0)<br /> &nbsp; &nbsp; &nbsp; &nbsp; fw_ver: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2.7.000<br /> &nbsp; &nbsp; &nbsp; &nbsp; node_guid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0025:90ff:ff07:0acc<br /> &nbsp; &nbsp; &nbsp; &nbsp; sys_image_guid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0025:90ff:ff07:0acf<br /> &nbsp; &nbsp; &nbsp; &nbsp; vendor_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0x02c9<br /> &nbsp; &nbsp; &nbsp; &nbsp; vendor_part_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 26428<br /> &nbsp; &nbsp; &nbsp; &nbsp; hw_ver: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0xB0<br /> &nbsp; &nbsp; &nbsp; &nbsp; board_id: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SM_1061000001000<br /> &nbsp; &nbsp; &nbsp; &nbsp; phys_port_cnt: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port: &nbsp; 1<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; state: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PORT_ACTIVE (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; max_mtu: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2048 (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; active_mtu: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2048 (4)<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sm_lid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port_lid: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8<br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port_lmc: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x00<br /> [/cut]<br /><br /> The complete output of the failing test follows:<br /><br /> [fsimula@agape5 osu-micro-benchmarks-3.8]$ mpirun -x MXM_LOG_LEVEL=poll -mca pml cm -mca mtl_mxm_np 1 -np 2 -host agape4,agape5 install/libexec/osu-micro-<span style="text-decoration: underline;"></span>benchmarks/mpi/pt2pt/osu_bw H H<br /> [1358430343.266782] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG<br /> [1358430343.266815] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_HANDLE_ERRORS=bt<br /> [1358430343.266826] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_GDB_PATH=/usr/bin/gdb<br /> [1358430343.266838] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_DUMP_SIGNO=1<br /> [1358430343.266851] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_DUMP_LEVEL=conn<br /> [1358430343.266924] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_ASYNC_MODE=THREAD<br /> [1358430343.266936] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_TIME_ACCURACY=0.1<br /> [1358430343.266956] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_PTLS=self,shm,rdma<br /> [1358430343.267249] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:265 &nbsp;MXM DEBUG mpool 'ptl_self_recv_ev': allocated chunk 0xc075f40 of 96016 bytes with 1000 elements<br /> [1358430343.267308] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:156 &nbsp;MXM DEBUG mpool 'ptl_self_recv_ev': align 16, maxelems 1000, elemsize 88, padding 8<br /> [1358430343.267316] [agape5:8596 :0] &nbsp; &nbsp; &nbsp;self.c:410 &nbsp;MXM DEBUG Created ptl_self<br /> [1358430343.267333] [agape5:8596 :0] &nbsp; shm_ptl.c:56 &nbsp; MXM DEBUG Created ptl_shm<br /> [1358430343.268457] [agape5:8596 :0] &nbsp;rdma_ptl.c:65 &nbsp; MXM TRACE Got 1 IB devices<br /> [1358430343.268640] [agape5:8596 :0] &nbsp;rdma_ptl.c:112 &nbsp;MXM DEBUG added device mlx4_0<br /> [1358430343.268665] [agape5:8596 :0] &nbsp; &nbsp;memreg.c:187 &nbsp;MXM TRACE Created memory registration cache on 1 devices<br /> [1358430343.268676] [agape5:8596 :0] &nbsp;rdma_ptl.c:133 &nbsp;MXM DEBUG Created ptl_rdma<br /> [1358430343.268689] [agape5:8596 :0] &nbsp; &nbsp; event.c:353 &nbsp;MXM FUNC &nbsp;mxm_event_init(event=<span style="text-decoration: underline;"></span>0x2b73e0ee3038 mode=2 time_accuracy=160000000)<br /> [1358430343.268698] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:55 &nbsp; MXM FUNC &nbsp;mxm_timerq_init(timerq=<span style="text-decoration: underline;"></span>0x2b73e0ee3060 accuracy=160000000 max_interval=1600000000)<br /> [1358430343.268706] [agape5:8596 :0] &nbsp; &nbsp; event.c:292 &nbsp;MXM FUNC &nbsp;mxm_event_add_thread_context(<span style="text-decoration: underline;"></span>thread=0x2b73e0ee30d0)<br /> [1358430343.268732] [agape5:8596 :0] &nbsp; &nbsp; event.c:198 &nbsp;MXM FUNC &nbsp;mxm_set_fd_nonblock(fd=10)<br /> [1358430343.268741] [agape5:8596 :0] &nbsp; &nbsp; event.c:198 &nbsp;MXM FUNC &nbsp;mxm_set_fd_nonblock(fd=11)<br /> [1358430343.268841] [agape5:8596 :0] &nbsp; &nbsp; &nbsp; mxm.c:162 &nbsp;MXM INFO &nbsp;context 0x2b73e0ee3010 created<br /> [1358430343.269090] [agape5:8596 :1] &nbsp; &nbsp; event.c:41 &nbsp; MXM FUNC &nbsp;__call_handler(handler-&gt;cb=<span style="text-decoration: underline;"></span>0x2b73e0ab28a0 handler-&gt;arg=0x2b73e0ee3038)<br /> [1358430343.269104] [agape5:8596 :1] &nbsp; &nbsp;timerq.c:88 &nbsp; MXM FUNC &nbsp;mxm_timerq_sweep(timerq=<span style="text-decoration: underline;"></span>0x2b73e0ee3060 current_time=568595527963578)<br /> [1358430343.274685] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_ENABLE_HUGETLB=1<br /> [1358430343.274700] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_ENABLE_TIMEOUTS=y<br /> [1358430343.274709] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_ACK_TIMEOUT=0.3<br /> [1358430343.274721] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_POLL_INTERVAL=0.1<br /> [1358430343.274742] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_WINDOW_SIZE=512<br /> [1358430343.274755] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_TX_BATCH=1<br /> [1358430343.274764] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_CQ_MODERATION=64<br /> [1358430343.274773] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_DRAIN_CQ=n<br /> [1358430343.274782] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_RNDV_THRESH=65536<br /> [1358430343.274791] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_ZCOPY_THRESH=2040<br /> [1358430343.274815] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_RESIZE_CQ=y<br /> [1358430343.274826] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_MTU=65536<br /> [1358430343.274836] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_RX_QUEUE_LEN=16000<br /> [1358430343.274849] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_TX_QUEUE_LEN=64<br /> [1358430343.274859] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_RX_MAX_BUFFERS=128000<br /> [1358430343.274877] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_TX_MAX_BUFFERS=8192<br /> [1358430343.274887] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_RX_DROP_RATE=0<br /> [1358430343.274896] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_ENABLE_NAK=y<br /> [1358430343.274904] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_RX_FILL_THRESH=0.6<br /> [1358430343.274915] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_UD_TX_MAX_INLINE=128<br /> [1358430343.274925] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_SHM_RX_MAX_BUFFERS=2000<br /> [1358430343.274941] [agape5:8596 :0] config_parser.c:168 &nbsp;MXM DEBUG default: MXM_RDMA_ALLOC=1<br /> [1358430343.274968] [agape5:8596 :0] &nbsp; &nbsp; &nbsp; &nbsp;ep.c:36 &nbsp; MXM FUNC &nbsp;mxm_ep_create(context=<span style="text-decoration: underline;"></span>0x2b73e0ee3010)<br /> [1358430343.274984] [agape5:8596 :0] &nbsp; &nbsp; &nbsp;self.c:380 &nbsp;MXM DEBUG Created ptl_self EP(rank=3767085072)<br /> [1358430343.275028] [agape5:8596 :0] shm_queue.c:230 &nbsp;MXM DEBUG shm_ep=0, shmid=6815750<br /> [1358430343.275072] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:265 &nbsp;MXM DEBUG mpool 'shm_ep_recv': allocated chunk 0x2aaaadd0c010 of 65824016 bytes with 2000 elements<br /> [1358430343.278550] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:156 &nbsp;MXM DEBUG mpool 'shm_ep_recv': align 16, maxelems 2000, elemsize 32904, padding 8<br /> [1358430343.278584] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:139 &nbsp;MXM FUNC &nbsp;mxm_timer_schedule(timerq=<span style="text-decoration: underline;"></span>0x2b73e0ee3060 timer=0xc029538 expiration=568595550657300)<br /> [1358430343.278594] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:43 &nbsp; MXM FUNC &nbsp;mxm_timerq_insert_timer(put timer 0xc029538 expiration 568595550657300 in slot 10)<br /> [1358430343.278608] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:145 &nbsp;MXM TRACE added timer 0xc029538 expiration 568595550657300 interval 160000000<br /> [1358430343.278617] [agape5:8596 :0] &nbsp; &nbsp;shm_ep.c:176 &nbsp;MXM DEBUG Created ptl_shm EP (rank=0, ctx_id=1)<br /> [1358430343.278641] [agape5:8596 :0] &nbsp; rdma_ep.c:317 &nbsp;MXM FUNC &nbsp;mxm_rdma_ep_create()<br /> [1358430343.278722] [agape5:8596 :0] &nbsp;rdma_dev.c:194 &nbsp;MXM FUNC &nbsp;mxm_rdma_dev_init(dev=<span style="text-decoration: underline;"></span>0xc0b3f00)<br /> [1358430343.278924] [agape5:8596 :0] &nbsp;rdma_dev.c:122 &nbsp;MXM DEBUG Port 1 on mlx4_0 has a link layer different from IB. Skipping it<br /> [1358430343.278939] [agape5:8596 :0] &nbsp;rdma_dev.c:155 &nbsp;MXM ERROR An active IB port on a Mellanox device, with lid [any] gid [any] not found<br /> [1358430343.278954] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:150 &nbsp;MXM FUNC &nbsp;mxm_timer_cancel(timerq=<span style="text-decoration: underline;"></span>0x2b73e0ee3060 timer=0xc029538)<br /> [1358430343.279454] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:184 &nbsp;MXM DEBUG mpool 'shm_ep_recv': destroyed<br /> [1358430343.279466] [agape5:8596 :0] &nbsp; &nbsp; &nbsp;self.c:287 &nbsp;MXM FUNC &nbsp;mxm_self_ep_destroy(ep=<span style="text-decoration: underline;"></span>0xc094600)<br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /> MXM was unable to create an endpoint. Please make sure that the network link is<br /> active on the node and the hardware is functioning.<br /><br /> &nbsp; Error: No such device<br /><br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /> [1358430343.287336] [agape5:8596 :0] &nbsp; &nbsp; event.c:400 &nbsp;MXM FUNC &nbsp;mxm_event_cleanup(event=<span style="text-decoration: underline;"></span>0x2b73e0ee3038)<br /> [1358430343.287348] [agape5:8596 :0] &nbsp; &nbsp; event.c:338 &nbsp;MXM FUNC &nbsp;mxm_event_remove_thread_<span style="text-decoration: underline;"></span>context(thread=0x2b73e0ee30d0)<br /> [1358430343.287355] [agape5:8596 :0] &nbsp; &nbsp; event.c:145 &nbsp;MXM FUNC &nbsp;mxm_event_thread_wakeup()<br /> [1358430343.371011] [agape5:8596 :0] &nbsp; &nbsp;timerq.c:76 &nbsp; MXM FUNC &nbsp;mxm_timerq_cleanup(timerq=<span style="text-decoration: underline;"></span>0x2b73e0ee3060)<br /> [1358430343.371030] [agape5:8596 :0] &nbsp; &nbsp;memreg.c:194 &nbsp;MXM TRACE Destroying memory registration cache<br /> [1358430343.371129] [agape5:8596 :0] &nbsp; shm_ptl.c:34 &nbsp; MXM FUNC &nbsp;ptl_shm_destroy(ptl=0xc0729b0)<br /> [1358430343.371139] [agape5:8596 :0] &nbsp; &nbsp; &nbsp;self.c:340 &nbsp;MXM FUNC &nbsp;mxm_self_destroy(ptl=<span style="text-decoration: underline;"></span>0xc0699a0)<br /> [1358430343.371148] [agape5:8596 :0] &nbsp; &nbsp; mpool.c:184 &nbsp;MXM DEBUG mpool 'ptl_self_recv_ev': destroyed<br /> [1358430343.371156] [agape5:8596 :0] &nbsp; &nbsp; &nbsp; mxm.c:197 &nbsp;MXM INFO &nbsp;context 0x2b73e0ee3010 destroyed<br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /> No available pml components were found!<br /><br /> This means that there are no components of this type installed on your<br /> system or all the components reported that they could not be used.<br /><br /> This is a fatal error; your MPI process is likely to abort. &nbsp;Check the<br /> output of the "ompi_info" command and ensure that components of this<br /> type are available on your system. &nbsp;You may also wish to check the<br /> value of the "component_path" MCA parameter and ensure that it has at<br /> least one directory that contains valid MCA components.<br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /> [agape5:08596] PML cm cannot be selected<br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /> mpirun has exited due to process rank 1 with PID 8596 on<br /> node agape5 exiting improperly. There are two reasons this could occur:<br /><br /> 1. this process did not call "init" before exiting, but others in<br /> the job did. This can cause a job to hang indefinitely while it waits<br /> for all processes to call "init". By rule, if one process calls "init",<br /> then ALL processes must call "init" prior to termination.<br /><br /> 2. this process called "init", but exited without calling "finalize".<br /> By rule, all processes that call "init" MUST call "finalize" prior to<br /> exiting or it will be considered an "abnormal termination"<br /><br /> This may have caused other processes in the application to be<br /> terminated by signals sent by mpirun (as reported here).<br /> ------------------------------<span style="text-decoration: underline;"></span>------------------------------<span style="text-decoration: underline;"></span>--------------<br /><br /> Regards,<br /> Francesco<br /><br /> ______________________________<span style="text-decoration: underline;"></span>_________________<br /> users mailing list<br /><a href="mailto:users@open-mpi.org">users@open-mpi.org</a><br /><a href="http://www.open-mpi.org/mailman/listinfo.cgi/users">http://www.open-mpi.org/<span style="text-decoration: underline;"></span>mailman/listinfo.cgi/users</a></blockquote>
</div>
</div>
</div>
</blockquote>
</body></html>

