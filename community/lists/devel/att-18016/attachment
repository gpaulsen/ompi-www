<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Sep 11, 2015, at 10:00 PM, Gilles Gouaillardet &lt;<a href="mailto:gilles.gouaillardet@gmail.com" class="">gilles.gouaillardet@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class="">Ralph,<div class=""><br class=""></div><div class="">at first glance, these errors look unrelated to PMIx.</div><div class="">I noticed a bunch of bind() failure.</div><div class="">based on your command line, I guess you are not running your job via a batch manager,</div><div class="">and I would guess not all unix sockets are always cleaned up.</div></div></blockquote><div><br class=""></div>Yeah, the no-disconnect test was causing mpirun to segfault, which meant that the sockets weren’t cleaned up. So eventually I’d hit a case where they collided. Simply blowing away the session directory tree resolves the problem.</div><div><br class=""><blockquote type="cite" class=""><div class=""><div class="">(or this is an old bug and you did not manually clean your nodes when it was fixed)</div><div class=""><br class=""></div><div class="">the neighbor_allgather_self failure is discussed at&nbsp;<a href="https://github.com/open-mpi/ompi/pull/790" class="">https://github.com/open-mpi/ompi/pull/790</a></div></div></blockquote><div><br class=""></div>Ah, indeed - thanks!</div><div><br class=""><blockquote type="cite" class=""><div class=""><div class=""><br class=""></div><div class="">I will have a look at the op related failure on Monday</div><div class="">(looks like a MPI conformance issue unrelated to PMIx)</div></div></blockquote><div><br class=""></div>Again, thanks!</div><div><br class=""><blockquote type="cite" class=""><div class=""><div class=""><br class=""></div><div class="">Cheers,</div><div class=""><br class=""></div><div class="">Gilles</div><div class=""><div class=""><br class="">On Saturday, September 12, 2015, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">Hi folks<div class=""><br class=""></div><div class="">I’ve closed all the holes I can find in the PMIx integration, and things look pretty good overall. There are a handful of failures still being seen - most of them involving what appear to be unrelated code. I’m not entirely sure I understand the source of the errors, and could really use some help to determine (a) if these are in any way related to PMIx, and if so (b) how.</div><div class=""><br class=""></div><div class="">The errors from my MTT run are here: &nbsp;<a href="http://mtt.open-mpi.org/index.php?do_redir=2256" target="_blank" class="">http://mtt.open-mpi.org/index.php?do_redir=2256</a></div><div class=""><br class=""></div><div class="">Any help diagnosing these problems would be greatly appreciated</div><div class="">Ralph</div><div class=""><br class=""></div></div></blockquote></div></div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18015.php</div></blockquote></div><br class=""></body></html>
