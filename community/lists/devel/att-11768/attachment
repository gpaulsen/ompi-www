<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>The code is &nbsp;in ompi/mca/fcoll/two_phase/ . &nbsp;This is exactly similar to the ROMIO's implementation of two-phase which has been ported to OMPIO. In this code the buf_indices for the send_buffer is defined as an integer but this should be something like a size_t. &nbsp;This will fix the problem in fcoll/two_phase. I am not sure whether that will be same fix for the ROMIO implementation.&nbsp;</div><div><br></div><div>Thanks</div><div>Vish</div><div><br></div><div apple-content-edited="true">
<span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; ">Vishwanath Venkatesan<br>Graduate Research Assistant<br>Parallel Software Technologies&nbsp;Lab<br>Department of Computer Science<br>University of Houston<br>TX, USA<br><a href="http://www.cs.uh.edu/~venkates">www.cs.uh.edu/~venkates</a><br><br></span>
</div>
<br><div><div>On Nov 8, 2012, at 2:08 PM, Rayson Ho wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div>Vishwanath,<br><br>Can you point me to the two_phase module code? (I just wanted to make<br>sure that we are looking at the same problem.)<br><br>Rayson<br><br>==================================================<br>Open Grid Scheduler - The Official Open Source Grid Engine<br><a href="http://gridscheduler.sourceforge.net/">http://gridscheduler.sourceforge.net/</a><br><br><br>On Thu, Nov 8, 2012 at 1:58 PM, Vishwanath Venkatesan<br>&lt;venkates@cs.uh.edu&gt; wrote:<br><blockquote type="cite">I just checked the code for testing 2GB limitation in OMPIO. The code works<br></blockquote><blockquote type="cite">with OMPIO's &nbsp;" fcoll dynamic" module. Although it does have the same 2GB<br></blockquote><blockquote type="cite">limitation with the two_phase module which is based on ROMIO's<br></blockquote><blockquote type="cite">implementation and the static module. I have a fix for both these modules I<br></blockquote><blockquote type="cite">will commit them to trunk shortly.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Thanks<br></blockquote><blockquote type="cite">Vish<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Vishwanath Venkatesan<br></blockquote><blockquote type="cite">Graduate Research Assistant<br></blockquote><blockquote type="cite">Parallel Software Technologies Lab<br></blockquote><blockquote type="cite">Department of Computer Science<br></blockquote><blockquote type="cite">University of Houston<br></blockquote><blockquote type="cite">TX, USA<br></blockquote><blockquote type="cite">www.cs.uh.edu/~venkates<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">On Nov 7, 2012, at 3:47 AM, Ralph Castain wrote:<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Hi Rayson<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">We take snapshots from time to time. We debated whether or not to update<br></blockquote><blockquote type="cite">again for the 1.7 release, but ultimately decided not to do so - IIRC, none<br></blockquote><blockquote type="cite">of our developers had the time.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">If you are interested and willing to do the update, and perhaps look at<br></blockquote><blockquote type="cite">removing the limit, that is fine with me! You might check to see if the<br></blockquote><blockquote type="cite">latest ROMIO can go past 2GB - could be that an update is all that is<br></blockquote><blockquote type="cite">required.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Alternatively, you might check with Edgar Gabriel about the ompio component<br></blockquote><blockquote type="cite">and see if it either supports &gt; 2GB sizes or can also be extended to do so.<br></blockquote><blockquote type="cite">Might be that a simple change to select that module instead of ROMIO would<br></blockquote><blockquote type="cite">meet the need.<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">Appreciate your interest in contributing!<br></blockquote><blockquote type="cite">Ralph<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">On Tue, Nov 6, 2012 at 11:55 AM, Rayson Ho &lt;raysonlogin@gmail.com&gt; wrote:<br></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">How is the ROMIO code in Open MPI developed &amp; maintained? Do Open MPI<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">releases take snapshots of the ROMIO code from time to time from the<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">ROMIO project, or was the ROMIO code forked a while ago and maintained<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">separately in Open MPI??<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">I would like to fix the 2GB limit in the ROMIO code... and that's why<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">I am asking! :-D<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">Rayson<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">==================================================<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">Open Grid Scheduler - The Official Open Source Grid Engine<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">http://gridscheduler.sourceforge.net/<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">On Thu, Nov 1, 2012 at 6:21 PM, Richard Shaw &lt;jrs65@cita.utoronto.ca&gt;<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">wrote:<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Hi Rayson,<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Just seen this.<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">In the end we've worked around it, by creating successive views of the<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">file<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">that are all else than 2GB and then offsetting them to eventually read<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">in<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">everything. It's a bit of a pain to keep track of, but it works at the<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">moment.<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">I was intending on following your hints and trying to fix the bug<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">myself,<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">but I've been short on time so haven't gotten around to it yet.<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Richard<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">On Saturday, 20 October, 2012 at 10:12 AM, Rayson Ho wrote:<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Hi Eric,<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">Sounds like it's also related to this problem reported by Scinet back in<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">July:<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">http://www.open-mpi.org/community/lists/users/2012/07/19762.php<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">And I think I found the issue, but I still have not followed up with<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">the ROMIO guys yet. And I was not sure if Scinet was waiting for the<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">fix or not - next time I visit U of Toronto, I will see if I can visit<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">the Scinet office and meet with the Scinet guys!<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">_______________________________________________<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">users mailing list<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">users@open-mpi.org<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">http://www.open-mpi.org/mailman/listinfo.cgi/users<br></blockquote></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">_______________________________________________<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">devel mailing list<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">devel@open-mpi.org<br></blockquote></blockquote><blockquote type="cite"><blockquote type="cite">http://www.open-mpi.org/mailman/listinfo.cgi/devel<br></blockquote></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">_______________________________________________<br></blockquote><blockquote type="cite">devel mailing list<br></blockquote><blockquote type="cite">devel@open-mpi.org<br></blockquote><blockquote type="cite">http://www.open-mpi.org/mailman/listinfo.cgi/devel<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">_______________________________________________<br></blockquote><blockquote type="cite">devel mailing list<br></blockquote><blockquote type="cite">devel@open-mpi.org<br></blockquote><blockquote type="cite">http://www.open-mpi.org/mailman/listinfo.cgi/devel<br></blockquote>_______________________________________________<br>devel mailing list<br>devel@open-mpi.org<br>http://www.open-mpi.org/mailman/listinfo.cgi/devel<br></div></blockquote></div><br></body></html>
