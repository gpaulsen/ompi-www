<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">In fixing a problem for Mellanox, I noted that we had somehow lost our default binding policy intentions - i.e., we were no longer automatically binding by default. I fixed that, and so you’d get this if the numactl and numactl-devel libs are missing.<div class=""><br class=""></div><div class="">I suspect we should eliminate those warnings if we bind by default?</div><div class=""><br class=""></div><div class="">On the other matter: that has been the agreed-upon behavior for some time now. If you don’t specify anything, we launch the number of procs equal to the number of slots, with the slots auto-detected using hwloc and equating slots to number of discovered cores.</div><div class=""><br class=""></div><div class="">However, if you use -host, then we assume you are telling us the number of slots=1 for every time you mention the host name. This overrides any auto-discovery.</div><div class=""><br class=""></div><div class="">HTH</div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Mar 20, 2015, at 8:16 AM, Rolf vandeVaart &lt;<a href="mailto:rvandevaart@nvidia.com" class="">rvandevaart@nvidia.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div class="WordSection1" style="page: WordSection1; font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;" class="">Greetings:<o:p class=""></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;" class=""><o:p class="">&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;" class="">I am now seeing the following message for all my calls to mpirun on ompi master.&nbsp; This started with last night’s MTT run.&nbsp; Is this intentional?<o:p class=""></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 11pt; font-family: Calibri, sans-serif;" class=""><o:p class="">&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: white;" class=""><span style="font-family: 'Courier New';" class="">[rvandevaart@ivy0 ~]$ mpirun -np 1 hostname<br class="">--------------------------------------------------------------------------<br class="">WARNING: a request was made to bind a process. While the system<br class="">supports binding the process itself, at least one node does NOT<br class="">support binding memory to the process location.<br class=""><br class="">&nbsp; Node:&nbsp; ivy0<br class=""><br class="">This usually is due to not having the required NUMA support installed<br class="">on the node. In some Linux distributions, the required support is<br class="">contained in the libnumactl and libnumactl-devel packages.<br class="">This is a warning only; your job will continue, though performance may be degraded.<br class="">--------------------------------------------------------------------------<br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><o:p class=""></o:p></span></div><p style="margin: 0in 0in 12pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: white; background-position: initial initial; background-repeat: initial initial;" class=""><span style="font-family: Calibri, sans-serif;" class="">&nbsp;</span></p><p style="margin: 0in 0in 12pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: white; background-position: initial initial; background-repeat: initial initial;" class=""><span style="font-family: Calibri, sans-serif;" class="">On another note, I noticed on both 1.8 and master that we get different number of nodes if we specify the hostname.&nbsp; This is not too big a deal, but surprised me.<o:p class=""></o:p></span></p><p style="margin: 0in 0in 12pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: white; background-position: initial initial; background-repeat: initial initial;" class=""><span style="font-family: 'Courier New';" class="">[rvandevaart@ivy0 ~]$ /opt/openmpi/v1.8.4/bin/mpirun hostname<br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class="">[rvandevaart@ivy0 ~]$ /opt/openmpi/v1.8.4/bin/mpirun -host ivy0 hostname<br class=""><a href="http://ivy0.nvidia.com/" style="color: purple; text-decoration: underline;" class="">ivy0.nvidia.com</a><br class="">[rvandevaart@ivy0 ~]$<span class="Apple-converted-space">&nbsp;</span><o:p class=""></o:p></span></p></div><div style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><hr class=""></div><div style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">This email message is for the sole use of the intended recipient(s) and may contain confidential information.&nbsp; Any unauthorized review, use, disclosure or distribution is prohibited.&nbsp; If you are not the intended recipient, please contact the sender by reply email and destroy all copies of the original message.<span class="Apple-converted-space">&nbsp;</span></div><div style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><hr class=""></div><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">_______________________________________________</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">devel mailing list</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><a href="mailto:devel@open-mpi.org" style="color: purple; text-decoration: underline; font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">devel@open-mpi.org</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Subscription:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: purple; text-decoration: underline; font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/community/lists/devel/2015/03/17140.php" style="color: purple; text-decoration: underline; font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/community/lists/devel/2015/03/17140.php</a></div></blockquote></div><br class=""></div></body></html>
