Am I the only one seeing the following odd behavior when running configure?<div><br></div><blockquote class="gmail_quote" style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
[...]<br>*** GNU libltdl setup<br>checking location of libltdl... internal copy<br>configure: OMPI configuring in opal/libltdl<br>[....]<br>configure: creating ./config.status<br>config.status: creating Makefile<br>config.status: creating config.h<br>
config.status: executing depfiles commands<br>config.status: executing libtool commands<br>configure: /bin/sh &#39;[srcdir]/opal/libltdl/configure&#39; succeeded for opal/libltdl<br>grep: [srcdir]/opal/libltdl/Makefile: No such file or directory<br>
checking for libtool-supplied linker flags... ACLOCAL=&#39;${SHELL} [srcir]/config/missing --run aclocal-1.11&#39;<br>AMDEPBACKSLASH=&#39;\&#39;<br>AMDEP_FALSE=&#39;#&#39;<br>AMDEP_TRUE=<br>AMTAR=&#39;$${TAR-tar}&#39;<br>
[...dump of every shell variable, as from running &quot;set&quot;...]<br> dummy mt<br>*** Compiler flags<br>checking which of CFLAGS are ok for debugger modules...  -DNDEBUG -fno-strict-aliasing -pthread<br>checking for debugger extra CFLAGS... -g<br>
</blockquote><blockquote class="gmail_quote" style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"> </blockquote>
<blockquote class="gmail_quote" style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">*** Wrapper compiler final setup<br>
checking for perl... /usr/bin/perl<br>checking for OPAL CPPFLAGS...<br>checking for OPAL CFLAGS... -pthread <br>checking for OPAL CXXFLAGS... -pthread<br>checking for OPAL LDFLAGS...    <br>checking for OPAL LIBS... -ldl  -lm  dummy mt<br>
checking for OPAL extra include dirs...<br>checking for ORTE CPPFLAGS... <br>checking for ORTE CXXFLAGS... -pthread<br>checking for ORTE CFLAGS... -pthread<br>checking for ORTE LDFLAGS...     <br>checking for ORTE LIBS...  -ldl  -lm  dummy mt<br>
checking for ORTE extra include dirs...<br>checking for OMPI CPPFLAGS... <br>checking for OMPI CFLAGS... -pthread <br>checking for OMPI CXXFLAGS... -pthread<br>checking for OMPI FFLAGS... -pthread <br>checking for OMPI FCFLAGS... -pthread<br>
checking for OMPI LDFLAGS...      <br>checking for OMPI LIBS...   -ldl  -lm  dummy mt<br>checking for OMPI extra include dirs...<br>*** Final output<br>[....]</blockquote><div><div><br></div><div><br></div><div>The presence of &quot;dummy mt&quot; in the LIBS vars renders the resulting wrapper compilers unusable.</div>
<div><br></div><div>This is a VPATH (blddir != srcdir) build and it appears that something is looking for a Makefile in [srcdir]/opal/libltdl when it almost certainly should be looking in [blddir]/opal/libltdl.</div><div>
<br></div><div>-Paul</div><div><br></div>-- <br>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov">PHHargrove@lbl.gov</a><br>Future Technologies Group<br>HPC Research Department                   Tel: +1-510-495-2352<br>
Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900<br>
</div>

