<div dir="ltr">Hi Paul<div><br></div><div>Can you try the attached patch? It would require running autogen, I fear. Otherwise, I can add it to the tarball.</div><div><br></div><div>Ralph</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Dec 16, 2014 at 9:59 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Gilles,<br><br>The 1.8.3 test works where the 1.8.4rc4 one fails with identical configure arguments.<br><br>While it may be overkill, I configured 1.8.4rc4 with<span class=""><br><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><font face="monospace">   CFLAGS=&quot;-m64 -mt&quot; --with-wrapper-cflags=&quot;-m64 -mt&quot; \<br>   LDFLAGS=&quot;-mt&quot; --with-wrapper-ldflags=&quot;-mt&quot;</font></blockquote></span>The resulting run worked!<div><br></div><div>So, I very strongly suspect that the problem will be resolved if one restores the configure logic that my previous email shows has vanished (since that would restore &quot;-mt&quot; to CFLAGS and wrapper cflags).<span class="HOEnZb"><font color="#888888"><br></font></span></div><span class="HOEnZb"><font color="#888888"><div><br></div><div>-Paul</div></font></span></div><div class="gmail_extra"><div><div class="h5"><br><div class="gmail_quote">On Tue, Dec 16, 2014 at 8:10 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">My 1.8.3 build has not completed.<div>HOWEVER, I can already see a key difference in the configure step.</div><div><br></div><div>In 1.8.3 &quot;-mt&quot; was added AUTOMATICALLY to CFLAGS by configure:</div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><font face="monospace">checking if C compiler and POSIX threads work as is... no - Solaris, not checked</font></div></div><div><div><font face="monospace">checking if C++ compiler and POSIX threads work as is... no - Solaris, not checked</font></div></div><div><div><font face="monospace">checking if Fortran compiler and POSIX threads work as is... no - Solaris, not checked</font></div></div><div><div><font face="monospace">checking if C compiler and POSIX threads work with -pthread... no</font></div></div><div><div><font face="monospace">checking if C compiler and POSIX threads work with -pthreads... no</font></div></div><div><div><font face="monospace" style="background-color:rgb(255,255,0)">checking if C compiler and POSIX threads work with -mt... yes</font></div></div><div><div><font face="monospace">checking if C++ compiler and POSIX threads work with -pthread... yes</font></div></div><div><div><font face="monospace">checking if Fortran compiler and POSIX threads work with -pthread... yes</font></div></div></blockquote><div>This is not the case in 1.8.4rc4:</div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><font face="monospace">checking if C compiler and POSIX threads work as is... yes</font></div></div><div><div><font face="monospace">checking if C++ compiler and POSIX threads work as is... yes</font></div></div><div><div><font face="monospace">checking if Fortran compiler and POSIX threads work as is... yes</font></div></div></blockquote><div><br></div><div>So, it looks like a chunk of Solaris-specific configure logic was LOST.</div><span><font color="#888888"><div><br></div><div>-Paul</div></font></span></div>
</blockquote></div><br clear="all"><div><br></div></div></div><span class="">-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</span></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/12/16625.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/12/16625.php</a><br></blockquote></div></div>

