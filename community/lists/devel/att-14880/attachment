<div dir="ltr"><div><div><div><div><div><div><div><div><div><div>Ralph,<br><br></div>can you please describe your environment (at least compiler (and version) + configure command line)<br></div>i checked osc_rdma_data_move.c only :<br>
<br></div>size_t incoming_length; is used to improve readability.<br></div>it is used only in an assert clause and in OPAL_OUTPUT_VERBOSE<br><br></div>one way to silence the warning is not to use this variable (and compromise readability).<br>
<br></div><div>an other way would be to<br></div><div>#if OPAL_ENABLE_DEBUG<br></div><div>size_t incoming_length = request-&gt;req_status._ucount);<br>#endif<br><br></div>imho, a more elegant way would be to use a macro like<br>
</div>OPAL_IF_DEBUG(size_t incoming_length = request-&gt;req_status._ucount);)<br><br></div>/* i am not aware of such a macro, please point me if it already exists */<br><br></div><div>any thoughts ?<br><br><br></div>about the other warnings, xxx may be used uninitialized in this function, i was unable to reproduce it and i have to double check again.<br>
so far, it seems this is a false positive/compiler bug that could be triggered by inlining<br></div><div>/* i could not find any path in which the variable is used unitialized */<br></div><div><br></div>Cheers,<br><br>Gilles<br>
</div><div class="gmail_extra"><br><br><div class="gmail_quote">On Mon, May 26, 2014 at 12:25 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word"><div style="margin:0px;font-size:11px;font-family:Menlo">Building optimized on an IB-based machine:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo"><br></div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c: In function &#39;ompi_osc_rdma_callback&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">
osc_rdma_data_move.c:1633: warning: unused variable &#39;incoming_length&#39;</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c: In function &#39;ompi_osc_rdma_control_send&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">
osc_rdma_data_move.c:221: warning: &#39;ptr&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c:220: warning: &#39;frag&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c: In function &#39;ompi_osc_gacc_long_start&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c:961: warning: &#39;acc_data&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c: In function &#39;ompi_osc_rdma_gacc_start&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c:912: warning: &#39;acc_data&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c: In function &#39;ompi_osc_rdma_rget_accumulate_internal&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:943: warning: &#39;ptr&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:940: warning: &#39;frag&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c: In function &#39;ompi_osc_rdma_acc_long_start&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_data_move.c:827: warning: &#39;acc_data&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c: In function &#39;ompi_osc_rdma_rget&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:736: warning: &#39;ptr&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:733: warning: &#39;frag&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c: In function &#39;ompi_osc_rdma_accumulate_w_req&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:420: warning: &#39;ptr&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:417: warning: &#39;frag&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c: In function &#39;ompi_osc_rdma_put_w_req&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:251: warning: &#39;ptr&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:244: warning: &#39;frag&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c: In function &#39;ompi_osc_rdma_get&#39;:</div><div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:736: warning: &#39;ptr&#39; may be used uninitialized in this function</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">osc_rdma_comm.c:733: warning: &#39;frag&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo"><br></div><div style="margin:0px;font-size:11px;font-family:Menlo">
<br></div><div style="margin:0px;font-size:11px;font-family:Menlo"><br></div><div style="margin:0px;font-size:11px;font-family:Menlo"><br></div><div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c: In function &#39;vt_plugin_cntr_write_post_mortem&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c:1139: warning: &#39;min_counter&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c: In function &#39;vt_plugin_cntr_write_post_mortem&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c:1139: warning: &#39;min_counter&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c: In function &#39;vt_plugin_cntr_write_post_mortem&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c:1139: warning: &#39;min_counter&#39; may be used uninitialized in this function</div><div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c: In function &#39;vt_plugin_cntr_write_post_mortem&#39;:</div>
<div style="margin:0px;font-size:11px;font-family:Menlo">vt_plugin_cntr.c:1139: warning: &#39;min_counter&#39; may be used uninitialized in this function</div><div><br></div></div><br>_______________________________________________<br>

devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/05/14840.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/05/14840.php</a><br></blockquote></div><br></div>

