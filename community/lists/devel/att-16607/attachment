<div dir="ltr">I have tried with a oob_tcp_if_include setting so that there is now only 1 interface.<div>Even with just one interface and -mt=yes in both LDFLAGS and wrapper-ldflags I *still* getting messages like</div><div><br></div><div><div><font face="monospace">[pcp-j-20:11470] mca_oob_tcp_accept: accept() failed: Error 0 (0).</font></div><div><font face="monospace">------------------------------------------------------------</font></div><div><font face="monospace">A process or daemon was unable to complete a TCP connection</font></div><div><font face="monospace">to another process:</font></div><div><font face="monospace">  Local host:    pcp-j-20</font></div><div><font face="monospace">  Remote host:   172.16.0.120</font></div><div><font face="monospace">This is usually caused by a firewall on the remote host. Please</font></div><div><font face="monospace">check that any firewall (e.g., iptables) has been disabled and</font></div><div><font face="monospace">try again.</font></div><div><font face="monospace">------------------------------------------------------------</font></div></div><div><br></div><div><br></div><div>I am getting less certain that my speculation about thread-safe libs is correct.</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Mon, Dec 15, 2014 at 1:24 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">A little more reading finds that...<div><br></div><div>Docs says that one needs &quot;-mt&quot; without the &quot;=yes&quot;.<div>That will work for both old and new compilers, where &quot;-mt=yes&quot; chokes older ones.</div><div><br></div><div>Also, man pages say &quot;-mt&quot; must come before &quot;-lpthread&quot; in the link command.</div><span class="HOEnZb"><font color="#888888"><div><br></div><div>-Paul</div></font></span></div></div><div class="HOEnZb"><div class="h5"><div class="gmail_extra"><br><div class="gmail_quote">On Mon, Dec 15, 2014 at 12:52 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div class="gmail_extra"><span><br><div class="gmail_quote">On Mon, Dec 15, 2014 at 5:35 AM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">7. Linkage issue on Solaris-11 reported by Paul Hargrove. Missing the multi-threaded C libraries, apparently need &quot;-mt=yes&quot; in both compile and link. Need someone to investigate.</blockquote></div><br></span>The lack of multi-thread libraries is my SPECULATION.</div><div class="gmail_extra"><br></div><div class="gmail_extra">The fact that configuring with LDFLAGS=-mt=yes did not help may or may not prove anything.</div><div class="gmail_extra">I didn&#39;t see them in &quot;mpicc -show&quot; and so maybe they needed to be in wrapper-ldflags instead.</div><div class="gmail_extra">My time this week is quite limited, but I can &quot;fire an forget&quot; tests of any tarballs you provide.<span><font color="#888888"><br><br>-Paul<br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div></div>
</blockquote></div><br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</div>
</div></div></blockquote></div><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

