<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Interesting - I can certainly fix the test so it lets make check complete.<div><br></div><div>FWIW: I didn't know we were running on BG/Q - does it work? I assume this is with slurm?</div><div><br><div><div>On Sep 11, 2012, at 12:34 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div>In testing 1.6.2rc2 on a BG/Q front-end I've encountered the following failure from "make check":</div><div><br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<font face="courier new, monospace">&nbsp;Failure : Mismatch: input "/soft", expected:0 got:1</font><font face="courier new, monospace"><br></font><font face="courier new, monospace">SUPPORT: OMPI Test failed: opal_path_nfs() (1 of 20 failed)<br>
</font><font face="courier new, monospace">FAIL: opal_path_nfs</font></blockquote><div><br></div><div>What I find digging deeper is that the mount of /soft is a bit unusual (at least to me):</div><div><br></div><div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<font face="courier new, monospace">$ grep /soft /etc/fstab<br></font><font face="courier new, monospace">/gpfs/vesta_scratch/software &nbsp;/soft none &nbsp;_netdev,bind &nbsp; 0 0</font><font face="courier new, monospace"><br></font><font face="courier new, monospace">$ mount | grep /soft<br>
</font><font face="courier new, monospace">/gpfs/vesta_scratch/software on /soft type none (rw,bind,_netdev)</font><font face="courier new, monospace"><br></font><font face="courier new, monospace">$ grep /soft /proc/mounts&nbsp;<br>
</font><font face="courier new, monospace">/dev/vesta_scratch /soft gpfs rw,relatime 0 0</font></blockquote></div><div><br></div><div><br></div><div>Looking into the mount man page I find that the "_netdev" is NOT a problem, just an keyword used to identify mounts that require network access to implement "&nbsp;-O no_netdev" in mount.</div>
<div>The "problem" that opal_path_nfs is encountering is that this is a "bind" mount which makes an already mounted fs (or subtree of one) available at a second location.</div><div><br></div><div>If I am understanding "expected:0 got:1" correctly this failure shows that the TEST is getting this case (bind-mount of GPFS fs) incorrect.</div>
<div>So, this is a BENIGN failure, but distracting (and preventing "make check" from completing).</div><div><br></div><div>-Paul</div><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font><br>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
