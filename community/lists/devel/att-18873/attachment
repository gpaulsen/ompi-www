<div dir="ltr">It appears that 2.0.0rc2 contains the same sort of alloca()-related error I reported against 1.10.2rc1 in <a href="https://www.open-mpi.org/community/lists/devel/2015/12/18440.php">https://www.open-mpi.org/community/lists/devel/2015/12/18440.php</a><div><br clear="all"><div>This time the problem is in osc_rdma_peer.c, which *does* attempt the appropriate conditional include of alloca.h, but incorrectly does so before (indirect) inclusion of ompi_config.h (to define HAVE_ALLOCA_H).</div><div><br></div><div>The simple patch below reorders the includes to resolve the problem.</div><div><br></div><div>-Paul</div><div><br></div><div><div><font face="monospace, monospace">--- ompi/mca/osc/rdma/osc_rdma_peer.c~  Mon May  2 13:37:30 2016</font></div><div><font face="monospace, monospace">+++ ompi/mca/osc/rdma/osc_rdma_peer.c   Mon May  2 13:37:41 2016</font></div><div><font face="monospace, monospace">@@ -11,14 +11,14 @@</font></div><div><font face="monospace, monospace">  * $HEADER$</font></div><div><font face="monospace, monospace">  */</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">-#ifdef HAVE_ALLOCA_H</font></div><div><font face="monospace, monospace">-#include &lt;alloca.h&gt;</font></div><div><font face="monospace, monospace">-#endif</font></div><div><font face="monospace, monospace">-</font></div><div><font face="monospace, monospace"> #include &quot;osc_rdma_comm.h&quot;</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"> #include &quot;ompi/mca/bml/base/base.h&quot;</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">+#ifdef HAVE_ALLOCA_H</font></div><div><font face="monospace, monospace">+#include &lt;alloca.h&gt;</font></div><div><font face="monospace, monospace">+#endif</font></div><div><font face="monospace, monospace">+</font></div><div><font face="monospace, monospace"> #define NODE_ID_TO_RANK(module, node_id) ((node_id) * ((ompi_comm_size ((module)-&gt;comm) + (module)-&gt;node_count - 1) / (module)-&gt;node_count))</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"> /**</font></div></div><div><br></div><div><br></div><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>

