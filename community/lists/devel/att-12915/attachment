<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">I guess we could argue this for awhile, but I personally don't care how it gets fixed. The issue here is that (a) you promised to provide a "better" fix nearly a year ago, (b) it never happened, and (c) a user who has patiently waited all this time has asked if we could please fix it.<div><br></div><div>It now works, but if you want to provide a better solution, please do - I have no issue with it. However, until you do, I propose to use what we have.</div><div><br></div><div>As for the commit message, I really have no interest in spending time debating the proper way to say something. :-)</div><div><br></div><div><br><div><div>On Sep 17, 2013, at 10:40 AM, George Bosilca &lt;<a href="mailto:bosilca@icl.utk.edu">bosilca@icl.utk.edu</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Ralph,<div><br></div><div>I don't think your patch is addressing the right issue. In fact your commit treat the wrong symptom instead of addressing the core issue that generate the problem. Let me explain this in terms of MPI.</div><div><br></div><div>The MPI_Intercomm_merge function transform an inter-comm into an intra-comm, basically a two groups world into a single group world. Under the MPI standard the two groups handled by this function should be able to talk to each other in this inter-comm. So, your patch fixes a non existent problem, as the processes were already supposed to be able to communicate together before the MPI_Intercomm_merge. The real issue (which was highlighted in the original email exchange) is that during the MPI_Intercom_create the bridge communicator is not used to correctly exchange the modex of the two groups of processes.</div><div><br></div><div><div><div>In addition I have two smaller issues related to this patch.</div><div><br></div><div>1. The commit message is misleading, at least from the MPI standpoint.</div><div><br></div><div>2. This function is one of the few MPI-2 dynamic processing functions that can be solved purely at the OMPI layer, without a need for extra functionality from the RTE. The infrastructure of the correct solution is already in the trunk, what is missing is the correct exchange of the complete modex information of the two groups instead of exchanging their OMPI_ARCH.</div><div><br></div><div>Based on the fact that the band-aid is not really solving the right problem I propose the removal of this patch from the trunk, and the blocking of the pending CMR until a better solution is found.</div><div><br></div><div>&nbsp; Thanks,</div><div>&nbsp; &nbsp; George.</div><div><br></div><div><br></div><div>On Sep 15, 2013, at 17:01 , Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">I fixed it and have filed a cmr to move it to 1.7.3<div><br></div><div>Thanks for your patience, and for reminding me</div><div>Ralph</div><div><br><div><div>On Sep 13, 2013, at 12:05 PM, Suraj Prabhakaran &lt;<a href="mailto:suraj.prabhakaran@gmail.com">suraj.prabhakaran@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">Dear Ralph, that would be great if you could give it a try. We have been hoping for it for a year now and it could greatly benefit us if this is fixed!! :-)<div><br></div><div>Thanks!</div><div>Suraj<br><div>
<br></div><div><br></div><div class="gmail_extra"><br><br><div class="gmail_quote">On Fri, Sep 13, 2013 at 5:39 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">It has been a low priority issue, and hence not resolved yet. I doubt it will make 1.7.3, though if you need it, I'll give it a try.<br>

<div><div class="h5"><br>
On Sep 13, 2013, at 7:21 AM, Suraj Prabhakaran &lt;<a href="mailto:suraj.prabhakaran@gmail.com">suraj.prabhakaran@gmail.com</a>&gt; wrote:<br>
<br>
&gt; Hello,<br>
&gt;<br>
&gt; Is there a plan to fix the problem with MPI_Intercomm_merge with 1.7.3 as stated in this ticket? We are really in need of this at the moment. Any hints?<br>
&gt;<br>
&gt; We face the following problem.<br>
&gt;<br>
&gt; Parents (x and y) spawn child (z). (all of them execute on separate nodes)<br>
&gt; x is the root.<br>
&gt; x,y and z do an MPI_Intercomm_merge.<br>
&gt; x and z are able to communicate properly.<br>
&gt; But y and z are not able to communicate after the merge.<br>
&gt;<br>
&gt; Is this bug in high priority for the next release?<br>
&gt;<br>
&gt; <a href="https://svn.open-mpi.org/trac/ompi/ticket/2904" target="_blank">https://svn.open-mpi.org/trac/ompi/ticket/2904</a><br>
&gt;<br>
&gt; Best,<br>
&gt; Suraj<br>
&gt;<br>
&gt;<br>
</div></div>&gt; _______________________________________________<br>
&gt; devel mailing list<br>
&gt; <a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
<br>
_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
<a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
</blockquote></div><br><br clear="all"><div><br></div>-- <br>Regards,<br>Suraj Prabhakaran
</div></div></div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></blockquote></div><br></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></blockquote></div><br></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
