<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>On 27 Feb 2015, at 10:14 AM, Jeff Squyres (jsquyres) wrote:</div><div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; "><span class="Apple-style-span" style="font-family: monospace; ">Yes, you do need to specify -m32 in CFLAGS and --with-wrapper*, because you may well want to build OMPI with one set of flags and build MPI applications with a different set of flags. &nbsp;Hence, the wrappers don't contain all the CFLAGS used to build OMPI, for example.<br></span></span></blockquote></div><div><br></div>I think of -m32 and -m64 as really selecting different compilers. &nbsp;(Which might actually be true under the covers.) &nbsp;When I use the -m flag, I generally add it to the compiler definition (FF, FC, LD), not the XXFLAGS. &nbsp;If one follows that convention, will OpenMPI always pass the -m flag on to the wrapper scripts so the addition of --with-wrapper* is not necessary? &nbsp;It would have to handle the embedded blank properly, which may be tricky.<div><br><div>Larry Baker<br>US Geological Survey<br>650-329-5608<br><a href="mailto:baker@usgs.gov">baker@usgs.gov</a><br><br></div></div></body></html>
