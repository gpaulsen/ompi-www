<div dir="ltr">Oops, my mistake - this was *not* a test of &#39;master&#39;<div><br></div><div>This problem appears in Jeff&#39;s latest unofficial tarball built from his branch &quot;feature/libltdl-must-die&quot;.</div><div><br></div><div>I don&#39;t know if Jeff introduced the problem in his branch, or is missing the fix.  Either way, its in your lap, Jeff.</div><div><br></div><div>-Paul<br><div class="gmail_extra"><br><div class="gmail_quote">On Thu, Feb 26, 2015 at 4:12 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">I have been testing mtl:psm on a very old system.<div>Sometime pretty recently (this week I think), this started to break at configure time:</div><div><br></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><font face="monospace, monospace" size="1">--- MCA component mtl:psm (m4 configuration macro)</font></div></div><div><div><font face="monospace, monospace" size="1">checking for MCA component mtl:psm compile mode... dso</font></div></div><div><div><font face="monospace, monospace" size="1">checking --with-psm value... sanity check ok (/usr/local/Infinipath)</font></div></div><div><div><font face="monospace, monospace" size="1">checking --with-psm-libdir value... simple ok (unspecified)</font></div></div><div><div><font face="monospace, monospace" size="1">checking psm.h usability... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking psm.h presence... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking for psm.h... yes</font></div></div><div><div><font face="monospace, monospace" size="1">looking for library in lib</font></div></div><div><div><font face="monospace, monospace" size="1">checking for library containing psm_finalize... no</font></div></div><div><div><font face="monospace, monospace" size="1">looking for library in lib64</font></div></div><div><div><font face="monospace, monospace" size="1" style="background-color:rgb(255,255,0)">checking for library containing psm_finalize... (cached) no</font></div></div><div><div><font face="monospace, monospace" size="1">configure: error: PSM support requested but not found.  Aborting</font></div></div></blockquote><div><div><br></div><div>I strongly suspect that &quot;(cached) no&quot; is a sign of the real problem.</div><div>The test didn&#39;t find /usr/local/Infinipath/lib64/libpsm_infinipath.so.1.0 because it didn&#39;t actually try to!</div><div><br></div><div>For comparison here is the same section of configure output archived from testing of 1.8.4rc5:</div></div><div><br></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><font face="monospace, monospace" size="1">--- MCA component mtl:psm (m4 configuration macro)</font></div></div><div><div><font face="monospace, monospace" size="1">checking for MCA component mtl:psm compile mode... dso</font></div></div><div><div><font face="monospace, monospace" size="1">checking --with-psm value... sanity check ok (/usr/local/Infinipath)</font></div></div><div><div><font face="monospace, monospace" size="1">checking --with-psm-libdir value... simple ok (unspecified)</font></div></div><div><div><font face="monospace, monospace" size="1">checking psm.h usability... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking psm.h presence... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking for psm.h... yes</font></div></div><div><div><font face="monospace, monospace" size="1">looking for library in lib</font></div></div><div><div><font face="monospace, monospace" size="1">checking for psm_finalize in -lpsm_infinipath... no</font></div></div><div><div><font face="monospace, monospace" size="1">looking for library in lib64</font></div></div><div><div><font face="monospace, monospace" size="1" style="background-color:rgb(255,255,0)">checking for psm_finalize in -lpsm_infinipath... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking if MCA component mtl:psm can compile... yes</font></div></div><div><div><font face="monospace, monospace" size="1">checking for index in endpoint array for tag MTL... 1</font></div></div></blockquote><div><br></div><div>Note the &quot;yes&quot; rather than &quot;(cached) no&quot; AND the different checking description (specific lib vs any).</div><span class="HOEnZb"><font color="#888888"><div><br></div><div>-Paul<br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</div></font></span></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div></div>

