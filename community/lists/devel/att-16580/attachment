<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">I suspect we’ll just remove it, but I want to give the other developers a chance to chime in before doing so.<div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Dec 12, 2014, at 6:07 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">Ralph,<div class=""><br class=""></div><div class="">If preserved at all, the existing code should probably be made to act more intelligently when it encounters an unknown escape code.&nbsp; I would suggest advancing the length by some value (say 128?) that should be "big enough" and printing a prominent warning.&nbsp; So, the next time this bug surfaces it will be (a) non-fatal and (b) easy to pin down.</div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Fri, Dec 12, 2014 at 5:46 PM, Ralph Castain <span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">Looking at the comments in the code, it appears that the rationale when written was to provide support for REALLY ancient systems that didn’t have some of these functions. Since that time, we added a configure check for vsnprintf, so I’m adding Paul/Larry’s suggested code, protected by that configure.<div class=""><br class=""></div><div class="">Since I suspect the configure check will always pass on any system of interest today, I think this will solve the problem. We can then address the broader question (e.g., do we even need this stuff any more at all?) in a more leisurely way.</div><div class=""><div class="h5"><div class=""><br class=""></div><div class=""><br class=""><div class=""><blockquote type="cite" class=""><div class="">On Dec 12, 2014, at 5:42 PM, Larry Baker &lt;<a href="mailto:baker@usgs.gov" target="_blank" class="">baker@usgs.gov</a>&gt; wrote:</div><br class=""><div class=""><div style="word-wrap:break-word" class=""><div class=""><div class="">On 12 Dec 2014, at 5:22 PM, Paul Hargrove wrote:</div><br class=""><blockquote type="cite" class=""><span style="border-collapse:separate;font-family:'Helvetica Neue';font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;border-spacing:0px;font-size:inherit" class=""><div class="">HOWEVER, while the patch catches the "%u" case, there are plenty of potential ways to hit the same problem if, for instance, one uses "%zu" for size_t.&nbsp; Additionally, I've already noted that the code for "%ld", "%lx", "%lX", "%lf" are all currently incorrect.</div></span></blockquote></div><div class=""><br class=""></div>Not sure if it is applicable, but C99 has an &lt;inttypes.h&gt; header which #include's &lt;stdint.h&gt; and provides additional capabilities, such as printf()/scanf() format macros for the types defined in &lt;stdint.h&gt;.<br class=""><div class=""><br class=""></div><div class=""><div class=""><span style="border-collapse:separate;font-family:'Helvetica Neue';font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;border-spacing:0px;font-size:inherit" class="">Larry Baker<br class="">US Geological Survey<br class=""><a href="tel:650-329-5608" value="+16503295608" target="_blank" class="">650-329-5608</a><br class=""><a href="mailto:baker@usgs.gov" target="_blank" class="">baker@usgs.gov</a><br class=""><br class=""></span></div><div class=""></div></div></div></div></blockquote></div><br class=""></div></div></div></div></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2014/12/16578.php</div></blockquote></div><br class=""></div></body></html>
