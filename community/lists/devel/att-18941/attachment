<div dir="ltr">Perhaps this is already known.<div>Several builds I&#39;ve tried recently from the ompi (not ompi-release) repo are failing on 32-bit platforms with</div><div><font face="monospace, monospace">   ../../../opal/.libs/libopen-pal.so: undefined reference to `__sync_add_and_fetch_8&#39;</font></div><div><div><br></div><div>This is impacting PRs that I am being asked to test (e.g. 1643).</div></div><div><br></div><div>Note that I did *not* configure with --enable-builtin-atomics, yet configure seems to show them being selected anyway:</div><div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><font face="monospace, monospace">*** Assembler</font></div><div><font face="monospace, monospace">checking dependency style of gcc -std=gnu99... gcc3</font></div><div><font face="monospace, monospace">checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B</font></div><div><font face="monospace, monospace">checking the name lister (/usr/bin/nm -B) interface... BSD nm</font></div><div><font face="monospace, monospace">checking for fgrep... /usr/bin/grep -F</font></div><div><font face="monospace, monospace">checking for __sync builtin atomics... yes</font></div><div><font face="monospace, monospace">checking for processor support of __sync builtin atomic compare-and-swap on 128-bit values... no</font></div><div><font face="monospace, monospace">checking for __sync builtin atomic compare-and-swap on 128-bit values with -mcx16 flag... no</font></div><div><font face="monospace, monospace">checking if .proc/endp is needed... no</font></div><div><font face="monospace, monospace">checking directive for setting text section... .text</font></div><div><font face="monospace, monospace">checking directive for exporting symbols... .globl</font></div><div><font face="monospace, monospace">checking for objdump... objdump</font></div><div><font face="monospace, monospace">checking if .note.GNU-stack is needed... no</font></div><div><font face="monospace, monospace">checking suffix for labels... :</font></div><div><font face="monospace, monospace">checking prefix for global symbol labels...</font></div><div><font face="monospace, monospace">checking prefix for lsym labels... .L</font></div><div><font face="monospace, monospace">checking prefix for function in .type... @</font></div><div><font face="monospace, monospace">checking if .size is needed... yes</font></div><div><font face="monospace, monospace">checking if .align directive takes logarithmic value... no</font></div><div><font face="monospace, monospace">checking if processor supports x86_64 16-byte compare-and-exchange... no</font></div><div><font face="monospace, monospace">checking for assembly architecture... IA32</font></div><div><font face="monospace, monospace">checking for builtin atomics... BUILTIN_SYNC</font></div><div><font face="monospace, monospace">checking for atomic assembly filename... none</font></div></div><div><br></div></blockquote></div><div>-Paul<br><div><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div></div>

