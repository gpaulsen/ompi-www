<div dir="ltr">New since the last time I did testing, I now have access to Linux MIPS64 (Cavium Octeon II) systems.<div>They are infinitely better than the QEMU-emulated MIPS I have used for previous testing.<br><div>I have access to both big-endian and little-endian, and am setup to test the three main ABIs (32, n32 and 64).</div><div><br></div><div>For the little-endian system all three ABIs pass build, pass &quot;make check&quot; and run a sampling of the examples.</div><div>However, for the big-endian system only the &quot;-mabi=64&quot; case passes.</div><div><br></div><div>With big-endian and &quot;-mabi=32&quot; I passed &quot;make check&quot; but saw a SEGV from ring_c:</div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><font face="monospace, monospace">$ mpirun -mca btl sm,self -np 2 examples/ring_c&#39;</font></div></div><div><div><font face="monospace, monospace">[erpro8-fsf1:05119] *** Process received signal ***</font></div></div><div><div><font face="monospace, monospace">[erpro8-fsf1:05119] Signal: Segmentation fault (11)</font></div></div><div><div><font face="monospace, monospace">[erpro8-fsf1:05119] Signal code: Address not mapped (1)</font></div></div><div><div><font face="monospace, monospace">[erpro8-fsf1:05119] Failing at address: 0x401c7c0</font></div></div><div><div><font face="monospace, monospace">[erpro8-fsf1:05119] *** End of error message ***</font></div></div><div><div><font face="monospace, monospace">Segmentation fault (core dumped)</font></div></div></blockquote><div><div><br></div><div>With big-endian and &quot;-mabi=n32&quot; I fail the dl_open test (the first non-trivial test) in &quot;make check&quot;:</div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div><div><font face="monospace, monospace">make[4]: Entering directory `/home/phargrov/OMPI/openmpi-2.0.0rc2-linux-mips64-n32/BLD/ompi/debuggers&#39;</font></div></div></div><div><div><div><font face="monospace, monospace">PASS: predefined_gap_test</font></div></div></div><div><div><div><font face="monospace, monospace">PASS: predefined_pad_test</font></div></div></div><div><div><div><font face="monospace, monospace">/home/phargrov/OMPI/openmpi-2.0.0rc2-linux-mips64-n32/openmpi-2.0.0rc2/config/test-driver: line 107: 14795 Segmentation fault      &quot;$@&quot; &gt; $log_file 2&gt;&amp;1</font></div></div></div><div><div><div><font face="monospace, monospace">FAIL: dlopen_test</font></div></div></div><div><div><div><font face="monospace, monospace">============================================================================</font></div></div></div><div><div><div><font face="monospace, monospace">Testsuite summary for Open MPI 2.0.0rc2</font></div></div></div><div><div><div><font face="monospace, monospace">============================================================================</font></div></div></div><div><div><div><font face="monospace, monospace"># TOTAL: 3</font></div></div></div><div><div><div><font face="monospace, monospace"># PASS:  2</font></div></div></div><div><div><div><font face="monospace, monospace"># SKIP:  0</font></div></div></div><div><div><div><font face="monospace, monospace"># XFAIL: 0</font></div></div></div><div><div><div><font face="monospace, monospace"># FAIL:  1</font></div></div></div><div><div><div><font face="monospace, monospace"># XPASS: 0</font></div></div></div><div><div><div><font face="monospace, monospace"># ERROR: 0</font></div></div></div><div><div><div><font face="monospace, monospace">============================================================================</font></div></div></div><div><div><div><font face="monospace, monospace">See ompi/debuggers/test-suite.log</font></div></div></div><div><div><div><font face="monospace, monospace">Please report to <a href="http://www.open-mpi.org/community/help/">http://www.open-mpi.org/community/help/</a></font></div></div></div><div><div><div><font face="monospace, monospace">============================================================================</font></div></div></div><div><div><div><font face="monospace, monospace">make[4]: *** [test-suite.log] Error 1</font></div></div></div></blockquote><div><div>Or, when run manually:</div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><div><font face="monospace, monospace">$ ./ompi/debuggers/dlopen_test</font></div></div></div><div><div><div><font face="monospace, monospace">[erpro8-fsf1:05134] *** Process received signal ***</font></div></div></div><div><div><div><font face="monospace, monospace">[erpro8-fsf1:05134] Signal: Segmentation fault (11)</font></div></div></div><div><div><div><font face="monospace, monospace">[erpro8-fsf1:05134] Signal code: Address not mapped (1)</font></div></div></div><div><div><div><font face="monospace, monospace">[erpro8-fsf1:05134] Failing at address: 0x1100154c</font></div></div></div><div><div><div><font face="monospace, monospace">[erpro8-fsf1:05134] *** End of error message ***</font></div></div></div><div><div><div><font face="monospace, monospace">Segmentation fault (core dumped)</font></div></div></div></blockquote><div><div><br></div><div>Unfortunately, gdb is not working properly on the core files generated by either failure.</div><div><br></div><div>In addition to the endian differences between the two MIPS64 systems, the little-endian one is running a newer distro (Debian jessie vs wheezy).</div><div>So, I cannot conclusively state that the endianness is the root cause.</div><div><br></div><div>-Paul</div><div><br></div><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div></div>

