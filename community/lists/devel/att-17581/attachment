<div dir="ltr">Josh,<div><br></div><div>You are grossly misinterpreting my position in this.</div><div>You use my name to support a position I do not agree with.</div><div><br></div><div>First, I don&#39;t do production work at all and have actually never written an MPI application more significant than a class project.</div><div>Second, anyone who wants to use &quot;master&quot; for production use probably gets what they deserve.</div><div><br></div><div>I believe, as Ralph does, that master will occasionally get broken because developers simply cannot test every possible system.</div><div>I do not think (but could be wrong) that any of the existing Jenkins setups use PGI, and so would not have caught this problem.</div><div>Nor do I think a human reading an RFC or PR text would have realized that PGI&#39;s OMP runtime would react this way.</div><div>So, it is possible (I cannot be certain, of course) that even had this change been though the RFC and PR processes, the problem would not have been discovered until the MTT runs.</div><div>As Ralph said, this is why MTT exists.</div><div><br></div><div>My only issue with Ralph was that he attempted (in my reading) to *dismiss* the problem with &quot;fix it in configure&quot;.</div><div>I shared some honest concerns about how doing so didn&#39;t seem technically possible (at least not in general).</div><div>My response to Ralph was to pick on those points, and not to support Howard&#39;s position regarding how/when/why the code had entered master.</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Jul 1, 2015 at 3:10 AM, Joshua Ladd <span dir="ltr">&lt;<a href="mailto:jladd.mlnx@gmail.com" target="_blank">jladd.mlnx@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><span style="text-align:right">Paul,</span></div><div><span style="text-align:right"><br></span></div><span style="text-align:right">I think your testing is extremely helpful. Even more so with this new versioning scheme. </span><div><span style="text-align:right"><br></span></div><div><span style="text-align:right">Setting OMP envars in ORTE should have been discussed. Considering both Paul and Howard (key members of our community) use OMP in production environments with Cray and PGI compilers, it seems a bit odd to me that you wouldn&#39;t give a heads up and consult with someone on this. Not very community like if you ask me. </span></div><div><span style="text-align:right"><br></span></div><div><span style="text-align:right">I support your stance on this, Howard. I don&#39;t think it&#39;s an overreaction. </span></div><div><span style="text-align:right"><br></span></div><div><span style="text-align:right">Josh </span></div><div><span style="text-align:right"><br></span></div><div><span style="text-align:right"> </span><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><span class="">On Wed, Jul 1, 2015 at 4:02 AM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br></span><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr"><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Jul 1, 2015 at 12:05 AM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:</div><div class="gmail_quote">[...]<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Now that we know there is an issue with one compiler, and it is isolated to just that compiler, we can easily use configure.m4 to protect against it. I&#39;ll add that protection here shortly.</blockquote><div>[...]</div><div><br></div><div>Ralph,</div><div><br></div><div>One cannot possibly know for certain that &quot;it is isolated to just that one compiler&quot; unless one has tried *every* compiler.  So, I hope the configure-based solution is &quot;stronger&quot; than black-listing PGI.</div><div><br></div><div>Since we are told the PGI problem occurs at runtime, not compile time, I am curious just what solution you have in mind for the PGI compilers targeting Cray compute nodes (or cross-compilation in general) where you can&#39;t expect to test the runtime behavior.</div><div><br></div><div>When I have a moment in the next couple days, I can try master on many versions of PGI, and some XLC, PathScale and Open64 compilers that are probably not covered by MTT (though I&#39;ve not looked) as well as Sun, Intel, Gnu and Clang compilers.  Absent any other instructions, I am going to assume, based on Howard&#39;s emails, that examples/ring_c.c is sufficient to reproduce using pgi-12.9 on NERSC&#39;s Carver.  I would, however, appreciate somebody first confirming for me that such testing is helpful in some way.  I am not going to bother if the data I collect is going to be discarded.</div><span><font color="#888888"><div><br></div><div>-Paul</div></font></span></div><span><font color="#888888"><br><br><br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div></div>
<br></div></div><span class="">_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/07/17575.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/07/17575.php</a><br></span></blockquote></div><br></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/07/17577.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/07/17577.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

