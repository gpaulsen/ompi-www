<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"><base href="x-msg://711/"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><br><div><div>On Oct 30, 2012, at 11:55 AM, Sandra Guija &lt;<a href="mailto:sguija@hotmail.com">sguija@hotmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div class="hmmessage" style="font-size: 10pt; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div dir="ltr">I am able to change the memory size parameters, so if I increase memory size (currently 2 gb) or add caches, it could be a solution?</div></div></blockquote><div><br></div>could be</div><div><br><blockquote type="cite"><div class="hmmessage" style="font-size: 10pt; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div dir="ltr"><div>or is the program that is using too much memory?<br></div></div></div></blockquote><div><br></div>Hard to tell. In the case you show, we are aborting because we don't see enough memory to support the shared memory system. You can adjust that size by setting the MCA params for shared memory - see "ompi_info --param btl sm".</div><div><br></div><div>On the other hand, your program is clearly huge. 10k x 10k = 100M entries, so you are using close to a Gbyte (assuming doubles) just to store the array in one process.</div><div><br></div><div><br><blockquote type="cite"><div class="hmmessage" style="font-size: 10pt; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div dir="ltr"><div><div><br>thanks really for you input, I appreciate it.<br><br></div><div>Sandra Guija<br><br><div><div id="SkyDrivePlaceholder"></div><hr id="stopSpelling">From: <a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a><br>Date: Tue, 30 Oct 2012 11:50:28 -0700<br>To: <a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>Subject: Re: [OMPI devel] process kill signal 59<br><br>Yeah, you're using too much memory for the shared memory system. Run with -mca btl ^sm on your cmd line - it'll run slower, but you probably don't have a choice.<div><br></div><div><br><div><div>On Oct 30, 2012, at 11:38 AM, Sandra Guija &lt;<a href="mailto:sguija@hotmail.com">sguija@hotmail.com</a>&gt; wrote:</div><br class="ecxApple-interchange-newline"><blockquote><div class="ecxhmmessage" style="font-size: 10pt; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; "><div dir="ltr">yes I think is related with my program too, when I run 1000x1000 matrix multiplication, the program works.<div>when I run&nbsp;<span style="font-size: 10pt; ">the 10,000 matrix&nbsp;</span><span style="font-size: 10pt; ">only on one machine &nbsp;I got this:</span></div><div>mca_common_sm_mmap_init: mmap failed with errno=12</div><div>mca_mpool_sm_init: unable to shared memory mapping (&nbsp;/tmp/openmpi-sessions-mpiu@tango_0/default-universe-1529/1/shared_mem_pool .tango)</div><div><span style="font-size: 10pt; ">mca_common_sm_mmap_init: /tmp/openmpi-sessions-mpiu@tango_0/default-universe-1529/1/shared_mem_pool .tango failed with errno=2</span></div><div>mca_mpool_sm_init: unable to shared memory mapping (&nbsp;/tmp/openmpi-sessions-mpiu@tango_0/default-universe-1529/1/shared_mem_pool .tango)</div><div>PML add procs failed</div><div>--&gt;Returned "0ut of resource" (-2) instead of " Success" (0)</div><div><br></div><div>this is the result when I run<span class="ecxApple-converted-space">&nbsp;</span><b>free -m</b></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total &nbsp; used &nbsp; free &nbsp; shared &nbsp;buffers &nbsp; cached</div><div>Mem: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2026 &nbsp; &nbsp;54 &nbsp; &nbsp;1972 &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; 6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 25</div><div>-/+ buffer cache: &nbsp; &nbsp;22 &nbsp; &nbsp; &nbsp;511 &nbsp; &nbsp; &nbsp;<br><div>&nbsp;Swap: &nbsp; &nbsp; &nbsp; &nbsp; 511 &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 511</div><div><br>Sandra Guija<br><br><div><div id="ecxSkyDrivePlaceholder"></div><hr id="ecxstopSpelling">From:<span class="Apple-converted-space">&nbsp;</span><a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a><br>Date: Tue, 30 Oct 2012 10:33:02 -0700<br>To:<span class="Apple-converted-space">&nbsp;</span><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>Subject: Re: [OMPI devel] process kill signal 59<br><br>Ummm...not sure what I can say about that with so little info. It looks like your process died for some reason that has nothing to do with us - a bug in your "magic10000" program?<div><br></div><div><br><div><div>On Oct 30, 2012, at 10:24 AM, Sandra Guija &lt;<a href="mailto:sguija@hotmail.com">sguija@hotmail.com</a>&gt; wrote:</div><br class="ecxApple-interchange-newline"><blockquote><div class="ecxhmmessage" style="font-size: 10pt; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; "><div dir="ltr"><div>Hello,&nbsp;</div><div>I am running a 10,000x10,000 matrix multiplication in 4 processors/1 core and I get the following error:</div><div>mpirun -np 4 --hostfile nodes --bynode magic10000</div><div><br></div><div><div>mpirun noticed that job rank1 with PID 635 on node slave1 exited on signal 509(Real-time signal 25).</div><div>2 additional process aborted (not shown)</div><div>1 process killed (possibly by open MPI)</div></div><div><br></div><div>node file contains:</div><div>master</div><div>slave1</div><div>slave2</div><div>slave3</div><div><br></div><div><br></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></blockquote></div><br></div><br>_______________________________________________ devel mailing list<span class="ecxApple-converted-space">&nbsp;</span><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><span class="ecxApple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></div></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></blockquote></div><br></div><br>_______________________________________________ devel mailing list<span class="Apple-converted-space">&nbsp;</span><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></div></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></blockquote></div><br></body></html>
