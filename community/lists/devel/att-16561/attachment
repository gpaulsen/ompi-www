<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Aha! You are the first to fall thru the timeout. How interesting.<div class=""><br class=""></div><div class="">Can you please try adding “-mca&nbsp;<span style="background-color: rgb(254, 244, 156);" class=""><font face="Menlo" class=""><span style="font-size: 11px;" class="">oob_tcp_connect_timeout 5:0”?</span></font></span></div><div class=""><br class=""></div><div class="">On Dec 12, 2014, at 8:53 AM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:<div><blockquote type="cite" class=""><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class=""><div class=""><br class=""></div><div class="">First, I want to ask what became of the issue discussed in this thread?</div><div class="">&nbsp; &nbsp;<a href="http://www.open-mpi.org/community/lists/devel/2014/11/16160.php" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16160.php</a></div><div class="">I though we had concluded that one just needed -D_REENTRANT.</div><div class="">I mention that only for completeness, because I think my current problem is different.</div><div class=""><br class=""></div><div class="">The following works fine with 1.8.3, making the current behavior a regression.</div><div class=""><br class=""></div><div class="">I am still on the same system as that previous report, and still/again see a message like the following:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div><div class=""><font face="monospace" class="">A process or daemon was unable to complete a TCP connection</font></div><div class=""><font face="monospace" class="">to another process:</font></div><div class=""><font face="monospace" class="">&nbsp; Local host: &nbsp; &nbsp;pcp-j-19</font></div><div class=""><font face="monospace" class="">&nbsp; Remote host: &nbsp; 172.18.0.120</font></div><div class=""><font face="monospace" class="">This is usually caused by a firewall on the remote host. Please</font></div><div class=""><font face="monospace" class="">check that any firewall (e.g., iptables) has been disabled and</font></div><div class=""><font face="monospace" class="">try again.</font></div><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div></div><div class=""><div class=""><font face="monospace" class="">--------------------------------------------------------------------------</font></div><div class=""><font face="monospace" class="">ORTE was unable to reliably start one or more daemons.</font></div><div class=""><font face="monospace" class="">This usually is caused by:</font></div></div><div class=""><font face="monospace" class="">[...etc...]</font></div><div class=""><br class=""></div><div class="">It may be worth noting that the hostname pcp-j-19 (172.16.0.119) and the address 172.18.0.120 are on different subnets.</div><div class=""><br class=""></div><div class="">I CANNOT resolve the issue this time by adding -D_REENTRANT to CFLAGS at configure time (I didn't bother to check if it there by default now or not).<br class=""></div><div class=""><br class=""></div><div class="">NOR can I resolve it by using "-mca oob_tcp_if_include bge0" to allow only the 172.16.0.120 subnet.</div><div class="">IN FACT, the message is the same with that option, other than "172.18" changing to "172.16".</div><div class=""><br class=""></div><div class="">I've attached the output generated by "-mca&nbsp;oob_base_verbose 20" both with and without the oob_tcp_if_include.</div><div class=""><br class=""></div><div class="">I should also note that that the following is my full mpirun command, which excludes the tcp BTL.</div><div class=""><font face="monospace" class="">pcp-j-20$&nbsp;mpirun -mca oob_tcp_if_include bge0 -mca oob_base_verbose 20 -mca btl sm,self,openib -np 2 -host pcp-j-19,pcp-j-20 examples/ring_c</font></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">-Paul<br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>
<span id="cid:6F0E9378-A83A-43E3-B94D-6A0B1C06D666">&lt;stdout-inc.txt&gt;</span><span id="cid:CFA41C8C-6B59-4BFC-B1FF-CB00943A31F0">&lt;stderr-2if.txt&gt;</span>_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2014/12/16551.php</div></blockquote></div><br class=""></div></body></html>
