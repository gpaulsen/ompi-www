<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">The same problem&nbsp;(LIBS = is missing -lpthread)&nbsp;occurs in orte/tools/{orte-clean,orte-iof,orte-ps,orted,orterun,orte-top}/Makefile.<div><br><div apple-content-edited="true"> <div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div><div><div><div><div><div><div><div><div>Larry Baker</div><div>US Geological Survey</div><div>650-329-5608</div><div><a href="mailto:baker@usgs.gov">baker@usgs.gov</a></div></div></div></div></div></div></div></div></div></div></div> </div><div><br><div>Begin forwarded message:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>From: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">Larry Baker &lt;<a href="mailto:baker@usgs.gov">baker@usgs.gov</a>&gt;</font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>Date: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">August 30, 2010 4:48:01 PM PDT</font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>To: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica">Open MPI Developers &lt;<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a>&gt;</font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><font face="Helvetica" size="3" color="#000000" style="font: 12.0px Helvetica; color: #000000"><b>Subject: </b></font><font face="Helvetica" size="3" style="font: 12.0px Helvetica"><b>Re: [OMPI devel] 1.5rc5 has been posted</b></font></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div> </div><div>To follow up on <a href="http://www.open-mpi.org/community/lists/devel/2010/08/8417.php">http://www.open-mpi.org/community/lists/devel/2010/08/8417.php</a>: OpenMPI 1.5rc5 fails in opal/tools/wrappers for PGI 10.3.<br><br>The problem appears to be a missing -lpthread in the definition of most of the *LIBS variables in OpenMPI 1.5rc5 opal/tools/wrappers/Makefile:<br><br><blockquote type="cite">[root@hydra src]# diff openmpi-{1.4.2,1.5rc5}/opal/tools/wrappers/Makefile | grep lutil<br></blockquote><blockquote type="cite">&lt; LIBS = -lnsl -lutil &nbsp;-lpthread<br></blockquote><blockquote type="cite">&gt; LIBS = -lnsl &nbsp;-lutil<br></blockquote><blockquote type="cite">&lt; OMPI_WRAPPER_EXTRA_LIBS = &nbsp;&nbsp;-ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -lpthread -ldl<br></blockquote><blockquote type="cite">&gt; OMPI_WRAPPER_EXTRA_LIBS = &nbsp;&nbsp;-ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -ldl<br></blockquote><blockquote type="cite">&lt; OPAL_WRAPPER_EXTRA_LIBS = -ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -lpthread -ldl<br></blockquote><blockquote type="cite">&gt; OPAL_WRAPPER_EXTRA_LIBS = -ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -ldl<br></blockquote><blockquote type="cite">&lt; ORTE_WRAPPER_EXTRA_LIBS = &nbsp;-ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -lpthread -ldl<br></blockquote><blockquote type="cite">&gt; ORTE_WRAPPER_EXTRA_LIBS = &nbsp;-ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -ldl<br></blockquote><blockquote type="cite">&lt; WRAPPER_EXTRA_LIBS = &nbsp;&nbsp;-ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -lpthread -ldl<br></blockquote><blockquote type="cite">&gt; WRAPPER_EXTRA_LIBS = -ldl &nbsp;&nbsp;-Wl,--export-dynamic -lnsl -lutil -ldl<br></blockquote><blockquote type="cite">&lt; crs_blcr_LIBS = -lnsl -lutil &nbsp;-lpthread<br></blockquote><blockquote type="cite">&gt; crs_blcr_LIBS = -lnsl &nbsp;-lutil -lpthread<br></blockquote><br><blockquote type="cite">[root@hydra src]# diff openmpi-{1.4.2,1.5rc5}/opal/tools/wrappers/Makefile | grep LINK<br></blockquote><blockquote type="cite">&lt; LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \<br></blockquote><blockquote type="cite">&gt; LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \<br></blockquote><blockquote type="cite">&lt; <span class="Apple-tab-span" style="white-space:pre">	</span>$(LINK) $(opal_wrapper_OBJECTS) $(opal_wrapper_LDADD) $(LIBS)<br></blockquote><blockquote type="cite">&gt; <span class="Apple-tab-span" style="white-space:pre">	</span>$(AM_V_CCLD)$(LINK) $(opal_wrapper_OBJECTS) $(opal_wrapper_LDADD) $(LIBS)<br></blockquote><br>I don't know anything about automake, so I don't know what code to look at that changed between 1.4.2 and 1.5rc5 that defines the *LIBS Makefile variables.<br><br>Larry Baker<br>US Geological Survey<br>650-329-5608<br><a href="mailto:baker@usgs.gov">baker@usgs.gov</a><br><br>On Aug 17, 2010, at 2:18 PM, Jeff Squyres wrote:<br><br><blockquote type="cite">We still have one known possible regression:<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"> &nbsp;&nbsp;&nbsp;https://svn.open-mpi.org/trac/ompi/ticket/2530<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">But we posted rc5 anyway (there's a bunch of stuff that has been pending for a while that is now in). &nbsp;Please test!<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"> &nbsp;&nbsp;&nbsp;http://www.open-mpi.org/software/ompi/v1.5/<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">-- <br></blockquote><blockquote type="cite">Jeff Squyres<br></blockquote><blockquote type="cite">jsquyres@cisco.com<br></blockquote><blockquote type="cite">For corporate legal information go to:<br></blockquote><blockquote type="cite">http://www.cisco.com/web/about/doing_business/legal/cri/<br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite"><br></blockquote><blockquote type="cite">_______________________________________________<br></blockquote><blockquote type="cite">devel mailing list<br></blockquote><blockquote type="cite">devel@open-mpi.org<br></blockquote><blockquote type="cite">http://www.open-mpi.org/mailman/listinfo.cgi/devel<br></blockquote><br></div></blockquote></div><br></div></body></html>
