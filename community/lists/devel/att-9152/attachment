<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Dear Samuel,<div><br></div><div>Just as you replied I was trying that on the compute nodes. Surprise, surprise...the value returned as the hard and soft limits is 1024.</div><div><br></div><div>Thanks for confirming my suspicions...</div><div><br></div><div>Regards,</div><div><br></div><div>Tim.</div><div><br><div><div>On Mar 30, 2011, at 7:41 PM, Samuel K. Gutierrez wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Hi,<div><br></div><div>It sounds like Open MPI is hitting your system's open file descriptor limit. &nbsp;If that's the case, one potential workaround is to have your system administrator raise file descriptor limits.</div><div><br></div><div>On a compute node, what does "ulimit -a" show (using bash)?</div><div><br></div><div>Hope that helps,</div><div><br></div><div><div apple-content-edited="true"> <span class="Apple-style-span" style="border-collapse: separate; font-family: Helvetica; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div><div>--</div><div><div>Samuel K. Gutierrez</div><div>Los Alamos National Laboratory&nbsp;</div></div><div><br></div></div></div></div></span></div><div><div>On Mar 30, 2011, at 5:22 PM, Timothy Stitt wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>Dear OpenMPI developers,</div><div><br></div><div>One of our users was running a benchmark on a 1032 core simulation. He had a successful run at 900 cores but when he stepped up to 1032 cores the job just stalled and his logs contained many occurrences of the following line:</div><div><br></div><blockquote type="cite">[d6copt368.crc.nd.edu][[25621,1],0][btl_tcp_component.c:885:mca_btl_tcp_component_accept_handler] accept() failed: Too many open files (24)<br><div></div></blockquote><div><br></div>The simulation has a single master task that communicates with all the other tasks to write out some I/O via the master. We are assuming the message is related to this bottleneck. Is there a 1024 limit on the number of open files/connections for instance?<div><br></div><div>Can anyone confirm the meaning of this error and secondly provide a resolution that hopefully doesn't involve a code rewrite.</div><div><br></div><div>Thanks in advance,</div><div><br></div><div>Tim.</div><div><br></div><div> <!--Text inside such 'comments' is not included in your siggy. You may delete these text comments once you are done--><!-- This bit defines your entire box. Change the 'height' value to reduce the size of the box, the line-height value to reduce the spacing between text lines, and so on. I suggest you change the min-width style to better suit the width of your siggy-->  <div id="sig" style="border-top: 1px dotted rgb(153, 153, 153); border-bottom: 1px dotted rgb(153, 153, 153); margin: 6px 0pt; padding: 8px; min-height: 50px; line-height: 17px; font-family: 'Lucida Grande',Verdana,Arial,Sans-Serif; font-size: 11px; color: rgb(96, 111, 120); min-width: 250px;"><!--This is the image. Upload an image to your own server or imageshack.us and replace the url in this tag--> <!--<img src="http://www.rostauguardian.webuda.com/photo.jpg" alt="me" style="padding: 2px 6px 0pt 0pt; float: left; width: 46px; height: 45px;">--><!--end--><!--replace details outside the <> tag brackets. Your name, company, etc. Also change the URLs where needed. You can also replace the text colour #606f78 to anything you choose--><strong style="color: rgb(255, 102, 0); font-weight: bold;">Tim Stitt</strong><span style="font-weight: bold;"> </span><span style="color: rgb(255, 102, 0); font-weight: bold;">PhD</span><span style="font-weight: bold;"></span> <span style="color: rgb(0, 153, 0);">(User Support Manager)</span>.<br> Center for Research Computing | University of Notre Dame | <br> <!--the <br /> tag (above) signifies a line break. Add that tag anywhere you want the line to break into another one. Remove that to make the bottom line flow to the right of the one above it--> P.O. Box 539, Notre Dame, IN 46556 | Phone:&nbsp; 574-631-5287 | Email: <span style="color: rgb(51, 51, 255);"><a href="mailto:tstitt@nd.edu">tstitt@nd.edu</a>&nbsp;</span></div> </div> <br></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></blockquote></div><br></div></div><span>&lt;ATT00001..txt&gt;</span></blockquote></div><br><div>

<!--Text inside such 'comments' is not included in your siggy. You may delete these text comments once you are done--><!-- This bit defines your entire box. Change the 'height' value to reduce the size of the box, the line-height value to reduce the spacing between text lines, and so on. I suggest you change the min-width style to better suit the width of your siggy-->
  

<div id="sig" style="border-top: 1px dotted rgb(153, 153, 153); border-bottom: 1px dotted rgb(153, 153, 153); margin: 6px 0pt; padding: 8px; min-height: 50px; line-height: 17px; font-family: 'Lucida Grande',Verdana,Arial,Sans-Serif; font-size: 11px; color: rgb(96, 111, 120); min-width: 250px;"><!--This is the image. Upload an image to your own server or imageshack.us and replace the url in this tag-->
<!--<img src="http://www.rostauguardian.webuda.com/photo.jpg" alt="me"
 style="padding: 2px 6px 0pt 0pt; float: left; width: 46px; height: 45px;">--><!--end--><!--replace details outside the <> tag brackets. Your name, company, etc. Also change the URLs where needed.
You can also replace the text colour #606f78 to anything you choose--><strong style="color: rgb(255, 102, 0); font-weight: bold;">Tim
Stitt</strong><span style="font-weight: bold;"> </span><span style="color: rgb(255, 102, 0); font-weight: bold;">PhD</span><span style="font-weight: bold;"></span>
<span style="color: rgb(0, 153, 0);">(User Support Manager)</span>.<br>
Center for Research Computing | University of Notre Dame
| <br>
<!--the <br /> tag (above) signifies a line break. Add that tag anywhere you want the line to break into another one. Remove that to make the bottom line flow to the right of the one above it-->
P.O.
Box 539,
Notre Dame, IN 46556 | Phone:&nbsp;
574-631-5287
| Email: <span style="color: rgb(51, 51, 255);"><a href="mailto:tstitt@nd.edu">tstitt@nd.edu</a>&nbsp;</span></div>



</div>
<br></div></body></html>
