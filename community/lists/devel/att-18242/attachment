Gianmario,<div><br></div><div>there was c/r support in the v1.6 series but it has been removed.</div><div>the current trend is to do application level checkpointing</div><div>(much more efficient and much smaller checkpoint file size)</div><div><br></div><div>iirc, ompi took care of closing/restoring all communication, and a third party checkpoint was required to checkpoint/restart *standalone* processes.</div><div><br></div><div>generally speaking, mpirun and orted communicate via tcp</div><div>orted and MPI (intra node comms) currently use tcp but we are moving to unix sockets</div><div>MPI tasks communicate via btl (infiniband, tcp, shared memory, ...)</div><div><br></div><div>imho, moving only one MPI task to an other node is much harder, not to say impossible, than moving orted and its children MPI tasks to an other node</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles<br><br>On Thursday, October 22, 2015, Gianmario Pozzi &lt;<a href="mailto:pozzigmario@gmail.com">pozzigmario@gmail.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi everyone!<div><br></div><div>My team and I are working on the possibility to checkpoint a process and restarting it on another node. We are using CRIU framework for the checkpoint/restart part, but we are facing some issues related to migration.</div><div><br></div><div>First of all: we found out that some attempts to C/R an OMPI process have been already made in the past. Is anything related to that still supported/available/working?</div><div><br></div><div>Then, we need to know which network communications are used at any time, in order to &quot;pause&quot; them during migrations (at least the ones involving the migrating node). Our code analysis makes us think that:</div><div>-OpenMPI runtime (HNP&lt;-&gt;orteds) uses orte/OOB</div><div>-Running applications exchange data via ompi/BTL</div><div><br></div><div>Is that correct? If not, can someone give us a hint?</div><div><br></div><div>Questions on how to update topology info may be yet to come.</div><div><br></div><div>Thank you guys!</div><div><br></div><div>Gianmario</div></div>
</blockquote></div>

