<div dir="ltr">Ralph,<div><br></div><div>Please note that I saw no problems with pgi-9,10,11,13 or 14.  Only pgi-12 was complaining.</div><div>So, I am fairly confident that pgi-12.10 (the final in the 12.x series) is broken, but that PGI is &quot;OK&quot; in general with respect to C99.</div><div><br></div><div>As 2.x nears readiness, it seems possible that the README will need to enumerate C compilers with broken C99 support.</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Jul 17, 2015 at 2:32 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">I went ahead and removed those, but this raises a rather major red flag for us. We made a definite move towards requiring C99 awhile back now - it isn’t broadly reflected in the 1.10 series solely because that was branched from the 1.8 series, which predates the change. There will likely be leakage, though, as I don’t believe we’ve been reviewing to remove C99 code when moving things into the 1.10 branch - and so there may be other places that your test didn’t build that are likewise impacted.<div><br></div><div>In addition, C99 will be the norm starting with 2.x. Your observation would imply that we will be encountering problems with some of the PGI compilers when we begin that release process.</div><div><br></div><div>Something the 2.x RMs will have to keep in mind, I guess - and I’ll have to deal with for 1.10. Sigh.</div><div><div class="h5"><div><br></div><div><br><div><blockquote type="cite"><div>On Jul 16, 2015, at 4:57 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt; wrote:</div><br><div><div style="word-wrap:break-word">Thanks Paul - I’ll take care of it!<div><br></div><div><br><div><blockquote type="cite"><div>On Jul 16, 2015, at 4:49 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div><br><div><div dir="ltr">With pgi-12.10 I see the following error:<div><br></div><div><div>PGC-S-0173-Array element designator used in a struct/union context (/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc1-linux-x86_64-pgi-12.10/openmpi-1.10.0rc1/orte/mca/state/dvm/state_dvm_component.c: 60)</div><div>PGC-S-0173-Array element designator used in a struct/union context (/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc1-linux-x86_64-pgi-12.10/openmpi-1.10.0rc1/orte/mca/state/dvm/state_dvm_component.c: 60)</div><div>PGC/x86-64 Linux 12.10-0: compilation completed with severe errors</div><div><br></div><div>With versions 9.0-4, 10.9, 11.9, 13.6 and 14.7 things built fine.</div><div>So, this is most likely a PGI bug rather than a Open MPI problem.</div><div><br></div><div>HOWEVER, removing the designators (they are not used in the other state components) would eliminate this for pgi-12.10 *and* for any older compiler that doesn&#39;t grok this c99 feature.</div><div><br></div><div>-Paul</div><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</div></div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/07/17648.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/07/17648.php</a></div></blockquote></div><br></div></div></div></blockquote></div><br></div></div></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/07/17657.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/07/17657.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

