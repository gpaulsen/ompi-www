<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Paul,<div><br></div><div>1) I wasn't trying to solve the --version issue, only the parsing of the response.</div><div>2) I assumed from the initial e-mail that the broken parser was in a Perl script. &nbsp;I'm not a Perl person, so I wrote the example regular expression parser in sed.</div><div><br></div><div>These commands were done on my Mac OS X 10.6 system. &nbsp;I have no idea where the apps came from. &nbsp;I know the sed, at least, does not recognize regular expressions documented for GNU sed (such as \&lt; \&gt; for begin/end word). &nbsp;Maybe it is a BSD sed?</div><div><br></div><div>I was just trying to illustrate how to fix the broken parsing of Ralph's "flex --version". &nbsp;Assuming the RE parser I wrote is satisfactory, it would have to be adapted to fit in the framework, i.e., it has to be portable.</div><div><br><div>
<span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; ">Larry Baker<br>US Geological Survey<br>650-329-5608<br><a href="mailto:baker@usgs.gov">baker@usgs.gov</a><br><br><br></span>
</div>
<br><div><div>On 14 Nov 2012, at 5:41 PM, Paul Hargrove wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div>On Wed, Nov 14, 2012 at 6:26 PM, Larry Baker&nbsp;<span dir="ltr">&lt;<a href="mailto:baker@usgs.gov" target="_blank">baker@usgs.gov</a>&gt;</span>&nbsp;wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<div id=":1ze">m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div></blockquote><div><br></div><div>&nbsp;</div></div>There are STILL problems with this approach as it is TWICE specific to GNU software:<div>
<br></div><div>1) M4 on OpenBSD (maybe others) doesn't support a "--version" flag:</div><div><div>$ m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div>
<div>m4: unknown option -- -</div><div>usage: m4 [-gPs] [-Dname[=value]] [-d flags] [-I dirname] [-o filename]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [-t macro] [-Uname] [file ...]</div></div><div><br></div><div>2) sed on Solaris (maybe others) doesn't support a "-E" flag:</div>
<div><div>$ m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div><div>/bin/sed: illegal option -- E</div></div><div><br></div><div>-Paul</div><div><div><br></div>
-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div>
<div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font><br>
</div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
