<div dir="ltr">I am trying to build the 1.7 nightly tarball (1.7.4rc2r30303) on a Linux/PPC system with the xlc-11.1 compilers configured for 32-bit output:<div><br></div><div><font face="courier new, monospace">$ export OBJECT_MODE=32</font></div>
<div><font face="courier new, monospace">$ [pathto]/configure CC=xlc CXX=xlC FC=xlf90 --enable-debug --prefix=...</font></div><div><br></div><div>The build fails with:</div><div><br></div><div><div><font face="courier new, monospace">Making all in mpi/cxx</font></div>
<div><font face="courier new, monospace">make[2]: Entering directory `/gpfs-biou/phh1/OMPI/openmpi-1.7.4-latest-linux-ppc32-xlc-11.1/BLD/ompi/mpi/cxx&#39;</font></div><div><font face="courier new, monospace">  CXX      mpicxx.lo</font></div>
<div><font face="courier new, monospace">&quot;/home/phh1/SCRATCH/OMPI/openmpi-1.7.4-latest-linux-ppc32-xlc-11.1/openmpi-1.7.4rc2r30303/opal/threads/mutex.h&quot;, line 292.15: 1540-0274 (S) The name lookup for &quot;opal_atomic_add_64&quot; did not find a declaration.</font></div>
<div><font face="courier new, monospace">make[2]: *** [mpicxx.lo] Error 1</font></div></div><div><br></div><div>My guess is due to the ILP31 target, there might not *be* any atomic 64-bit add.</div><div>However, my Linux/ARM build with gcc worked fine, so clearly (to me) there is support for ILP32 systems.</div>
<div><br></div><div>The OBJECT_MODE=64 case gets past this point (but fails building fortran support - report coming soon).</div><div><br></div><div>I will accept &quot;we don&#39;t support this target&quot;, but am reporting this for completeness.</div>
<div><br></div><div>-Paul<br><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div>
<div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div>

