<div dir="ltr">Ralph,<div><br></div><div>You will see from the message I sent a moment ago that -D_REENTRANT on Solaris appears to be the problem.</div><div>However, I will also try the trunk tarball as you have requested.</div><div><br></div><div>-Paul</div><div><br><div class="gmail_extra"><br><div class="gmail_quote">On Mon, Nov 3, 2014 at 8:53 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc.openmpi@gmail.com" target="_blank">rhc.openmpi@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Hmmm&hellip;Paul, would you be able to try this with the latest trunk tarball? This looks familiar to me, and I wonder if we are just missing a changeset from the trunk that fixed the handshake issues we had with failing over from one transport to another.<div><br></div><div>Ralph</div><div><br><div><blockquote type="cite"><div><div class="h5"><div>On Nov 3, 2014, at 7:23 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div><br></div></div><div><div><div class="h5"><div dir="ltr">Ralph,<div><br></div><div>Requested output is attached.</div><div><br></div><div>I have a Linux/x86 system with the same network configuration and will soon be able to determine if the problem is specific to Solaris.</div><div><br></div><div>-Paul</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Mon, Nov 3, 2014 at 7:11 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc.openmpi@gmail.com" target="_blank">rhc.openmpi@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Could you please set -mca oob_base_verbose 20? I&rsquo;m not sure why the connection is failing.<div><br></div><div>Thanks</div><div>Ralph</div><div><br><div><blockquote type="cite"><div><div><div>On Nov 3, 2014, at 5:56 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div><br></div></div><div><div><div><div dir="ltr">Not clear if the following failure is Solaris-specific, but it *IS* a regression relative to 1.8.3.<div><br><div>The system has 2 IPV4 interfaces:</div><div>&nbsp; &nbsp;Ethernet on <a href="http://172.16.0.119/16" target="_blank">172.16.0.119/16</a></div><div>&nbsp; &nbsp;IPoIB on <a href="http://172.18.0.119/16" target="_blank">172.18.0.119/16</a></div><div><br></div><div><div><div><font face="courier new, monospace" size="1">$ ifconfig bge0</font></div><div><font face="courier new, monospace" size="1">bge0: flags=1004843&lt;UP,BROADCAST,RUNNING,MULTICAST,DHCP,IPv4&gt; mtu 1500 index 2</font></div><div><font face="courier new, monospace" size="1">&nbsp; &nbsp; &nbsp; &nbsp; inet 172.16.0.119 netmask ffff0000 broadcast 172.16.255.255</font></div><div><font face="courier new, monospace" size="1">$ ifconfig pFFFF.ibp0</font></div><div><font face="courier new, monospace" size="1">pFFFF.ibp0: flags=1001000843&lt;UP,BROADCAST,RUNNING,MULTICAST,IPv4,FIXEDMTU&gt; mtu 2044 index 3</font></div><div><font face="courier new, monospace" size="1">&nbsp; &nbsp; &nbsp; &nbsp; inet 172.18.0.119 netmask ffff0000 broadcast 172.18.255.255</font></div></div></div><div><br></div><div>However, I get a message from mca/oob/tcp about not being able to communicate between these two interfaces ON THE SAME NODE:</div><div><br></div><div><div><font face="courier new, monospace" size="1">$ /shared/OMPI/openmpi-1.8.4rc1-solaris11-x86-ib-ss12u3/INST/bin/mpirun -mca btl sm,self,openib -np 1 -host pcp-j-19 examples/ring_c</font></div><div><font face="courier new, monospace" size="1">[pcp-j-19:00899] mca_oob_tcp_accept: accept() failed: Error 0 (0).</font></div><div><font face="courier new, monospace" size="1">------------------------------------------------------------</font></div><div><font face="courier new, monospace" size="1">A process or daemon was unable to complete a TCP connection</font></div><div><font face="courier new, monospace" size="1">to another process:</font></div><div><font face="courier new, monospace" size="1">&nbsp; Local host: &nbsp; &nbsp;pcp-j-19</font></div><div><font face="courier new, monospace" size="1">&nbsp; Remote host: &nbsp; 172.18.0.119</font></div><div><font face="courier new, monospace" size="1">This is usually caused by a firewall on the remote host. Please</font></div><div><font face="courier new, monospace" size="1">check that any firewall (e.g., iptables) has been disabled and</font></div><div><font face="courier new, monospace" size="1">try again.</font></div><div><font face="courier new, monospace" size="1">------------------------------------------------------------</font></div></div></div><div class="gmail_extra"><br></div><div class="gmail_extra">Let me know what sort of verbose options I should use to gather any additional info you may need.</div><div class="gmail_extra"><br></div><div class="gmail_extra">-Paul</div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Oct 31, 2014 at 7:14 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc.openmpi@gmail.com" target="_blank">rhc.openmpi@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Hi folks<div><br></div><div>I know 1.8.4 isn&rsquo;t entirely complete just yet, but I&rsquo;d like to get a head start on the testing so we can release by Fri Nov 7th. So please take a little time and test the current tarball:</div><div><br></div><div><a href="http://www.open-mpi.org/software/ompi/v1.8/" target="_blank">http://www.open-mpi.org/software/ompi/v1.8/</a></div><div><br></div><div>Thanks</div><span><font color="#888888"><div>Ralph</div><div><br></div></font></span></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/10/16138.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/10/16138.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div>
</div></div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br></div></div>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16160.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/11/16160.php</a></div></blockquote></div><br></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16161.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/11/16161.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div>
</div>
</div></div><span>&lt;oob_base_verbose=20.txt&gt;</span>_______________________________________________<span class=""><br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br></span>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16162.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/11/16162.php</a></div></blockquote></div><br></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16163.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/11/16163.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div>
</div></div></div>

