<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Let me take a look at it. &nbsp;How did you configure your build?<div><br></div><div>Thanks,</div><div><br><div apple-content-edited="true"> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div><div>--</div><div><div>Samuel K. Gutierrez</div><div>Los Alamos National Laboratory&nbsp;</div></div><div><br></div></div></div></div></span></div><div><div>On Sep 20, 2010, at 10:14 AM, &lt;<a href="mailto:ananda.mudar@wipro.com">ananda.mudar@wipro.com</a>&gt; &lt;<a href="mailto:ananda.mudar@wipro.com">ananda.mudar@wipro.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; "><div lang="EN-US" link="blue" vlink="purple"><div class="WordSection1" style="page: WordSection1; "><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Hi<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">I believe the new common shared memory component was committed to the trunk sometime towards the later part of August. I had not tried this trunk version until last week and I have seen some discrepancy with this component specifically related to checkpoint functionality. I am not able to checkpoint any program with the latest trunk version. Am I missing something here? Should I be using any other options to enable checkpoint functionality for shared memory component?<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">However if I disable shared memory component and use only self, tcp, and openib<span class="Apple-converted-space">&nbsp;</span><b>(--mca btl self,tcp,openib</b>), I can checkpoint successfully!!<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Following are the options I have used with mpirun:<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><span style="font-size: 10pt; font-family: Arial, sans-serif; ">mpirun -am ft-enable-cr --mca opal_cr_enable_timer 1 --mca sstore_stage_global_is_shared 1 --mca sstore_base_global_snapshot_dir /scratch/hpl005/UIT_test/amudar/FWI --mca mpi_paffinity_alone 1&nbsp; -np 32 -hostfile hostfile-32 ../hellompi</span><o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><span style="font-size: 10pt; font-family: Arial, sans-serif; "><o:p>&nbsp;</o:p></span></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Please note that hellompi is a very simple program without any collective calls. When I issue checkpoint, this program fails with the following messages:<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><span style="font-size: 10pt; font-family: Arial, sans-serif; "><o:p>&nbsp;</o:p></span></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><span style="font-size: 10pt; font-family: Arial, sans-serif; ">hplcnlj158:13937] Signal: Segmentation fault (11)<br>[hplcnlj158:13937] Signal code: Address not mapped (1)<br>[hplcnlj158:13937] Failing at address: 0x2aaa00000001<br>[hplcnlj158:13937] [ 0] /lib64/libpthread.so.0 [0x2b4019a064c0]<br>[hplcnlj158:13937] [ 1] /users/amudar/openmpi-1.7/lib/libmca_common_sm.so.0(mca_common_sm_param_register+0x262) [0x2aaaad96628a]<br>[hplcnlj158:13937] [ 2] /users/amudar/openmpi-1.7/lib/openmpi/mca_btl_sm.so [0x2aaaaf0a55e8]<br>[hplcnlj158:13937] [ 3] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b4018c3c11b]<br>[hplcnlj158:13937] [ 4] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_base_components_open+0x3ef) [0x2b4018c3b70b]<br>[hplcnlj158:13937] [ 5] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_btl_base_open+0xfd) [0x2b4018b620fe]<br>[hplcnlj158:13937] [ 6] /users/amudar/openmpi-1.7/lib/openmpi/mca_bml_r2.so [0x2aaaadd9e4fb]<br>[hplcnlj158:13937] [ 7] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_ob1.so [0x2aaaae5fa429]<br>[hplcnlj158:13937] [ 8] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_crcpw.so [0x2aaaadfadce6]<br>[hplcnlj158:13937] [ 9] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b4018b01a0d]<br>[hplcnlj158:13937] [10] /users/amudar/openmpi-1.7/lib/libmpi.so.0(ompi_cr_coord+0xc0) [0x2b4018b017ba]<br>[hplcnlj158:13937] [11] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_inc_core_recover+0xed) [0x2b4018c0efab]<br>[hplcnlj158:13937] [12] /users/amudar/openmpi-1.7/lib/openmpi/mca_snapc_full.so [0x2aaaabd280fc]<br>[hplcnlj158:13937] [13] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_test_if_checkpoint_ready+0x11b) [0x2b4018c0ecd3]<br>[hplcnlj158:13937] [14] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b4018c0f6e7]<br>[hplcnlj158:13937] [15] /lib64/libpthread.so.0 [0x2b40199fe367]<br>[hplcnlj158:13937] [16] /lib64/libc.so.6(clone+0x6d) [0x2b4019ce5f7d]<br>[hplcnlj158:13937] *** End of error message ***<br>[hplcnlj161:00637] *** Process received signal ***<br>[hplcnlj161:00637] Signal: Segmentation fault (11)<br>[hplcnlj161:00637] Signal code: Address not mapped (1)<br>[hplcnlj161:00637] Failing at address: 0x2aaa00000001<br>[hplcnlj161:00649] *** Process received signal ***<br>[hplcnlj161:00649] Signal: Segmentation fault (11)<br>[hplcnlj161:00649] Signal code: Address not mapped (1)<br>[hplcnlj161:00649] Failing at address: 0x2aaa00000001<br>/users/amudar/Fix_for_pidinuse/cr_restart: line 5: 14012 Segmentation fault&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /usr/blcr/bin/cr_restart --no-restore-pid "$@"<br>[hplcnlj161:00643] *** Process received signal ***<br>[hplcnlj161:00643] Signal: Segmentation fault (11)<br>[hplcnlj161:00643] Signal code: Address not mapped (1)<br>[hplcnlj161:00643] Failing at address: 0x2aaa00000001<br>[hplcnlj161:00640] *** Process received signal ***<br>[hplcnlj161:00640] Signal: Segmentation fault (11)<br>[hplcnlj161:00640] Signal code: Address not mapped (1)<br>[hplcnlj161:00640] Failing at address: 0x2aaa00000001<br>[hplcnlj161:00636] *** Process received signal ***<br>[hplcnlj161:00652] *** Process received signal ***<br>[hplcnlj161:00652] Signal: Segmentation fault (11)<br>[hplcnlj161:00652] Signal code: Address not mapped (1)<br>[hplcnlj161:00652] Failing at address: 0x2aaa00000001<br>[hplcnlj161:00636] Signal: Segmentation fault (11)<br>[hplcnlj161:00636] Signal code: Address not mapped (1)<br>[hplcnlj161:00636] Failing at address: 0x2aaa00000001<br>[hplcnlj161:00637] [ 0] /lib64/libpthread.so.0 [0x2b86c74694c0]<br>[hplcnlj161:00637] [ 1] /users/amudar/openmpi-1.7/lib/libmca_common_sm.so.0(mca_common_sm_param_register+0x262) [0x2aaaad96628a]<br>[hplcnlj161:00637] [ 2] /users/amudar/openmpi-1.7/lib/openmpi/mca_btl_sm.so [0x2aaaaf0a55e8]<br>[hplcnlj161:00637] [ 3] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b86c669f11b]<br>[hplcnlj161:00637] [ 4] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_base_components_open+0x3ef) [0x2b86c669e70b]<br>[hplcnlj161:00637] [ 5] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_btl_base_open+0xfd) [0x2b86c65c50fe]<br>[hplcnlj161:00637] [ 6] /users/amudar/openmpi-1.7/lib/openmpi/mca_bml_r2.so [0x2aaaadd9e4fb]<br>[hplcnlj161:00637] [ 7] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_ob1.so [0x2aaaae5fa429]<br>[hplcnlj161:00637] [ 8] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_crcpw.so [0x2aaaadfadce6]<br>[hplcnlj161:00637] [ 9] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b86c6564a0d]<br>[hplcnlj161:00637] [10] /users/amudar/openmpi-1.7/lib/libmpi.so.0(ompi_cr_coord+0xc0) [0x2b86c65647ba]<br>[hplcnlj161:00637] [11] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_inc_core_recover+0xed) [0x2b86c6671fab]<br>[hplcnlj161:00637] [12] /users/amudar/openmpi-1.7/lib/openmpi/mca_snapc_full.so [0x2aaaabd280fc]<br>[hplcnlj161:00637] [13] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_test_if_checkpoint_ready+0x11b) [0x2b86c6671cd3]<br>[hplcnlj161:00637] [14] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b86c66726e7]<br>[hplcnlj161:00637] [15] /lib64/libpthread.so.0 [0x2b86c7461367]<br>[hplcnlj161:00637] [16] /lib64/libc.so.6(clone+0x6d) [0x2b86c7748f7d]<br>[hplcnlj161:00637] *** End of error message ***<br>[hplcnlj161:00649] [ 0] /lib64/libpthread.so.0 [0x2b7bfa6204c0]<br>[hplcnlj161:00649] [ 1] /users/amudar/openmpi-1.7/lib/libmca_common_sm.so.0(mca_common_sm_param_register+0x262) [0x2aaaad96628a]<br>[hplcnlj161:00649] [ 2] /users/amudar/openmpi-1.7/lib/openmpi/mca_btl_sm.so [0x2aaaaf0a55e8]<br>[hplcnlj161:00649] [ 3] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b7bf985611b]<br>[hplcnlj161:00649] [ 4] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_base_components_open+0x3ef) [0x2b7bf985570b]<br>[hplcnlj161:00649] [ 5] /users/amudar/openmpi-1.7/lib/libmpi.so.0(mca_btl_base_open+0xfd) [0x2b7bf977c0fe]<br>[hplcnlj161:00649] [ 6] /users/amudar/openmpi-1.7/lib/openmpi/mca_bml_r2.so [0x2aaaadd9e4fb]<br>[hplcnlj161:00649] [ 7] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_ob1.so [0x2aaaae5fa429]<br>[hplcnlj161:00649] [ 8] /users/amudar/openmpi-1.7/lib/openmpi/mca_pml_crcpw.so [0x2aaaadfadce6]<br>[hplcnlj161:00649] [ 9] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b7bf971ba0d]<br>[hplcnlj161:00649] [10] /users/amudar/openmpi-1.7/lib/libmpi.so.0(ompi_cr_coord+0xc0) [0x2b7bf971b7ba]<br>[hplcnlj161:00649] [11] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_inc_core_recover+0xed) [0x2b7bf9828fab]<br>[hplcnlj161:00649] [12] /users/amudar/openmpi-1.7/lib/openmpi/mca_snapc_full.so [0x2aaaabd280fc]<br>[hplcnlj161:00649] [13] /users/amudar/openmpi-1.7/lib/libmpi.so.0(opal_cr_test_if_checkpoint_ready+0x11b) [0x2b7bf9828cd3]<br>[hplcnlj161:00649] [14] /users/amudar/openmpi-1.7/lib/libmpi.so.0 [0x2b7bf98296e7]<br>[hplcnlj161:00649] [15] /lib64/libpthread.so.0 [0x2b7bfa618367]<br>[hplcnlj161:00649] [16] /lib64/libc.so.6(clone+0x6d) [0x2b7bfa8fff7d]<br>[hplcnlj161:00649] *** End of error message ***<br><br></span><o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Thanks<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Ananda<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><i><span style="font-size: 10pt; color: rgb(148, 54, 52); ">Ananda B Mudar, PMP<o:p></o:p></span></i></b></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><i><span style="font-size: 10pt; color: rgb(148, 54, 52); ">Senior Technical Architect<o:p></o:p></span></i></b></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><i><span style="font-size: 10pt; color: rgb(148, 54, 52); ">Wipro Technologies<o:p></o:p></span></i></b></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><i><span style="font-size: 10pt; color: rgb(148, 54, 52); ">Ph: 972 765 8093<o:p></o:p></span></i></b></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><i><span style="font-size: 10pt; color: rgb(148, 54, 52); "><a href="mailto:ananda.mudar@wipro.com" style="color: blue; text-decoration: underline; ">ananda.mudar@wipro.com</a><o:p></o:p></span></i></b></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div></div><p><strong><span style="font-size: 10pt; font-family: 'Palatino Linotype', serif; color: green; ">Please do not print this email unless it is absolutely necessary.</span></strong><span style="font-family: Arial, sans-serif; "><o:p></o:p></span></p><p>The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee(s) and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments.</p><p>WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email.</p><p><a href="http://www.wipro.com" style="color: blue; text-decoration: underline; ">www.wipro.com</a></p>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" style="color: blue; text-decoration: underline; ">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: blue; text-decoration: underline; ">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></span></blockquote></div><br></div></body></html>
