<div dir="ltr">Just experienced the same failure as below with openmpi-dev-904-g08dceda build with &quot;gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-16)&quot; on Scientific Linux 7.x (a RHEL 7 clone).<div><br></div><div>gdb says:</div><div><br></div><div><div>Program received signal SIGSEGV, Segmentation fault.</div><div>[Switching to Thread 0x7ffff53b0700 (LWP 19685)]</div><div>0x0000000000401417 in opal_fifo_pop_atomic (fifo=0x7fffffffe130)</div><div>    at /home/phargrov/OMPI/openmpi-master-linux-x86_64-sl7x/openmpi-dev-904-g08dceda/opal/class/opal_fifo.h:127</div><div>127             next = (opal_list_item_t *) item-&gt;opal_list_next;</div></div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Feb 6, 2015 at 4:22 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div>Yes, this time I really mean &quot;fifo&quot;, not &quot;lifo&quot;.  ;-)</div><div><br></div>With last night&#39;s master tarball (Open MPI dev-845-ga3275aa) configured with only --prefix and --enable-debug<div>A Linux-86-64 system running debian Wheezy and compiler = &quot;gcc (Debian 4.7.2-5) 4.7.2&quot;</div><div><br></div><div>Failure from &quot;make check&quot;:</div><div><br></div><div><div><font face="monospace, monospace" size="1">/home/phargrov/OMPI/openmpi-master-linux-x86_64-wheezy/openmpi-dev-845-ga3275aa/config/test-driver: line 95:  3697 Segmentation fault      &quot;$@&quot; &gt; $log_file 2&gt;&amp;1</font></div><div><font face="monospace, monospace" size="1">FAIL: opal_fifo</font></div><div><br></div><div>Manual run shows:</div><div><br></div><div><div><font face="monospace, monospace" size="1">$ ./test/class/opal_fifo</font></div><div><font face="monospace, monospace" size="1">Single thread test. Time: 0 s 33534 us 33 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 0 s 82289 us 82 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 4 s 844299 us 4844 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 27642 us 5027 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 65829 us 5065 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 264239 us 5264 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 432407 us 5432 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 462913 us 5462 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 466208 us 5466 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Atomics thread finished. Time: 5 s 485575 us 5485 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">All threads finished. Thread count: 8 Time: 5 s 485844 us 685 nsec/poppush</font></div><div><font face="monospace, monospace" size="1">Segmentation fault (core dumped)</font></div></div><div><br></div><div>When run within GDB:</div><div><br></div><div><div><font face="monospace, monospace" size="1">Program received signal SIGSEGV, Segmentation fault.</font></div><div><font face="monospace, monospace" size="1">[Switching to Thread 0x7ffff5c64700 (LWP 3948)]</font></div><div><font face="monospace, monospace" size="1">0x0000000000401568 in opal_fifo_pop_atomic (fifo=0x7fffffffe830)</font></div><div><font face="monospace, monospace" size="1">    at /home/phargrov/OMPI/openmpi-master-linux-x86_64-wheezy/openmpi-dev-845-ga3275aa/opal/class/opal_fifo.h:127</font></div><div><font face="monospace, monospace" size="1">127             next = (opal_list_item_t *) item-&gt;opal_list_next;</font></div></div><div><font face="monospace, monospace" size="1"><div>(gdb) print item</div><div>$1 = (opal_list_item_t *) 0x0</div><div><div>(gdb) where</div><div>#0  0x0000000000401568 in opal_fifo_pop_atomic (fifo=0x7fffffffe830)</div><div>    at /home/phargrov/OMPI/openmpi-master-linux-x86_64-wheezy/openmpi-dev-845-ga3275aa/opal/class/opal_fifo.h:127</div><div>#1  0x000000000040193d in thread_test_exhaust (arg=0x7fffffffe830)</div><div>    at /home/phargrov/OMPI/openmpi-master-linux-x86_64-wheezy/openmpi-dev-845-ga3275aa/test/class/opal_fifo.c:79</div><div>#2  0x00007ffff6ff9b50 in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0</div><div>#3  0x00007ffff6d4370d in clone () from /lib/x86_64-linux-gnu/libc.so.6</div><div>#4  0x0000000000000000 in ?? ()</div></div></font></div><span class="HOEnZb"><font color="#888888"><div><br></div><div><br></div><div>-Paul</div><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

