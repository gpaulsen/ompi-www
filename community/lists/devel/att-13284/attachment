<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br><div><div>On Nov 14, 2013, at 7:48 PM, Joshua Ladd &lt;<a href="mailto:joshual@mellanox.com">joshual@mellanox.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;">The proof of the pudding is that all of the MPI layer has been adapted to the new async behavior -except- for the openib cpc's. The issue of what to do with these has been raised several times, especially once the ofacm code was committed. Unfortunately, lack of time and priorities left this code to bitrot.<o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">[Josh] Not completely true, UDCM is supposed to be the alternative, at least for RC. It’s easy to say - “well, everything works now except OpenIB”. If we’re working under the assumption that these were community decisions wholeheartedly agreed upon and fully endorsed by all members, well then we have to also believe that we agreed as a community to the following list of tasks and nobody’s done anything. The only ones explicitly committed to technical work - Mellanox. &nbsp;Per Jeff’s words, “the next dominos to fall” implies at least a partial ordering. We need a functioning UDCM before we can study it and figure out how to adapt it to XRC - maybe it is functioning perfectly, who knows??! Nobody, apparently - seems like it should’ve been released into the wild in 1.7.3. Are there some ppt slides that we can look at from the RFC? If so, I’ve been unable to locate them. Unfortunately, this is just one piece of what’s missing and we are relying on the rest of the community that agreed to these changes to make good on their promises. My biggest issue this morning is that UDCM is not in 1.7 but the OOB change is - that’s a problem. You skipped steps 1, 2, 3, and 4 and went right to 5 - that’s a problem. That’s not what we as a community agreed upon. &nbsp;</span></div></div></div></div></blockquote><div><br></div>As you may recall, I deleted those from 1.7.4 because they don't work - as you folks repeatedly noted. The problem is that this change has been in the trunk, including the deprecation of the OOB cpc's per your noting that they weren't working on the trunk, for quite some time.</div><div><br></div><div>So this has actually been a good thing as it is finally forcing the corrective action to be taken. Nobody is blaming Mellanox, but this has to be resolved, and it clearly wasn't going to happen until a forcing event occurred.</div><div><br></div><div>Hopefully, Pasha and Nathan will be able to help you guys figure out how get udcm working and validated.</div><div>Ralph</div><div><br></div><div><br><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);"><o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">Josh<o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><p class="headers" style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;"><strong>Subject:</strong><span class="Apple-converted-space">&nbsp;</span>[OMPI devel] Openib + common/verbs CPC consolidation<br><strong>From:</strong><span class="Apple-converted-space">&nbsp;</span>Jeff Squyres (jsquyres) (<em>jsquyres_at_[hidden]</em>)<br><strong>Date:</strong><span class="Apple-converted-space">&nbsp;</span>2013-05-14 15:29:15<o:p></o:p></p><ul type="disc" style="margin-bottom: 0in;"><li class="MsoNormal" style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><strong>Next message:</strong><span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2013/05/12383.php" style="color: purple; text-decoration: underline;">Rolf vandeVaart: "[OMPI devel] Build warnings in trunk"</a><o:p></o:p></li><li class="MsoNormal" style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><strong>Previous message:</strong><span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2013/05/12381.php" style="color: purple; text-decoration: underline;">Ralph Castain: "[OMPI devel] RFC: rewrite of ORTE OOB"</a><o:p></o:p></li></ul><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div><p style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;">&nbsp;FYI: On the teleconf today, we talked about the next dominos to fall in the quest to move the BTLs down to OPAL:<o:p></o:p></p><p style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;">1. Nathan will make the openib "udcm" CPC the default in the immediate future<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; This paves the way to ditch the problematic "oob" openib CPC<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; This also will give udcm more widespread testing<span class="Apple-converted-space">&nbsp;</span><br>2. Mellanox will add XRC support to udcm<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; This paves the way to ditch the problematic "xoob" openib CPC<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; Josh thought they could do this within a month, but that's a SWAG and subject to change<span class="Apple-converted-space">&nbsp;</span><br>3. I will ping Chelsio about getting them to add proper iWARP support into common/ofacm<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; This paves the way to eliminate btl/openib/cpc<span class="Apple-converted-space">&nbsp;</span><br>&nbsp;&nbsp;&nbsp;--&gt; No idea on timeframe yet<span class="Apple-converted-space">&nbsp;</span><br>4. Once #3 is done, make openib use common/ofacm<span class="Apple-converted-space">&nbsp;</span><br>5. Once #2, #3, and #4 are done, delete btl/openib/cpc<o:p></o:p></p><p style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;">#1-3 have people assigned to them. #4 does not (#5 is pretty trivial -- an svn rm plus some Makefile.am mods).<o:p></o:p></p><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" style="color: purple; text-decoration: underline;">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></blockquote></div><br></body></html>
