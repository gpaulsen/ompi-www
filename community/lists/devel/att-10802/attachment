Hi All,<div><br></div><div>I am on ubuntu 11.10 and the only package that they have for OpenMPI is 1.4.3 and I noticed the latest was 1.5.5 and I decided to try to use it to get the Rmpi R package compiled against it. I failed. My R version is 2.15, the OpenMPI is 1.5.5. I compiled it and installed it but when I tried to compile Rmpi I get the result below. I can try to run this stuff again but I had to use the base packages because they worked and I need to get some stuff done. I can always recompile though, install and run the Rmpi package against the installed OpenMPI stuff. Any ideas what I need to do? Also, is there an Ubuntu or Debian package available with the latest and greatest and if not, how can I make one?</div>
<div><br></div><div>Thanks,</div><div>~Ben </div><div><br></div><div><div>checking for gcc... gcc -std=gnu99</div><div>checking for C compiler default output file name... a.out</div><div>checking whether the C compiler works... yes</div>
<div>checking whether we are cross compiling... no</div><div>checking for suffix of executables... </div><div>checking for suffix of object files... o</div><div>checking whether we are using the GNU C compiler... yes</div>
<div>checking whether gcc -std=gnu99 accepts -g... yes</div><div>checking for gcc -std=gnu99 option to accept ISO C89... none needed</div><div>I am here /usr/local and it is OpenMPI</div><div>Trying to find mpi.h ...</div>
<div>Found in /usr/local/include</div><div>Trying to find libmpi.so or libmpich.a ...</div><div>Found libmpi in /usr/local/lib</div><div>checking for openpty in -lutil... yes</div><div>checking for main in -lpthread... yes</div>
<div>configure: creating ./config.status</div><div>config.status: creating src/Makevars</div><div>** Creating default NAMESPACE file</div><div>** libs</div><div>gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/local/include  -DMPI2 -DOPENMPI     -fpic  -O3 -pipe  -g  -c RegQuery.c -o RegQuery.o</div>
<div>gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/local/include  -DMPI2 -DOPENMPI     -fpic  -O3 -pipe  -g  -c Rmpi.c -o Rmpi.o</div>
<div>gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/local/include  -DMPI2 -DOPENMPI     -fpic  -O3 -pipe  -g  -c conversion.c -o conversion.o</div>
<div>gcc -std=gnu99 -I/usr/share/R/include -DNDEBUG -DPACKAGE_NAME=\&quot;\&quot; -DPACKAGE_TARNAME=\&quot;\&quot; -DPACKAGE_VERSION=\&quot;\&quot; -DPACKAGE_STRING=\&quot;\&quot; -DPACKAGE_BUGREPORT=\&quot;\&quot; -I/usr/local/include  -DMPI2 -DOPENMPI     -fpic  -O3 -pipe  -g  -c internal.c -o internal.o</div>
<div>gcc -std=gnu99 -shared -o Rmpi.so RegQuery.o Rmpi.o conversion.o internal.o -L/usr/local/lib -lmpi -lutil -lpthread -L/usr/lib/R/lib -lR</div><div>installing to /usr/local/lib/R/site-library/Rmpi/libs</div><div>** R</div>
<div>** demo</div><div>** inst</div><div>** preparing package for lazy loading</div><div>** help</div><div>*** installing help indices</div><div>** building package indices</div><div>** testing if installed package can be loaded</div>
<div>[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_paffinity_hwloc: /usr/local/lib/openmpi/mca_paffinity_hwloc.so: undefined symbol: opal_hwloc_topology (ignored)</div><div>
[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_carto_auto_detect: /usr/local/lib/openmpi/mca_carto_auto_detect.so: undefined symbol: opal_carto_base_graph_get_host_graph_fn (ignored)</div>
<div>[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_carto_file: /usr/local/lib/openmpi/mca_carto_file.so: undefined symbol: opal_carto_base_graph_get_host_graph_fn (ignored)</div>
<div>[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_shmem_mmap: /usr/local/lib/openmpi/mca_shmem_mmap.so: undefined symbol: opal_show_help (ignored)</div><div>[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_shmem_posix: /usr/local/lib/openmpi/mca_shmem_posix.so: undefined symbol: opal_shmem_base_output (ignored)</div>
<div>[ben-Inspiron-1764:26048] mca: base: component_find: unable to open /usr/local/lib/openmpi/mca_shmem_sysv: /usr/local/lib/openmpi/mca_shmem_sysv.so: undefined symbol: opal_show_help (ignored)</div><div>--------------------------------------------------------------------------</div>
<div>It looks like opal_init failed for some reason; your parallel process is</div><div>likely to abort.  There are many reasons that a parallel process can</div><div>fail during opal_init; some of which are due to configuration or</div>
<div>environment problems.  This failure appears to be an internal failure;</div><div>here&#39;s some additional information (which may only be relevant to an</div><div>Open MPI developer):</div><div><br></div><div>  opal_shmem_base_select failed</div>
<div>  --&gt; Returned value -1 instead of OPAL_SUCCESS</div><div>--------------------------------------------------------------------------</div><div>[ben-Inspiron-1764:26048] [[INVALID],INVALID] ORTE_ERROR_LOG: Error in file runtime/orte_init.c at line 79</div>
<div>--------------------------------------------------------------------------</div><div>It looks like MPI_INIT failed for some reason; your parallel process is</div><div>likely to abort.  There are many reasons that a parallel process can</div>
<div>fail during MPI_INIT; some of which are due to configuration or environment</div><div>problems.  This failure appears to be an internal failure; here&#39;s some</div><div>additional information (which may only be relevant to an Open MPI</div>
<div>developer):</div><div><br></div><div>  ompi_mpi_init: orte_init failed</div><div>  --&gt; Returned &quot;Error&quot; (-1) instead of &quot;Success&quot; (0)</div><div>--------------------------------------------------------------------------</div>
<div>*** An error occurred in MPI_Init</div><div>*** on a NULL communicator</div><div>*** MPI_ERRORS_ARE_FATAL: your MPI job will now abort</div><div>[ben-Inspiron-1764:26048] Local abort before MPI_INIT completed successfully; not able to aggregate error messages, and not able to guarantee that all other processes were killed!</div>
</div><div><br></div>

