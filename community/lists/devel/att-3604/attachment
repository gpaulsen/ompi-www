<html><head><style type="text/css"><!-- DIV {margin:0px;} --></style></head><body><div style="font-family:times new roman, new york, times, serif;font-size:10pt">Thanks for the reply. <br>I was not able to achieve the required task with the given pointers. <br>I ran the application with following command,<br>mpirun&nbsp; -np 2 --mca btl_tcp_frag 9 --mca btl_tcp_max_send_size 8192 -host node-00,node-01 /home/atif/blah/aa_l<br><div><br>I still see the messages of size 65226 bytes. I am missing something? One side question, I cannot find documentation for the mca parameter btl_tcp_frag.<br><br>I am currently using openmpi version 1.2.2. <br><br></div>Best Regards,<br>Muhammad Atif<div style="font-family: times new roman,new york,times,serif; font-size: 10pt;"><br><br><div style="font-family: times new roman,new york,times,serif; font-size: 12pt;">----- Original Message ----<br>From: George Bosilca &lt;bosilca@eecs.utk.edu&gt;<br>To: Open MPI Developers
 &lt;devel@open-mpi.org&gt;<br>Sent: Tuesday, April 1, 2008 1:31:46 AM<br>Subject: Re: [OMPI devel] limit tcp fragment size?<br><br>The btl_tcp_min_send_size is not exactly what you expect it to be. It&nbsp; <br>drive only the send protocol (as implemented in Open MPI), and not the&nbsp; <br>put protocol the TCP BTL is using.<br><br>You can achieve what you want with 2 parameters:<br>1. btl_tcp_frag set to 9. This will force the send protocol over TCP&nbsp; <br>all the time<br>2. btl_tcp_max_send_size set to 16K which will define the size of a&nbsp; <br>fragment in the pipelined send protocol.<br><br>&nbsp;  george.<br><br>On Mar 31, 2008, at 2:46 AM, Muhammad Atif wrote:<br>&gt; G'day<br>&gt; Just a quick basic question..... in case of tcp btl, how do I limit&nbsp; <br>&gt; the frag size?<br>&gt; I do not want MPI to send a fragment of size greater than lets say&nbsp; <br>&gt; 16K in size.<br>&gt;<br>&gt; If I am not mistaken, should not the
 btl_tcp_min_send_size do the&nbsp; <br>&gt; trick?&nbsp; If it is supposed to do it, why do i see packets of lenght&nbsp; <br>&gt; 64K ?<br>&gt;<br>&gt; Thanks in advance.<br>&gt;<br>&gt; Best Regards,<br>&gt; Muhammad Atif<br>&gt;<br>&gt;<br>&gt;<br>&gt; Special deal for Yahoo! users &amp; friends - No Cost. Get a month of&nbsp; <br>&gt; Blockbuster Total&nbsp; <br>&gt; Accessnow_______________________________________________<br>&gt; devel mailing list<br>&gt; <a ymailto="mailto:devel@open-mpi.org" href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br><br></div><br></div></div><br>



      <hr size=1>You rock. That's why Blockbuster's offering you <a href="http://us.rd.yahoo.com/evt=47523/*http://tc.deals.yahoo.com/tc/blockbuster/text5.com">one month of Blockbuster Total Access</a>, No Cost.</body></html>
