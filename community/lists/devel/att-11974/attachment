<div dir="ltr"><div><div>Dear all,<br></div>I would like to report a bug for the CUDA support on the last 5 trunk versions.<br></div><div>The attached code is a simply send/receive test case which correctly works with version 1.9a1r27844. <br>
<br></div><div>Starting from version 1.9a1r27862 up to 1.9a1r27897 I get the following message:<br><br>./test: symbol lookup error: /usr/local/openmpi/lib/openmpi/mca_pml_ob1.so: undefined symbol: progress_one_cuda_htod_event<br>
./test: symbol lookup error: /usr/local/openmpi/lib/openmpi/mca_pml_ob1.so: undefined symbol: progress_one_cuda_htod_event<br>--------------------------------------------------------------------------<br>mpirun has exited due to process rank 0 with PID 21641 on<br>
node ip-10-16-24-100 exiting improperly. There are three reasons this could occur:<br><br>1. this process did not call &quot;init&quot; before exiting, but others in<br>the job did. This can cause a job to hang indefinitely while it waits<br>
for all processes to call &quot;init&quot;. By rule, if one process calls &quot;init&quot;,<br>then ALL processes must call &quot;init&quot; prior to termination.<br><br>2. this process called &quot;init&quot;, but exited without calling &quot;finalize&quot;.<br>
By rule, all processes that call &quot;init&quot; MUST call &quot;finalize&quot; prior to<br>exiting or it will be considered an &quot;abnormal termination&quot;<br><br>3. this process called &quot;MPI_Abort&quot; or &quot;orte_abort&quot; and the mca parameter<br>
orte_create_session_dirs is set to false. In this case, the run-time cannot<br>detect that the abort call was an abnormal termination. Hence, the only<br>error message you will receive is this one.<br><br>This may have caused other processes in the application to be<br>
terminated by signals sent by mpirun (as reported here).<br><br>You can avoid this message by specifying -quiet on the mpirun command line.<br></div><div><br>-----------------------------------------------------------------------------------------------------<br>
<br></div><div>I&#39;m using gcc-4.7.2 and CUDA 4.2. The test fails also with CUDA 4.1.<br><br></div><div>Thanks in advance.<br><br>Best regards.<br><br>Alessandro Fanfarillo<br></div><div><br></div><div><br></div></div>

