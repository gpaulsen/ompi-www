<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">It may be there from a long time ago. When the OOB loses a connection, nothing is supposed to happen unless that connection is defined as a "lifeline". Remember, the OOB is not an MPI transport - it is there solely to handle support functions and therefore is not considered "mission critical". So losing an OOB connection isn't considered a "fatal" problem unless it is to the "lifeline".<div><br></div><div>We define a lifeline solely for the case where a daemon dies and we need the local procs to "suicide" and mpirun to terminate the job. So I guess the question is: which connection failed? Was this a connection from a daemon back to mpirun?</div><div><br></div><div>Or were you running as a direct launch process - i.e., the connection was between two MPI procs that were launched via srun? If so, then there is no "lifeline" - if a connection drops, you are on your own. Not much we can do about that scenario as you really don't want to abort just because a non-critical connection fails.</div><div><br></div><div><br><div><div>On Jun 26, 2012, at 1:09 AM, <a href="mailto:Ludovic.Hablot@ext.bull.net">Ludovic.Hablot@ext.bull.net</a> wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><font face="Default Sans Serif,Verdana,Arial,Helvetica,sans-serif" size="2">Version 1.6. But it's already there in 1.5.4.<div><br><font color="#990099">-----devel-bounces@open-mpi.org a écrit : -----</font><div><blockquote style="padding-right:0px;padding-left:5px;margin-left:5px;border-left:solid black 2px;margin-right:0px">A : Open MPI Developers &lt;<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a>&gt;<br>De : Ralph Castain <rhc@open-mpi.org><br>Envoyé par : <a href="mailto:devel-bounces@open-mpi.org">devel-bounces@open-mpi.org</a><br>Date : 25/06/2012 17:57<br>Objet : Re: [OMPI devel] Problem in oob/tcp<br><br>What version?<div><br><div><div>On Jun 25, 2012, at 9:53 AM, <a href="mailto:Ludovic.Hablot@ext.bull.net">Ludovic.Hablot@ext.bull.net</a> wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><font face="Default Sans Serif,Verdana,Arial,Helvetica,sans-serif" size="2"><div>Hi everybody,</div><div><br></div><div>I'm facing a problem in orte/oob/tcp/, more particularly in file oob_tcp_msg.c. Some network interruptions were making my program hanging and not crashing (a basic helloworld).</div><div><br></div><div>Thus, I reproduced the problem with gdb, by simulating an error on read (jumping from line 357 to 367, oob_tcp_msg.c). Then, openmpi close the socket, make the shutdown and then is hanging.</div><div><br></div><div>It seems that there is an exception callback function (mca_oob_tcp.oob_exception_callback) "planned" but not implemented yet.</div><div><br></div><div>Any idea on how to solve this problem ? Or is this the expected behavior when we lose connection ? Did I missed anything ?</div><div><br></div><div>Thanks in advance,</div><div><br></div><div>Ludovic</div><div></div></font>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></blockquote></div><br></div><font face="Courier New,Courier,monospace" size="3">_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></font></rhc@open-mpi.org></blockquote></div></div><div></div></font>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
