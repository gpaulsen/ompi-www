<div dir="ltr">The following 2 fragment from config/orte_check_alps.m4 appear to be contradictory.<br><div><div style><div style>By that I mean the first appears to mean that &quot;--with-alps&quot; with no argument means /opt/cray/alps/default/... for CLE5 and /usr/... for CLE4, while the second fragment appears to be doing the opposite:</div>
<div style><br></div><div style><div>                   if test &quot;$using_cle5_install&quot; = &quot;yes&quot;; then</div><div>                       orte_check_alps_libdir=&quot;/opt/cray/alps/default/lib64&quot;</div>
<div>                   else</div><div>                       orte_check_alps_libdir=&quot;/usr/lib/alps&quot;</div><div>                   fi</div><div><br></div><div><br></div><div><div>           if test &quot;$using_cle5_install&quot; = &quot;yes&quot; ; then</div>
<div>                  AS_IF([test &quot;$with_alps&quot; = &quot;yes&quot;],</div><div>                        [orte_check_alps_dir=&quot;/usr&quot;],</div><div>                        [orte_check_alps_dir=&quot;$with_alps&quot;])</div>
<div>           else   </div><div>                  AS_IF([test &quot;$with_alps&quot; = &quot;yes&quot;],</div><div>                        [orte_check_alps_dir=&quot;/opt/cray/alps/default&quot;],</div><div>                        [orte_check_alps_dir=&quot;$with_alps&quot;])</div>
<div>           fi</div></div><div><br></div><div style>At least based on header and lib locations on NERSC&#39;s XC30 (CLE 5.0.15) and XE6 (CLE 4.1.40), the first fragment is correctwhile the second fragment is &quot;backwards&quot; (the two calls to AS_IF should be exchanged, or the initial &quot;test&quot; should be inverted).</div>
<div style><br></div><div style>Note this same logic is present in both trunk and v1.7 (in SVN - I am not looking at tarballs this time).</div><div style><br></div><div style>-Paul</div><div style><br></div></div><div style>
<br></div></div><div style><br></div><div style><br></div><div><br clear="all"><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div></div>

