<div dir="ltr"><div>MCA infra is very powerful and this use-case can be satisfied by introducing MCA naming convention and checking it programmatically.</div><div><br></div><div>Changing/updating architecture to fulfill this specific use-case seems a overkill. The arch is powerfull to resolve it w/o adding specific class (IMHO).<br>
</div><div><div> </div></div><div>We had &quot;--bynode&quot; cmd line arg in mpirun before which was a wrapper around specific MCA rmaps param for convenience.</div><div>The well-known MCA  can be something similar, i guess.</div>
<div><br></div><div><br></div><div><br></div><div><br></div></div><div class="gmail_extra"><br><br><div class="gmail_quote">On Fri, Apr 25, 2014 at 5:29 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word"><div>So long as this isn&#39;t a requirement, I don&#39;t see an issue with standardizing the syntax. I suspect Jeff&#39;s concern is with hard-coding ompi_info (and all its flavors) with an option that looks for a specific MCA param from every component. Seems somewhat icky from a software design standpoint, and inflexible.</div>
<div><br></div><div>Perhaps creating a special MCA param &quot;class&quot; might make that more palatable? So we aren&#39;t looking for a particular string inside an MCA param name when someone gives that ompi_info option, but instead printing all params of a specific type?</div>
<div><div class="h5"><div><br></div><div><br></div><div><div>On Apr 25, 2014, at 4:18 AM, Stephen Poole &lt;<a href="mailto:swpoole@gmail.com" target="_blank">swpoole@gmail.com</a>&gt; wrote:</div><br><blockquote type="cite">
<div style="font-size:12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:start;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px"><br>-----BEGIN PGP SIGNED MESSAGE-----<br>
Hash: SHA1<br><br>Although the one Mike suggests would be much easier for &quot;end users&quot;, I<br>think that in this<br>case, if the end user is more of a Linux newbie, they would have scripts<br>written for them,<br>
that the admins use or will be handed to them. Either way would be a<br>great addition for<br>system/build/runtime verification of the installed libraries.<br><br>Best<br>Steve...<br><br><br>On 4/25/14, 7:13 AM, Jeff Squyres (jsquyres) wrote:<br>
<blockquote type="cite">On Apr 25, 2014, at 7:01 AM, Mike Dubman &lt;<a href="mailto:miked@dev.mellanox.co.il" target="_blank">miked@dev.mellanox.co.il</a>&gt; wrote:<br><br><blockquote type="cite"><blockquote type="cite">
<blockquote type="cite"><blockquote type="cite">ompi_info --all --parsable | egrep &#39;:(compile|run)time_version&#39;<br></blockquote></blockquote></blockquote><br>yep, this is much better, but I don`t think we should count on<br>
</blockquote></blockquote>end-user to be unix regex guru.<br><blockquote type="cite"><br>I thought you said this was for support scripts?<br><br>Users can easily do this:<br><br> ompi_info --all --parsable | grep time_version<br>
<br>Or even<br><br> ompi_info --all --parsable | grep _version<br><br>Or even<br><br> ompi_info --all --parsable | grep version<br><br><br><blockquote type="cite">Ideally, following would be much user-friendlier:<br><br>ompi_info --all --parsable --print-sys-libs-versions<br>
<br><br><br><br>On Fri, Apr 25, 2014 at 1:32 PM, Jeff Squyres (jsquyres)<br></blockquote></blockquote>&lt;<a href="mailto:jsquyres@cisco.com" target="_blank">jsquyres@cisco.com</a>&gt; wrote:<br><blockquote type="cite"><blockquote type="cite">
On Apr 24, 2014, at 1:38 AM, Mike Dubman &lt;<a href="mailto:miked@dev.mellanox.co.il" target="_blank">miked@dev.mellanox.co.il</a>&gt;<br></blockquote></blockquote>wrote:<br><blockquote type="cite"><blockquote type="cite">
<br><blockquote type="cite">** prefix each well-known MCA param with &quot;print_&quot;:<br></blockquote><br>I like the overall idea of this RFC, but I&#39;m not wild about this<br></blockquote></blockquote>specific word &quot;print&quot; -- it seems weird.  All the MCA parameters are<br>
*printed* -- the word &quot;print&quot; doesn&#39;t really distinguish anything here.<br><blockquote type="cite"><blockquote type="cite"><br>(I know I&#39;m just harping on a word, but I think it&#39;s an important<br></blockquote>
</blockquote>word here... :-) )<br><blockquote type="cite"><blockquote type="cite"><br>Got a better suggestion, perchance?  (I don&#39;t, offhand...)<br><br><blockquote type="cite">** Define two well-known mca parameters indicating external library<br>
</blockquote></blockquote></blockquote>runtime and compiletime versions, i.e.:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite"><br>print_compiletime_version<br>print_runtime_version<br><br>The following command will show all exposed well-known mca params<br>
</blockquote></blockquote></blockquote>from all components:<br><blockquote type="cite"><blockquote type="cite"><blockquote type="cite">ompi_info --parsable -l 9 |grep &quot;:print_&quot;<br></blockquote><br>How about changing this a bit (hoping my regexp syntax is correct at<br>
</blockquote></blockquote>6:30am before coffee...):<br><blockquote type="cite"><blockquote type="cite"><br>ompi_info --all --parsable | egrep &#39;:(compile|run)time_version&#39;<br><br>Then the &quot;print_&quot; prefix isn&#39;t needed.<br>
<br>--<br>Jeff Squyres<br><a href="mailto:jsquyres@cisco.com" target="_blank">jsquyres@cisco.com</a><br>For corporate legal information go to:<br></blockquote></blockquote><a href="http://www.cisco.com/web/about/doing_business/legal/cri/" target="_blank">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br>
<blockquote type="cite"><blockquote type="cite"><br>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post:<br></blockquote></blockquote><a href="http://www.open-mpi.org/community/lists/devel/2014/04/14610.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/04/14610.php</a><br><blockquote type="cite">
<blockquote type="cite"><br>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post:<br></blockquote></blockquote><a href="http://www.open-mpi.org/community/lists/devel/2014/04/14611.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/04/14611.php</a><br><blockquote type="cite">
<br><br></blockquote><br>-----BEGIN PGP SIGNATURE-----<br>Version: GnuPG/MacGPG2 v2.0.22 (Darwin)<br>Comment: GPGTools -<span> </span><a href="http://gpgtools.org/" target="_blank">http://gpgtools.org</a><br>Comment: Using GnuPG with Thunderbird -<span> </span><a href="http://www.enigmail.net/" target="_blank">http://www.enigmail.net/</a><br>
<br>iQIcBAEBAgAGBQJTWkSZAAoJECiO+w6Set8uDWgP/2Lnx2j1foBu85sRtHwIqU72<br>AdQGPvCqbiXZ3Sn32ODJgCE6lGm38W075HqETN3CFfrawvLLpAjsnLs2mdA1GcZq<br>buoPVuFAHQQZ4FM7y+TGUt0NyMAsMDWfBR8t9JdyMZdP7fHYhGitkuGshItivWmQ<br>0j3KYzKFRe9qVGNvAc+f6eG7DnC+vUFNMZZ6APg62mYB7v//4NGhhrvHpYgD5jG2<br>
S3kA1QfvM7xPy6rOL4gvyA6LRnFsNnQmKKLEJFXhPazwy5/5Aop8iwc2TxqVBsZE<br>Jw4B6ZrTKrQCzfuN4vN6jgeYHwhlZHKZqtVDMoIWHKwhJMvXlH8aTmeDqqj6sAfl<br>wknbew6BETuuIkszyRr0BjZrf4zjJ18vqDoRwFNa8p6Wc3cbhK96kl6fXquxTd4z<br>GIuRAIVqemEUGNKnGyuItYuVimkkvts5Ve5c/BxpMBT3oQX1LzOxb6+mcwzdR0dD<br>
HK82VQlycFegLQ9+ERLgYEkcfmyZlvB+x/pwtx9RRMOd177w5fCo8hTTnkmWJNq2<br>jfq5cDiAW7knBJ1ZOGvMjp8RDpBMyMHjr6WCxQC3y+szR0TcMWrFUddcM2/2OBxF<br>YfFCP5jaeCQOOmDh1kcntcFoLw43io2xHFr/UwmfXeDhh/IFQrnEmshjvl/ZFF8n<br>RZogS6K9ty1C9x5GCBm4<br>
=O0Fa<br>-----END PGP SIGNATURE-----<br><br>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription:<span> </span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post:<span> </span><a href="http://www.open-mpi.org/community/lists/devel/2014/04/14613.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/04/14613.php</a></div></blockquote></div><br></div>
</div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/04/14617.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/04/14617.php</a><br></blockquote></div><br></div>

