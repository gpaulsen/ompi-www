<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">No, that looks different - it’s failing in mpirun itself. Can you get a line number on it?<div class=""><br class=""></div><div class="">Sorry for delay - I’m generating rc3 now</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Dec 11, 2014, at 6:59 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">Don't see an rc3 yet.<div class=""><br class=""></div><div class="">My Solaris-10/SPARC runs fail slightly differently (see below).</div><div class="">It looks sufficiently similar that it MIGHT be the same root cause.</div><div class="">However, lacking an rc3 to test I figured it would be better to report this than to ignore it.</div><div class=""><br class=""></div><div class="">The problem is present with both V8+ and V9 ABIs, and with both Gnu and Sun compilers.</div><div class=""><br class=""></div><div class="">-Paul</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">[niagara1:29881] *** Process received signal ***</font></div><div class=""><font face="monospace" class="">[niagara1:29881] Signal: Segmentation Fault (11)</font></div><div class=""><font face="monospace" class="">[niagara1:29881] Signal code: Address not mapped (1)</font></div><div class=""><font face="monospace" class="">[niagara1:29881] Failing at address: 2</font></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-pal.so.6.2.1:opal_bac</font><span style="font-family:monospace" class="">ktrace_print+0x24</span></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-pal.so.6.2.1:0xaa160</font></div><div class=""><font face="monospace" class="">/lib/libc.so.1:0xc5364</font></div><div class=""><font face="monospace" class="">/lib/libc.so.1:0xb9e64</font></div><div class=""><font face="monospace" class="">/lib/libc.so.1:strlen+0x14 [ Signal 11 (SEGV)]</font></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-pal.so.6.2.1:opal_vas</font><span style="font-family:monospace" class="">printf+0x20</span></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-pal.so.6.2.1:opal_asp</font><span style="font-family:monospace" class="">rintf+0x30</span></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-pal.so.6.2.1:opal_hwl</font><span style="font-family:monospace" class="">oc_base_get_topo_signature+0x24c</span></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/openmpi/mca_ess_hnp.so:0x2d90</font></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/lib/libopen-rte.so.7.0.5:orte_ini</font><span style="font-family:monospace" class="">t+0x2f8</span></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/bin/orterun:orterun+0xaa8</font></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/bin/orterun:main+0x14</font></div><div class=""><font face="monospace" class="">/sandbox/hargrove/OMPI/openmpi-1.8.4rc2-solaris10-sparcT2-gcc346-v8plus/INST/bin/orterun:_start+0x5c</font></div><div class=""><font face="monospace" class="">[niagara1:29881] *** End of error message ***</font></div><div class=""><font face="monospace" class="">Segmentation Fault - core dumped</font></div></div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Thu, Dec 11, 2014 at 3:29 PM, Ralph Castain <span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">Ah crud - incomplete commit means we didn’t send the topo string. Will roll rc3 in a few minutes.<div class=""><br class=""></div><div class="">Thanks, Paul</div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><div class=""><blockquote type="cite" class=""><div class=""><div class="h5"><div class="">On Dec 11, 2014, at 3:08 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class=""></div></div><div class=""><div class=""><div class="h5"><div dir="ltr" class="">Testing the 1.8.4rc2 tarball on my x86-64 Solaris-11 systems I am getting the following crash for both "-m32" and "-m64" builds:<div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">$ mpirun -mca btl sm,self,openib -np 2 -host pcp-j-19,pcp-j-20 examples/ring_c'</font></div><div class=""><font face="monospace" class="">[pcp-j-19:18762] *** Process received signal ***</font></div><div class=""><font face="monospace" class="">[pcp-j-19:18762] Signal: Segmentation Fault (11)</font></div><div class=""><font face="monospace" class="">[pcp-j-19:18762] Signal code: Address not mapped (1)</font></div><div class=""><font face="monospace" class="">[pcp-j-19:18762] Failing at address: 0</font></div><div class=""><font face="monospace" class="">/shared/OMPI/openmpi-1.8.4rc2-solaris11-x64-ib-gcc452/INST/lib/libopen-pal.so.6.2.1'opal_backtrace_print+0x26 [0xfffffd7ffaf237ba]</font></div><div class=""><font face="monospace" class="">/shared/OMPI/openmpi-1.8.4rc2-solaris11-x64-ib-gcc452/INST/lib/libopen-pal.so.6.2.1'show_stackframe+0x833 [0xfffffd7ffaf20ba1]</font></div><div class=""><font face="monospace" class="">/lib/amd64/libc.so.1'__sighndlr+0x6 [0xfffffd7fff202cc6]</font></div><div class=""><font face="monospace" class="">/lib/amd64/libc.so.1'call_user_handler+0x2aa [0xfffffd7fff1f648e]</font></div><div class=""><font face="monospace" class="">/lib/amd64/libc.so.1'strcmp+0x1a [0xfffffd7fff170fda] [Signal 11 (SEGV)]</font></div><div class=""><font face="monospace" class="">/shared/OMPI/openmpi-1.8.4rc2-solaris11-x64-ib-gcc452/INST/bin/orted'main+0x90 [0x4010b7]</font></div><div class=""><font face="monospace" class="">/shared/OMPI/openmpi-1.8.4rc2-solaris11-x64-ib-gcc452/INST/bin/orted'_start+0x6c [0x400f2c]</font></div><div class=""><font face="monospace" class="">[pcp-j-19:18762] *** End of error message ***</font></div><div class=""><font face="monospace" class="">bash: line 1: 18762 Segmentation Fault &nbsp; &nbsp; &nbsp;(core dumped) /shared/OMPI/openmpi-1.8.4rc2-solaris11-x64-ib-gcc452/INST/bin/orted -mca ess "env" -mca orte_ess_jobid "911343616" -mca orte_ess_vpid 1 -mca orte_ess_num_procs "2" -mca orte_hnp_uri "911343616.0;tcp://<a href="http://172.16.0.120/" target="_blank" class="">172.16.0.120</a>,<a href="http://172.18.0.120:50362/" target="_blank" class="">172.18.0.120:50362</a>" --tree-spawn -mca btl "sm,self,openib" -mca plm "rsh" -mca shmem_mmap_enable_nfs_warning "0"</font></div><div class=""><font face="monospace" class=""><br class=""></font></div><div class="">Running gdb against a core generated by the 32-bit build gives line numbers:</div><div class=""><div class=""><font face="monospace" class="">#0 &nbsp;0xfea1cb45 in strcmp () from /lib/libc.so.1</font></div><div class=""><font face="monospace" class="">#1 &nbsp;0xfeef4900 in orte_daemon (argc=26, argv=0x80479b0)</font></div><div class=""><font face="monospace" class="">&nbsp; &nbsp; at /shared/OMPI/openmpi-1.8.4rc2-solaris11-x86-ib-gcc452/openmpi-1.8.4rc2/orte/orted/orted_main.c:789</font></div><div class=""><font face="monospace" class="">#2 &nbsp;0x08050fb1 in main (argc=26, argv=0x80479b0)</font></div><div class=""><font face="monospace" class="">&nbsp; &nbsp; at /shared/OMPI/openmpi-1.8.4rc2-solaris11-x86-ib-gcc452/openmpi-1.8.4rc2/orte/tools/orted/orted.c:62</font></div></div><div class=""><br class=""></div><div class="">-Paul</div><div class=""><br class=""></div>-- <br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div>
</div></div></div></div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/12/16514.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/12/16514.php</a></div></blockquote></div><br class=""></div></div><br class="">_______________________________________________<br class="">
devel mailing list<br class="">
<a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/12/16515.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/12/16515.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2014/12/16521.php</div></blockquote></div><br class=""></div></body></html>
