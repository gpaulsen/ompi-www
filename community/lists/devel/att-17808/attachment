<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Hmm….I’ll bet this is the correct change, then:<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/ompi/debuggers/Makefile.am b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 3e48af8..93a3046 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -10,6 +10,7 @@</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Copyright (c) 2004-2005 The Regents of the University of California.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Copyright (c) 2007-2015 Cisco Systems, Inc.&nbsp; All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+# Copyright (c) 2015&nbsp; &nbsp; &nbsp; Intel, Inc. All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# $COPYRIGHT$</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;#&nbsp;</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Additional copyrights may follow</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -43,13 +44,14 @@<span style="font-variant-ligatures: no-common-ligatures; color: #000000" class=""> headers = \</span></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Simple checks to ensure that the DSOs are functional</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_SOURCES = dlopen_test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+dlopen_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_DEPENDENCIES = $(ompi_predefined_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_SOURCES = predefined_gap_test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-predefined_gap_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+predefined_gap_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_LDADD = $(top_builddir)/ompi/libmpi.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_DEPENDENCIES = $(ompi_predefined_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class=""><br class=""></p><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class=""><br class=""></p><div><blockquote type="cite" class=""><div class="">On Aug 23, 2015, at 8:41 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">Ralph,<div class=""><br class=""></div><div class="">Sorry, but no change - still failing to load libmyriexpress.so and still no rpath at link:</div><div class=""><div class=""><br class=""></div><div class=""><font face="monospace, monospace" size="1" class="">/bin/sh ../../libtool &nbsp;--tag=CC &nbsp; --mode=link gcc -std=gnu99 &nbsp;-fno-strict-aliasing -pthread -g &nbsp; -o dlopen_test dlopen_test.o ../../ompi/<a href="http://libmpi.la/" class="">libmpi.la</a><span class="Apple-converted-space">&nbsp;</span>../../opal/<a href="http://libopen-pal.la/" class="">libopen-pal.la</a><span class="Apple-converted-space">&nbsp;</span>-lrt -lm -lutil &nbsp;</font></div><div class=""><font face="monospace, monospace" size="1" class="">libtool: link: gcc -std=gnu99 -fno-strict-aliasing -pthread -g -o dlopen_test dlopen_test.o &nbsp;../../ompi/.libs/libmpi.a -L/opt/mx2g/lib -libverbs -lmyriexpress /home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/orte/.libs/libopen-rte.a /home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/opal/.libs/libopen-pal.a ../../opal/.libs/libopen-pal.a -ldl -lrt -lm -lutil -pthread</font></div></div><div class=""><br class=""></div><div class="">I am not surprised, since predefined_gap_test already had those LDFLAGS and had also failed to locate the library at run time.</div><div class="">Don't misunderstand - I agree the change you made is correct (and necessary), but it is apparently not sufficient.</div><div class=""><br class=""></div><div class="">It does look like configure did its job:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">$ grep ,-rpath config.status</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["OMPI_PKG_CONFIG_LDFLAGS"]="-L/opt/mx2g/lib &nbsp; &nbsp;-Wl,-rpath -Wl,/opt/mx2g/lib -Wl,-rpath -Wl,${libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["OMPI_WRAPPER_EXTRA_LDFLAGS"]="-L/opt/mx2g/lib &nbsp; &nbsp;-Wl,-rpath -Wl,/opt/mx2g/lib -Wl,-rpath -Wl,@{libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["ORTE_PKG_CONFIG_LDFLAGS"]=" &nbsp; &nbsp;-Wl,-rpath -Wl,${libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["ORTE_WRAPPER_EXTRA_LDFLAGS"]=" &nbsp; &nbsp;-Wl,-rpath -Wl,@{libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["OPAL_PKG_CONFIG_LDFLAGS"]=" &nbsp; &nbsp;-Wl,-rpath -Wl,${libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">S["OPAL_WRAPPER_EXTRA_LDFLAGS"]=" &nbsp; &nbsp;-Wl,-rpath -Wl,@{libdir} -Wl,--enable-new-dtags"</font></div><div class=""><font face="monospace, monospace" size="1" class="">D["WRAPPER_EXTRA_LDFLAGS"]=" \"-L/opt/mx2g/lib &nbsp; &nbsp;-Wl,-rpath -Wl,/opt/mx2g/lib -Wl,-rpath -Wl,@{libdir} -Wl,--enable-new-dtags\""</font></div></div><div class=""><br class=""></div><div class="">However, WRAPPER_EXTRA_LDFLAGS isn't defined in any Makefile, despite being used in several:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">$ find . -name Makefile | xargs grep -w WRAPPER_EXTRA_LDFLAGS</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/event/Makefile:signal_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/event/Makefile:time_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/event/Makefile:event_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:ddt_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:ddt_raw_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:ddt_pack_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:checksum_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:position_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:position_noncontig_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:to_self_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./test/datatype/Makefile:opal_datatype_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./ompi/debuggers/Makefile:dlopen_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div><div class=""><font face="monospace, monospace" size="1" class="">./ompi/debuggers/Makefile:predefined_gap_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</font></div></div><div class=""><br class=""></div><div class="">So, the following result is probably not too surprising (unless due to the tests NOT appearing):</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">$ make -k check 2&gt;&amp;1 | grep ^FAIL</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: predefined_gap_test</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: dlopen_test</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: checksum</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: position</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: position_noncontig</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: ddt_test</font></div><div class=""><font face="monospace, monospace" size="1" class="">FAIL: ddt_raw</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">-Paul</div><div class=""><br class=""></div></div><div class="gmail_extra" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br class=""><div class="gmail_quote">On Sun, Aug 23, 2015 at 7:46 PM, Paul Hargrove<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div dir="ltr" class="">Ralph,<div class=""><br class=""></div><div class="">I will try the requested change and let you know.</div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote"><div class=""><div class="h5">On Sun, Aug 23, 2015 at 7:27 PM, Ralph Castain<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""></div></div><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div class=""><div class="h5"><div style="word-wrap: break-word;" class="">Rather than generating another rc right away, could you please apply the following patch and see if it fixes the problem?<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/ompi/debuggers/Makefile.am b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 3e48af8..343a0c4 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -10,6 +10,7 @@</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Copyright (c) 2004-2005 The Regents of the University of California.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Copyright (c) 2007-2015 Cisco Systems, Inc.&nbsp; All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+# Copyright (c) 2015&nbsp; &nbsp; &nbsp; Intel, Inc. All rights reserved.</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# $COPYRIGHT$</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;#&nbsp;</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Additional copyrights may follow</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -43,6 +44,7 @@<span style="" class=""><span class="Apple-converted-space">&nbsp;</span>headers = \</span></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Simple checks to ensure that the DSOs are functional</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class=""></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_SOURCES = dlopen_test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+dlopen_test_LDFLAGS = $(WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-converted-space">&nbsp;</span>$(top_builddir)/ompi/<a href="http://libmpi.la/" target="_blank" class="">libmpi.la</a><span class="Apple-converted-space">&nbsp;</span>\</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-converted-space">&nbsp;</span>$(top_builddir)/opal/<a href="http://libopen-pal.la/" target="_blank" class="">libopen-pal.la</a></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">Thanks</div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><br class=""></div><div class=""><blockquote type="cite" class=""><div class=""><div class=""><div class="">On Aug 23, 2015, at 4:58 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class=""></div></div><div class=""><div class=""><div class=""><div dir="ltr" class=""><div class="">I regret to say that in my endless search for perfection (which is a journey, not a destination) I believe I found another issue:</div><div class=""><br class=""></div>I had mx2g sources sitting around, which I compiled and installed on two systems (x86 and x86-64).<div class="">These provide only compile/link tests, since my systems lack the hardware (actually do have some in a box somewhere).<div class=""><br class=""></div><div class="">Things worked fine on both systems when configure with --with-mx=[path].</div><div class="">However, on both systems adding "--enable-static --disable-shared" results in failure from "make check":</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" class="">make[3]: Entering directory `/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/ompi/debuggers'</font></div><div class=""><font face="monospace, monospace" class="">&nbsp;<span class="Apple-converted-space">&nbsp;</span>CC &nbsp; &nbsp; &nbsp; predefined_gap_test.o</font></div><div class=""><font face="monospace, monospace" class="">&nbsp;<span class="Apple-converted-space">&nbsp;</span>CCLD &nbsp; &nbsp; predefined_gap_test</font></div><div class=""><font face="monospace, monospace" class="">&nbsp;<span class="Apple-converted-space">&nbsp;</span>CC &nbsp; &nbsp; &nbsp; dlopen_test.o</font></div><div class=""><font face="monospace, monospace" class="">&nbsp;<span class="Apple-converted-space">&nbsp;</span>CCLD &nbsp; &nbsp; dlopen_test</font></div><div class=""><font face="monospace, monospace" class="">make[3]: Leaving directory `/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/ompi/debuggers'</font></div><div class=""><font face="monospace, monospace" class="">make &nbsp;check-TESTS</font></div><div class=""><font face="monospace, monospace" class="">make[3]: Entering directory `/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/ompi/debuggers'</font></div><div class=""><font face="monospace, monospace" class="">./predefined_gap_test: error while loading shared libraries: libmyriexpress.so: cannot open shared object file: No such file or directory</font></div><div class=""><font face="monospace, monospace" class="">FAIL: predefined_gap_test</font></div><div class=""><font face="monospace, monospace" class="">./dlopen_test: error while loading shared libraries: libmyriexpress.so: cannot open shared object file: No such file or directory</font></div><div class=""><font face="monospace, monospace" class="">FAIL: dlopen_test</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">The following *does* show &nbsp;mpicc using a correct &nbsp;rpath argument for the mx library:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" class="">$ ./INST/bin/mpicc --show openmpi-1.10.0rc5/examples/ring_c.c</font></div><div class=""><font face="monospace, monospace" class="">gcc openmpi-1.10.0rc5/examples/ring_c.c -I/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/INST/include -pthread -L/opt/mx2g/lib -Wl,-rpath -Wl,/opt/mx2g/lib -Wl,-rpath -Wl,/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/INST/lib -Wl,--enable-new-dtags -L/home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/INST/lib -lmpi -lopen-rte -lopen-pal -lm -ldl -lrt -lmyriexpress -libverbs -lutil</font></div><div class=""><font face="monospace, monospace" class="">$ ls /opt/mx2g/lib</font></div><div class=""><font face="monospace, monospace" class="">debug &nbsp;libmyriexpress.a &nbsp;libmyriexpress.so</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">However, the *test* is built without an rpath:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" class="">/bin/sh ../../libtool &nbsp;--tag=CC &nbsp; --mode=link gcc -std=gnu99 &nbsp;-fno-strict-aliasing -pthread -g &nbsp; -o dlopen_test dlopen_test.o ../../ompi/<a href="http://libmpi.la/" target="_blank" class="">libmpi.la</a><span class="Apple-converted-space">&nbsp;</span>../../opal/<a href="http://libopen-pal.la/" target="_blank" class="">libopen-pal.la</a><span class="Apple-converted-space">&nbsp;</span>-lrt -lm -lutil &nbsp;</font></div><div class=""><font face="monospace, monospace" class="">libtool: link: gcc -std=gnu99 -fno-strict-aliasing -pthread -g -o dlopen_test dlopen_test.o &nbsp;../../ompi/.libs/libmpi.a -L/opt/mx2g/lib -libverbs -lmyriexpress /home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/orte/.libs/libopen-rte.a /home/phargrov/OMPI/openmpi-1.10.0rc5-linux-x86-mx-static/BLD/opal/.libs/libopen-pal.a ../../opal/.libs/libopen-pal.a -ldl -lrt -lm -lutil -pthread</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">I have no reason to suspect this is not also present in 1.8.x, but have not checked.</div><div class="">Sometime after 1.10.0 is out to door, I expect to test the v1.8 nightly tarball.</div><div class=""><br class=""></div><div class="">-Paul [who enjoyed breaking his toys as a child and now breaks software with the same enthusiasm]</div><div class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div></div></div></div></div></div>_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2015/08/17803.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17803.php</a></div></blockquote></div><br class=""></div></div><br class="">_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class=""></div></div>Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2015/08/17804.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17804.php</a><br class=""></blockquote></div><span class=""><br class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div></span></div></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div></div><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">_______________________________________________</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">devel mailing list</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><a href="mailto:devel@open-mpi.org" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">devel@open-mpi.org</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Subscription:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/community/lists/devel/2015/08/17807.php" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17807.php</a></div></blockquote></div><br class=""></div></body></html>
