<div dir="ltr"><div>On Thu, Jan 23, 2014 at 1:16 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br></div><div><div class="gmail_quote">[snip]<br>
<blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr">I will retest ASAP and report with, I hope, an attachment to fix both IA64.asm and ia64/atomic.h</div>
</blockquote><div>[snip]</div></div></div><div><br></div>Eureka!!<div><br></div><div>With the bogus cast removed in both places, I can now run ring_c on linux/ia64.</div><div>The attached patch is against trunk, but applies cleanly to v1.7.</div>
<div>I fact, since the code has been incorrect for a long time it applies cleanly to v1.6 too.</div><div><br></div><div>FWIW:</div><div>The code was broken by r3448, which apparently fixed some warnings but also added the incorrect narrowing casts to the 64-bit cmpset code.  So, IA64 *did* work prior to April 2010.</div>
<div><br></div><div>Given the timeline, this can&#39;t possibly be a regression in the 1.7 series.</div><div>Additionally, with Sylvesrte Ledru having given up on ia64 nobody may care at all.</div><div>So, CMR to 1.7.4 vs .5 seems like a potentially moot point.<br>
</div><div><br></div><div>-Paul</div><div><div class="gmail_extra"><br><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div></div>

