<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">It’s probably a race condition caused by uniting the ORTE and OPAL async threads, though I can’t confirm that yet.<div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Jul 17, 2015, at 3:11 AM, Gilles Gouaillardet &lt;<a href="mailto:gilles.gouaillardet@gmail.com" class="">gilles.gouaillardet@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class="">Folks,<div class=""><br class=""></div><div class="">I noticed several errors such as <a href="http://mtt.open-mpi.org/index.php?do_redir=2244" class="">http://mtt.open-mpi.org/index.php?do_redir=2244</a></div><div class="">that did not make any sense to me (at first glance)</div><div class=""><br class=""></div><div class="">I was able to attach one process when the issue occurs.</div><div class="">the sigsegv occurs in thread 2, while thread 1 is invoking ompi_rte_finalize.</div><div class=""><br class=""></div><div class="">All I can think is a scenario in which the progress thread (aka thread 2) is still dealing with some memory that was just freed/unmapped/corrupted by the main thread.</div><div class=""><br class=""></div><div class="">I empirically noticed the error is more likely to occur when there are many tasks on one node</div><div class="">e.g. mpirun --oversubscribe -np 32 a.out</div><div class=""><br class=""></div><div class="">Cheers,</div><div class=""><br class=""></div><div class="">Gilles<br class=""><br class=""></div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/07/17652.php</div></blockquote></div><br class=""></div></body></html>
