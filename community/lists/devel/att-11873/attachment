<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Should be fixed with r27716. We had reorganized the linking a little while ago, and the person who did it thought that the indirect references would be resolved - i.e., that linking against liborte would automatically resolve any calls to functions in libopal since liborte is linked against libopal. Sadly, this wasn't true for the Mac, and it looks like it isn't true for Ubuntu either.<div><br></div><div>Anyway, I resolved it by simply adding libopal to the list of libs for those tools. Let me know if it fixes this for you.</div><div><br></div><div><br><div><div>On Dec 23, 2012, at 7:39 AM, R C &lt;<a href="mailto:recifx@gmail.com">recifx@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">I am trying to compile the development version of openmpi obtained through svn yesterday, on a AMD64 computer running Ubuntu 12.10 (gcc 4.7.2) with&nbsp;valgrind-3.8.1 installed in /usr/local<div><br></div><div>After ./<a href="http://autogen.pl/">autogen.pl</a>. I ran configure:</div>
<div>../configure FC=gfortran --with-mpi-f90-size=medium --with-f90-max-array-dim=6 --with-valgrind=/usr/local</div><div><br></div><div>however 'make all' exited with the error:</div><div><br></div><div><div>make[2]: Entering directory `/home/rc/Downloads/ompi/objd/orte/tools/orte-clean'</div>
<div>&nbsp; CC &nbsp; &nbsp; orte-clean.o</div><div>&nbsp; CCLD &nbsp; orte-clean</div><div>/usr/bin/ld: orte-clean.o: undefined reference to symbol 'opal_show_help_string'</div><div>/usr/bin/ld: note: 'opal_show_help_string' is defined in DSO /home/rc/Downloads/ompi/objd/opal/.libs/libopen-pal.so.0 so try adding it to the linker command line</div>
<div>/home/rc/Downloads/ompi/objd/opal/.libs/libopen-pal.so.0: could not read symbols: Invalid operation</div><div>collect2: error: ld returned 1 exit status</div><div>make[2]: *** [orte-clean] Error 1</div><div>make[2]: Leaving directory `/home/rc/Downloads/ompi/objd/orte/tools/orte-clean'</div>
<div>make[1]: *** [all-recursive] Error 1</div><div>make[1]: Leaving directory `/home/rc/Downloads/ompi/objd/orte'</div><div>make: *** [all-recursive] Error 1</div></div><div><br></div><div>I checked&nbsp;libopen-pal.so.0 using nm.</div>
<div><br></div><div>Any suggestions to get the compilation working would be appreciated.</div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
