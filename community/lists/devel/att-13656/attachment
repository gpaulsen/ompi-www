<html><head></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">I wonder if the reason PGI V10.x does not use&nbsp;mpi_f08 bindings is that old PGI compiler version number parsing error. &nbsp;(Unless, of course, if PGI V11.x or V12.x do use&nbsp;mpi_f08 bindings.) &nbsp;In that old (autoconf?) bug, decisions were made about features supported on PGI compilers by parsing the version number of the compiler. &nbsp;Trouble was, only the first digit was examined, leading to PGI V10.x, V11.x, V12.x, ..., all being parsed as V1. &nbsp;My recollection is that some C++ code was affected.<div><br><div>
<span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; ">Larry Baker<br>US Geological Survey<br>650-329-5608<br><a href="mailto:baker@usgs.gov">baker@usgs.gov</a><br><br><br></span>
</div>
<br><div><div>On 9 Jan 2014, at 4:35 PM, Paul Hargrove wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">My attempts to build the current 1.7.4rc tarball with versions 8.0 and 9.0 of the Portland Group compilers fails miserably on compilation of mpi-f08-types.F90.<div><br></div><div>I am sort of surprised by the attempt to build Fortran 2008 support w/ such old compilers.</div>
<div>I think that fact itself is the real bug here, right?&nbsp;</div><div><br></div><div>With pgi-10.0 I see configure say:</div><div><div><font face="courier new, monospace">checking if building Fortran 'use mpi' bindings... yes</font></div>
<div><font face="courier new, monospace">checking if building Fortran 'use mpi_f08' bindings... no</font></div></div><div><br></div><div>But pgi-8.0 and 9.0 both get identified as "good" compilers.</div>
<div><br></div><div>pgi-9.0:</div><div><div><font face="courier new, monospace">checking if building Fortran 'use mpi' bindings... yes</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports BIND(C)... yes</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports BIND(C) with LOGICAL params... yes</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports optional arguments... yes</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports private... no</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports abstract... yes</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports asynchronous... no</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports procedure... no</font></div><div><font face="courier new, monospace">checking size of Fortran type(test_mpi_handle)... 4</font></div><div><font face="courier new, monospace">checking Fortran compiler F08 assumed rank syntax... not cached; checking</font></div>
<div><font face="courier new, monospace">checking for Fortran compiler support of TYPE(*), DIMENSION(..)... no</font></div><div><font face="courier new, monospace">checking Fortran compiler F08 assumed rank syntax... no</font></div>
<div><font face="courier new, monospace">checking which mpi_f08 implementation to build... "good" compiler, no array subsections</font></div><div><font face="courier new, monospace">configure: WARNING: Temporary development override: forcing the use of F08 wrappers</font></div>
<div><font face="courier new, monospace">checking if building Fortran 'use mpi_f08' bindings... yes</font></div></div><div><br></div><div>pgi-8.0 (almost, but not quite, the same):</div><div><div><font face="courier new, monospace">checking if building Fortran 'use mpi' bindings... yes</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports BIND(C)... yes</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports BIND(C) with LOGICAL params... yes</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports optional arguments... yes</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports private... no</font></div>
<div><font face="courier new, monospace">checking if Fortran compiler supports abstract... no</font></div><div><font face="courier new, monospace">checking if Fortran compiler supports asynchronous... no</font></div><div>
<font face="courier new, monospace">checking if Fortran compiler supports procedure... no</font></div><div><font face="courier new, monospace">checking size of Fortran type(test_mpi_handle)... 4</font></div><div><font face="courier new, monospace">checking Fortran compiler F08 assumed rank syntax... not cached; checking</font></div>
<div><font face="courier new, monospace">checking for Fortran compiler support of TYPE(*), DIMENSION(..)... no</font></div><div><font face="courier new, monospace">checking Fortran compiler F08 assumed rank syntax... no</font></div>
<div><font face="courier new, monospace">checking which mpi_f08 implementation to build... "good" compiler, no array subsections</font></div><div><font face="courier new, monospace">configure: WARNING: Temporary development override: forcing the use of F08 wrappers</font></div>
<div><font face="courier new, monospace">checking if building Fortran 'use mpi_f08' bindings... yes</font></div></div><div><br></div><div>The bzip2-compressed config.log files for pgi-8.0 and 9.0 are attached.</div>
<div><br></div><div>-Paul&nbsp;<br clear="all"><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font>
</div></div>
<span>&lt;openmpi-1.7-latest-linux-x86_64-pgi-9.0-config.log.bz2&gt;</span><span>&lt;openmpi-1.7-latest-linux-x86_64-pgi-8.0-config.log.bz2&gt;</span>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
