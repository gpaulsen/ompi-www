<html><head><style type="text/css"><!-- DIV {margin:0px;} --></style></head><body><div><font size=2 color=navy face=Arial>
I'm not sure I understand - A and B are in front of the firewall/nat, and C is behind it?  And A and C are the &quot;real&quot; mpi processes, and B is just a proxy?<br><br>I'm not sure why you'd need a communication proxy to send all traffic thru; what you really need is something like a connection manager proxy on each side where initiation requests cannot (easily) flow, and maintain some kind of communication with it to the other side. For example, if you have a 1-way firewall (i.e., connection requests can flow from A to B but not from B to A), then during startup you need to establish a CM proxy on the same side as A and establish a socket to it to the B side (perhaps to an orted?). <br><br>A can always connect to B, but if B wants to connect to B, it would initiate the sequence by sending a request to the CM. The CM would then tell A to connect to B. <br><br>Or maybe if you can establish oob communication between all procs, the B can just OOB send to A and say &quot;hey, open a connection back to me because I can't open a connection to you.&quot;<br><br>I left out lots of details because I'm typing on my blackberry; but it gives you the flavor of the issues involved. <br><br>-jms<br>Sent from my PDA.  No type good.</font></div>
<br><div><hr size=2 width="100%" align=center tabindex=-1>
<font face=Tahoma size=2>
<b>From</b>: devel-bounces@open-mpi.org &lt;devel-bounces@open-mpi.org&gt;<br><b>To</b>: Open MPI Developers &lt;devel@open-mpi.org&gt;<br><b>Sent</b>: Tue Apr 27 22:38:22 2010<br><b>Subject</b>: Re: [OMPI devel] How is a MPI process launched ?<br></font><br></div>
<div style="font-family:arial, helvetica, sans-serif;font-size:12pt"><div>Hi Jeff,&nbsp;</div><div><br></div><div><span class="Apple-style-span" style="font-size: medium;">Sorry, can't use IPv6 right now but may be in the future.&nbsp;</span></div><div><br></div><div><meta http-equiv="content-type" content="text/html; charset=utf-8"><span class="Apple-style-span" style="font-size: 13px; "><b><i>When you're talking to someone behind NAT (or any type of firewall), how do you know to whom you're actually talking?</i></b></span></div><div><span class="Apple-style-span" style="font-size: 13px; "><b><i><br></i></b></span></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;">If Machine A&nbsp;can talk to machine&nbsp;C&nbsp;in front&nbsp;of NAT and that machine&nbsp;can relay the data packet to the machine B behind the NAT. From
 Machine A&nbsp;perspective&nbsp;won't it be just like talking to machine B. May be use IPTABLES to specify the route on the port range.&nbsp;</span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;"><br></span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;"><meta http-equiv="content-type" content="text/html; charset=utf-8"><b><i>There are ways, of course, but it's quite complicated if connection initiation can effectively only flow in one direction.&nbsp;</i></b><br></span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;">Jeff, can you tell me the most simple way. It does not have to be perfect.&nbsp;</span></font></div><div><font class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;"><br></span></font></div><div><font
 class="Apple-style-span" size="3"><span class="Apple-style-span" style="font-size: 13px;">Thanks</span></font></div><div style="font-family:arial, helvetica, sans-serif;font-size:12pt"><br><div style="font-family:arial, helvetica, sans-serif;font-size:13px"><font size="2" face="Tahoma"><hr size="1"><b><span style="font-weight: bold;">From:</span></b> Jeff Squyres &lt;jsquyres@cisco.com&gt;<br><b><span style="font-weight: bold;">To:</span></b> Open MPI Developers &lt;devel@open-mpi.org&gt;<br><b><span style="font-weight: bold;">Sent:</span></b> Tue, 27 April, 2010 9:12:07 PM<br><b><span style="font-weight: bold;">Subject:</span></b> Re: [OMPI devel] How is a MPI process launched ?<br></font><br>On Apr 27, 2010, at 10:06 AM, Leo P. wrote:<br><br>&gt; Ralph has talked about the other parts already; so I'll ask about the BTL: what type of network are you looking to route via the BTL?<br>&gt; <br>&gt; I am talking about two different network using a private
 IP and all the communication being routed through a NAT router <br><br>There's a bunch of issues with this; I know that the U. Tennessee and INRIA folks have dug into at least some of them.<br><br>When you're talking to someone behind NAT (or any type of firewall), how do you know to whom you're actually talking?&nbsp; There are ways, of course, but it's quite complicated if connection initiation can effectively only flow in one direction.<br><br>Can you just use IPv6?<br><br>-- <br>Jeff Squyres<br><a ymailto="mailto:jsquyres@cisco.com" href="javascript:void(0)" onclick="window.open('http://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=jsquyres@cisco.com','Compose new message','width=640,height=480')" rel="noreferrer">jsquyres@cisco.com</a><br>For corporate legal information go to:<br><a href="http://www.cisco.com/web/about/doing_business/legal/cri/"
 target="_blank">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br><br><br>_______________________________________________<br>devel mailing list<br><a ymailto="mailto:devel@open-mpi.org" href="javascript:void(0)" onclick="window.open('http://mail.google.com/mail/?view=cm&amp;fs=1&amp;tf=1&amp;to=devel@open-mpi.org','Compose new message','width=640,height=480')" rel="noreferrer">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br></div></div><div style="position:fixed"></div>


</div><br></body></html>