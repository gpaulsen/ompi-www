<div dir="ltr">Hi,<div><br></div><div>We observe a hang when running the multi-threading support test &quot;latency.c&quot; (attached to this report), which uses MPI_THREAD_MULTIPLE.</div><div><br></div><div>The hang happens immediately at the begining of the test and is reproduced in the v1.8 release branch.</div><div><br></div><div>The command line to reproduce the behavior is:</div><div><br></div><div>$ mpirun --map-by node --bind-to core -display-map -np 2 -mca pml ob1 -mca btl tcp,self ./thread-tests-1.1/latency<br></div><div><br></div><div>The last commit with which the hang doesn&#39;t reproduce is:<br></div><div><p class="MsoNormal">commit: e4d4266d9c69e</p><p class="MsoNormal"><br></p><p class="MsoNormal">And problems begin after commit:</p><p class="MsoNormal"><br></p><p class="MsoNormal">commit 09b867374e9618007b81bfaf674ec6df04548bed</p><p class="MsoNormal">Author: Jeff Squyres &lt;<a href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt;</p><p class="MsoNormal">Date:   Fri Oct 31 12:42:50 2014 -0700</p><p class="MsoNormal"><br></p><p class="MsoNormal">    Revert most of open-mpi/ompi@6ef938de3fa9ca0fed2c5bcb0736f65b0d8803af</p><p class="MsoNormal"><br></p><p class="MsoNormal">Is this expected behavior? In other words, should we not expect any stable release in the 1.8.x series to be able to use MPI_THREAD_MULTIPLE with even the TCP and SM BTLs?</p><p class="MsoNormal"><br></p><p class="MsoNormal">Please advise. </p><p class="MsoNormal"><br></p><p class="MsoNormal">Thanks,</p><p class="MsoNormal">Alina.</p><p class="MsoNormal"><br></p><p class="MsoNormal"><br></p></div></div>

