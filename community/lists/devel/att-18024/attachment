<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">As for building OMPI, here is the configure I used:<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><span style="font-variant-ligatures: no-common-ligatures; color: #7c7c7c" class="">08:18:39&nbsp;</span><span style="font-variant-ligatures: no-common-ligatures; color: #27b41c" class=""> (topic/pmix) </span><span style="font-variant-ligatures: no-common-ligatures; color: #ce33cc" class=""><b class="">/home/common/openmpi/foobar</b></span>$ cat contrib/platform/intel/bend/linux</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_orterun_prefix_by_default=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mpi_thread_multiple=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mem_debug=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mem_profile=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_debug_symbols=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_binaries=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_heterogeneous=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_picky=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_debug=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_shared=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_static=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_memchecker=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_ipv6=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mpi_fortran=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mpi_cxx=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mpi_cxx_seek=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_cxx_exceptions=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_mpi_java=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_io_romio=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">enable_contrib_no_build=libnbc</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">with_memory_manager=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">with_tm=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">with_devel_headers=yes</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">with_portals=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">with_valgrind=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">if [ -n "$SLURMHOME" ] ; then</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp; &nbsp; with_slurm=$SLURMHOME</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp; &nbsp; with_pmi=$SLURMHOME</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">else</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp; &nbsp; with_slurm=no</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">fi</div><div class=""><br class=""></div><div class="">So where is all that cruft coming from??</div><div class=""><br class=""></div><div class=""><br class=""></div><div><blockquote type="cite" class=""><div class="">On Sep 12, 2015, at 8:17 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class="">I’ve attached my .ini file - can you please tell me *where* these things are being set?? I haven’t consciously done anything about configure in these tests.<br class=""><br class=""><span id="cid:BB69800D-602F-4665-B421-091C3AD73F7E">&lt;bend-local.ini&gt;</span><br class=""><blockquote type="cite" class="">On Sep 12, 2015, at 8:14 AM, Jeff Squyres (jsquyres) &lt;<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a>&gt; wrote:<br class=""><br class="">FWIW, I have various versions of gcc from 4.4.7 to 5.2 -- I don't have 4.8.3, but I do have 4.8.1, and I can't get it to recognize the -xO5 switch that you're using:<br class=""><br class="">-----<br class="">$ gcc --version<br class="">gcc (GCC) 4.8.1<br class="">Copyright (C) 2013 Free Software Foundation, Inc.<br class="">This is free software; see the source for copying conditions. &nbsp;There is NO<br class="">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br class=""><br class="">$ gcc -xO5 hello.c -o hello<br class="">gcc: error: language O5 not recognized<br class="">gcc: error: language O5 not recognized<br class="">-----<br class=""><br class=""><br class=""><blockquote type="cite" class="">On Sep 12, 2015, at 11:09 AM, Jeff Squyres (jsquyres) &lt;<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a>&gt; wrote:<br class=""><br class="">Sorry; I should have been clear -- the configure line I was specifying was from building Open MPI itself.<br class=""><br class="">I.e., it's your MTT infrastructure/ini file that is adding those flags.<br class=""><br class="">The config.log you show below looks like it is for one of the test suites (i.e., it's using the wrappers, which could not have been done for the main OMPI build itself).<br class=""><br class=""><br class=""><blockquote type="cite" class="">On Sep 12, 2015, at 10:59 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class=""><br class="">I searched around, and I can’t for the life of me see where all that cruft is coming from. Any suggestions?<br class=""><br class="">Here is the top of the config.log from that build:<br class=""><br class="">This file contains any messages produced by compilers while<br class="">running configure, to aid debugging if configure makes a mistake.<br class=""><br class="">It was created by ompi-ibm configure 10.0, which was<br class="">generated by GNU Autoconf 2.69. &nbsp;Invocation command line was<br class=""><br class="">$ ./configure CC=mpicc CXX=mpic++ F77=mpif77<br class=""><br class="">## --------- ##<br class="">## Platform. ##<br class="">## --------- ##<br class=""><br class="">hostname = bend001<br class="">uname -m = x86_64<br class="">uname -r = 3.10.0-229.7.2.el7.x86_64<br class="">uname -s = Linux<br class="">uname -v = #1 SMP Tue Jun 23 22:06:11 UTC 2015<br class=""><br class="">Do you want to see the log itself? I’m at a loss as to why it would add that stuff.<br class=""><br class=""><br class=""><blockquote type="cite" class="">On Sep 12, 2015, at 7:38 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class=""><br class="">Note that I didn’t set any of those flags outside of the CC and friends - they are being set by our MTT test configure itself. The compiler is just gcc 4.8.3, and I suspect O5 is asking a bit from it.<br class=""><br class=""><br class=""><blockquote type="cite" class="">On Sep 12, 2015, at 6:08 AM, Jeff Squyres (jsquyres) &lt;<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a>&gt; wrote:<br class=""><br class="">I notice that your configure line in the MTT tests is this:<br class=""><br class="">CC=cc CXX=CC FC=f90 F77=f77 --with-wrapper-cflags="-xtarget=opteron -xprefetch -xprefetch_level=2<br class="">-xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5" CFLAGS="-xtarget=opteron<br class="">-xprefetch -xprefetch_level=2 -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5"<br class="">--with-wrapper-cxxflags="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib<br class="">-xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5" CXXFLAGS="-xtarget=opteron -xprefetch<br class="">-xprefetch_level=2 -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5"<br class="">--with-wrapper-fflags="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib -stackvar<br class="">-xarch=amd64a -xO5" FFLAGS="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib<br class="">-stackvar -xarch=amd64a -xO5" --with-wrapper-fcflags="-xtarget=opteron -xprefetch -xprefetch_level=2<br class="">-xvector=simd,lib -stackvar -xarch=amd64a -xO5" FCFLAGS="-xtarget=opteron -xprefetch<br class="">-xprefetch_level=2 -xvector=simd,lib -stackvar -xarch=amd64a -xO5" <br class=""><br class="">What compiler suite is that? &nbsp;Is -xO5 really safe to use?<br class=""><br class=""><br class=""><br class=""><blockquote type="cite" class="">On Sep 11, 2015, at 8:51 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class=""><br class="">Hi folks<br class=""><br class="">I’ve closed all the holes I can find in the PMIx integration, and things look pretty good overall. There are a handful of failures still being seen - most of them involving what appear to be unrelated code. I’m not entirely sure I understand the source of the errors, and could really use some help to determine (a) if these are in any way related to PMIx, and if so (b) how.<br class=""><br class="">The errors from my MTT run are here: &nbsp;<a href="http://mtt.open-mpi.org/index.php?do_redir=2256" class="">http://mtt.open-mpi.org/index.php?do_redir=2256</a><br class=""><br class="">Any help diagnosing these problems would be greatly appreciated<br class="">Ralph<br class=""><br class="">_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18013.php<br class=""></blockquote><br class=""><br class="">-- <br class="">Jeff Squyres<br class=""><a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br class=""><br class="">_______________________________________________<br class="">devel mailing list<br class="">devel@open-mpi.org<br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18018.php<br class=""></blockquote><br class=""></blockquote><br class="">_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18020.php<br class=""></blockquote><br class=""><br class="">-- <br class="">Jeff Squyres<br class=""><a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br class=""><br class="">_______________________________________________<br class="">devel mailing list<br class="">devel@open-mpi.org<br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18021.php<br class=""></blockquote><br class=""><br class="">-- <br class="">Jeff Squyres<br class=""><a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br class=""><br class="">_______________________________________________<br class="">devel mailing list<br class="">devel@open-mpi.org<br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18022.php<br class=""></blockquote><br class=""></div></blockquote></div><br class=""></div></body></html>
