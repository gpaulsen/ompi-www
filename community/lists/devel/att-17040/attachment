<div dir="ltr"><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Feb 25, 2015 at 10:17 AM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><span class=""><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">I did that and just shipped a tarball to get Hargroved.<br></blockquote><div><br></div></span><div>Tests have been dispatched...  I will report complete results later today.</div><div>The first of the BSD results should be in soon, and I&#39;ll plan to report go/nogo.</div></blockquote></div><div class="gmail_extra"><br></div>&quot;NOGO&quot;</div><div class="gmail_extra"><br>I don&#39;t have full results (and no backtraces, yet), however things actually look *worse* than the previous tarball.</div><div class="gmail_extra">While the previous tarball gave a pretty message, the current one SEGVs on {Free,Net}BSD.</div><div class="gmail_extra"><br></div><div class="gmail_extra"><br></div><div class="gmail_extra">On FreeBSD-{8,9,10}/amd64 I don&#39;t get past &quot;make check&quot;:</div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_extra"><font face="monospace, monospace" size="1">Segmentation fault (core dumped)</font></div></div><div class="gmail_extra"><div class="gmail_extra"><font face="monospace, monospace" size="1">FAIL: dlopen_test</font></div></div></blockquote><div class="gmail_extra"><div class="gmail_extra">Oddly, my FreeBSD-10/i386 tester passed my tests (I don&#39;t test FreeBSD-{8,9} on i386).</div><div class="gmail_extra"><br></div><div class="gmail_extra">On NetBSD-6/amd64 I also fail &quot;make check&quot;, but w/o the &quot;Segmentation fault&quot; message (difference might not be OMPI-related):</div><div class="gmail_extra"><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_extra"><font face="monospace, monospace" size="1">FAIL: dlopen_test</font></div></div></blockquote><div class="gmail_extra"></div></div><div class="gmail_extra"><br></div><div class="gmail_extra">On NetBSD-6/i386 I don&#39;t see the problem during &quot;make check&quot; but get a terse failure from mpirun:</div></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">$ mpirun -mca btl sm,self -np 2 examples/ring_c&#39;</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">[netbsd6-i386:05263] *** Process received signal ***</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">[netbsd6-i386:05263] Signal: Segmentation fault (11)</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">[netbsd6-i386:05263] Signal code: Address not mapped (1)</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">[netbsd6-i386:05263] Failing at address: 0xbb800000</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">Unable to print stack trace!</font></div></div></div><div class="gmail_extra"><div class="gmail_extra"><div class="gmail_extra"><font size="1" face="monospace, monospace">[netbsd6-i386:05263] *** End of error message ***</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_extra"><br></div><div class="gmail_extra"><br></div><div class="gmail_extra">On OpenBSD-5 everything appears to &quot;just work&quot; now on both amd64 and i386.</div><div class="gmail_extra"><br></div><div class="gmail_extra">When I have a chance (might not be until Thu) I will collect backtraces from the SEGVs on FreeBSD and NetBSD, as well as sanity checking the related configure output.</div><div class="gmail_extra"><br></div><div class="gmail_extra"><br></div><div class="gmail_extra">Jeff,</div><div class="gmail_extra"><br></div><div class="gmail_extra">In the meantime you may want to visit</div><div class="gmail_extra">   <a href="https://www.freebsd.org/cgi/man.cgi?query=dlopen&amp;sektion=3&amp;manpath=FreeBSD+10.1-RELEASE">https://www.freebsd.org/cgi/man.cgi?query=dlopen&amp;sektion=3&amp;manpath=FreeBSD+10.1-RELEASE</a></div><div class="gmail_extra">   <a href="https://www.freebsd.org/cgi/man.cgi?query=dlopen&amp;sektion=3&amp;manpath=NetBSD+6.1.5">https://www.freebsd.org/cgi/man.cgi?query=dlopen&amp;sektion=3&amp;manpath=NetBSD+6.1.5</a><br></div><div class="gmail_extra">and see if the OMPI usage of dlopen() is consistent with the docs for FreeBSD and NetBSD.</div><div class="gmail_extra"><br></div><div class="gmail_extra">-Paul</div><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>

