<div dir="ltr">When I compile the current 1.7.4rc on NetBSD with no configure arguments, I still get the &quot;make install&quot; failure that I have detailed in previous emails.<div><br></div><div>HOWEVER, if I configure with &quot;--enable-static --disable-shared&quot; then I get an earlier failure at build time (partial &quot;make V=1&quot; output shown below).</div>
<div><br></div><div>When linking otfmerge-mpi, the aio_* symbols from libmpi.a(ompi/mca/fbtl/posix/fbtl_posix_ipwritev.o) are not resolved.  According to the man pages on this system, those symbols reside in librt, but there is no occurrence of &quot;-lrt&quot; in either the libtool command line or the gcc command line generated by libtool.</div>
<div><br></div><div>NOTE, however, that this problem does NOT occur when building a default shared library version despite ALSO lacking any explicit &quot;-lrt&quot; in the link command.</div><div><br></div><div>-Paul</div>
<div><br></div><div><br></div><div><div><font face="courier new, monospace" size="1">/bin/ksh ../../../libtool  --tag=CC    --mode=link gcc -DOTFMERGE_MPI    -g -finline-functions -fno-strict-aliasing -pthread  -L/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/ompi/contrib/vt/vt/../../../.libs -o otfmerge-mpi otfmerge_mpi-handler.o  otfmerge_mpi-otfmerge.o ../../../otflib/<a href="http://libopen-trace-format.la">libopen-trace-format.la</a>  ../../../otfauxlib/<a href="http://libotfaux.la">libotfaux.la</a> -lmpi</font></div>
<div><font face="courier new, monospace" size="1">libtool: link: gcc -DOTFMERGE_MPI -g -finline-functions -fno-strict-aliasing -pthread -o otfmerge-mpi otfmerge_mpi-handler.o otfmerge_mpi-otfmerge.o  -L/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/ompi/contrib/vt/vt/../../../.libs ../../../otflib/.libs/libopen-trace-format.a -lz ../../../otfauxlib/.libs/libotfaux.a /home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/ompi/contrib/vt/vt/../../../.libs/libmpi.a /home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/orte/.libs/libopen-rte.a /home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/opal/.libs/libopen-pal.a -lutil -lm -lpthread -pthread</font></div>
<div><font face="courier new, monospace" size="1">/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/ompi/contrib/vt/vt/../../../.libs/libmpi.a(fbtl_posix_ipwritev.o): In function `mca_fbtl_posix_ipwritev&#39;:</font></div>
<div><font face="courier new, monospace" size="1">/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/openmpi-1.7-latest/ompi/mca/fbtl/posix/fbtl_posix_ipwritev.c:90: undefined reference to `aio_write&#39;</font></div><div>
<font face="courier new, monospace" size="1">/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/openmpi-1.7-latest/ompi/mca/fbtl/posix/fbtl_posix_ipwritev.c:112: undefined reference to `aio_write&#39;</font></div><div><font face="courier new, monospace" size="1">/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/openmpi-1.7-latest/ompi/mca/fbtl/posix/fbtl_posix_ipwritev.c:159: undefined reference to `aio_write&#39;</font></div>
<div><font face="courier new, monospace" size="1">/home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/openmpi-1.7-latest/ompi/mca/fbtl/posix/fbtl_posix_ipwritev.c:180: undefined reference to `aio_write&#39;</font></div><div>
<font face="courier new, monospace" size="1">*** Error code 1</font></div><div><font face="courier new, monospace" size="1"><br></font></div><div><font face="courier new, monospace" size="1">Stop.</font></div><div><font face="courier new, monospace" size="1">make: stopped in /home/phargrov/OMPI/openmpi-1.7-latest-netbsd6-amd64/BLD/ompi/contrib/vt/vt/extlib/otf/tools/otfmerge/mpi</font></div>
<div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div>
<div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div>

