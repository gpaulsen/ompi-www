<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Thanks! I won't have time to work on it this week, but appreciate your effort. Also, thanks for clarifying the race condition vis 1.8 - I agree it is not a blocker for that release.<div><br></div><div>Ralph</div><div><br><div><div>On Sep 22, 2014, at 4:49 PM, Gilles Gouaillardet &lt;<a href="mailto:gilles.gouaillardet@gmail.com">gilles.gouaillardet@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">Ralph,<div><br></div><div>here is the patch i am using so far.</div><div>i will resume working on this from Wednesday (there is at least one remaining race condition yet) unless you have the time to take care of it today.</div><div><br></div><div>so far, the race condition has only been observed in real life with the grpcomm/rcd module, and this is not the default in v1.8, so imho this is not a blocker for v1.8.3</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Sep 23, 2014 at 7:46 AM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">Gilles - please let me know if/when you think you'll do this. I'm debating about adding it to 1.8.3, but don't want to delay that release too long. Alternatively, I can take care of it if you don't have time (I'm asking if you can do it solely because you have the reproducer).<div><div class="h5"><div><br></div><div><br><div><div>On Sep 21, 2014, at 6:54 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt; wrote:</div><br><blockquote type="cite"><div style="word-wrap:break-word">Sounds fine with me - please go ahead, and thanks<div><br><div><div><div>On Sep 20, 2014, at 10:26 PM, Gilles Gouaillardet &lt;<a href="mailto:gilles.gouaillardet@gmail.com" target="_blank">gilles.gouaillardet@gmail.com</a>&gt; wrote:</div><br><blockquote type="cite"><div dir="ltr">Thanks for the pointer George !<br><div class="gmail_extra"><br><div class="gmail_quote">On Sat, Sep 20, 2014 at 5:46 AM, George Bosilca <span dir="ltr">&lt;<a href="mailto:bosilca@icl.utk.edu" target="_blank">bosilca@icl.utk.edu</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Or copy the handshake protocol&nbsp;design&nbsp;of the TCP BTL...<div><br></div></div></blockquote><div><br></div><div>the main difference between oob/tcp and btl/tcp is the way we resolve the situation in which two processes send their first message to each other at the same time.</div><div><br></div><div>in oob/tcp, all (e.g. one or two) sockets are closed and the higher vpid is directed to retry establishing a connection.</div><div><br></div><div>in btl/tcp, the useless socket is closed (e.g. the one that was connect-ed on the lower vpid and the one that was accept-ed on the higher vpid.</div><div><br></div><div><br></div><div>my first impression is that oob/tcp is un-necessary complex and it should use the simpler and most efficient protocol of btl/tcp.</div><div>that being said, this conclusion could be too naive and for some good reasons i ignore, the btl/tcp handshake protocol might not be a good fit for oob/tcp.</div><div><br></div><div>any thoughts ?</div><div><br></div><div>i will revamp oob/tcp in order to use the same btl/tcp handshake protocol from tomorrow unless indicated otherwise</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles</div></div></div></div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/09/15885.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/09/15885.php</a></blockquote></div><br></div></div></div></blockquote></div><br></div></div></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/09/15895.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2014/09/15895.php</a><br></blockquote></div><br></div>
<span>&lt;oobtcp2.patch&gt;</span>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br>Link to this post: http://www.open-mpi.org/community/lists/devel/2014/09/15897.php</blockquote></div><br></div></body></html>
