Ralph,<div><br></div><div>iirc, we are using a slightly patched version of libevent, is this correct ?</div><div><br></div><div>I guess removing the internal versions is the way to go,</div><div>that being said, could/should we do this one step at a time ?</div><div>I mean a first step could be to update the configure default option to</div><div>configure --with-hwloc=external --with-libevent=external</div><div>(assuming external is valid, and configure will automatically fallback to the internal</div><div>copy if there is no such external library, or the version is too old)</div><div>I guess there is still quite a bunch of systems running rhel6 like distro, did you check if</div><div>the library they provide are ok for ompi ?</div><div><br></div><div>my 0.02 US$</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles<br><br>On Thursday, December 10, 2015, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi folks<div><br></div><div>Several of us (Igor, Artem, and myself) have recently been investigating cross-library problems involving conflicts between our internal copies of libevent and hwloc vs components in OMPI that are linked against external copies of those libraries. It turns out that our linker friends are generating some interesting (and troubling) cross-connections, even with our internal renaming efforts.</div><div><br></div><div>After digging into this a bunch, we would like to propose that OMPI remove the internal copies of these two libraries. We originally included them because they weren&#39;t prevalent in the upstream distributions, and we didn&#39;t want to make users download and install additional packages to use OMPI. We wanted them to just download OMPI, build and &quot;go&quot;.</div><div><br></div><div>Twelve years later, this is no longer the case. Both libevent and hwloc are typically part of the base distribution, or at the worst easily installed. The packagers have kept up with their versions, and so the problem of whether or not the distributed version of the library contains all our required functionality isn&#39;t an issue.</div><div><br></div><div>So perhaps it is time for us to re-evaluate the need for including the libevent and hwloc source code in OMPI?</div><div><br></div><div>Ralph</div><div><br></div></div>
</blockquote></div>

