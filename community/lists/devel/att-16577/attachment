<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Looking at the comments in the code, it appears that the rationale when written was to provide support for REALLY ancient systems that didn’t have some of these functions. Since that time, we added a configure check for vsnprintf, so I’m adding Paul/Larry’s suggested code, protected by that configure.<div class=""><br class=""></div><div class="">Since I suspect the configure check will always pass on any system of interest today, I think this will solve the problem. We can then address the broader question (e.g., do we even need this stuff any more at all?) in a more leisurely way.</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Dec 12, 2014, at 5:42 PM, Larry Baker &lt;<a href="mailto:baker@usgs.gov" class="">baker@usgs.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; " class=""><div class=""><div class="">On 12 Dec 2014, at 5:22 PM, Paul Hargrove wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite" class=""><span class="Apple-style-span" style="border-collapse: separate; font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; border-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-stroke-width: 0px; font-size: inherit;"><div class="">HOWEVER, while the patch catches the "%u" case, there are plenty of potential ways to hit the same problem if, for instance, one uses "%zu" for size_t.&nbsp; Additionally, I've already noted that the code for "%ld", "%lx", "%lX", "%lf" are all currently incorrect.</div></span></blockquote></div><div class=""><br class=""></div>Not sure if it is applicable, but C99 has an &lt;inttypes.h&gt; header which #include's &lt;stdint.h&gt; and provides additional capabilities, such as printf()/scanf() format macros for the types defined in &lt;stdint.h&gt;.<br class=""><div class=""><br class=""></div><div class=""><div class=""><span class="Apple-style-span" style="border-collapse: separate; font-family: 'Helvetica Neue'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; border-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-stroke-width: 0px; font-size: inherit;">Larry Baker<br class="">US Geological Survey<br class="">650-329-5608<br class=""><a href="mailto:baker@usgs.gov" class="">baker@usgs.gov</a><br class=""><br class=""></span></div><div class=""></div></div></div></div></blockquote></div><br class=""></div></body></html>
