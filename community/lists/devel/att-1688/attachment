<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><BR><DIV><DIV>On Jun 13, 2007, at 11:15 AM, Nysal Jan wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite"><BR><BR><DIV><SPAN class="gmail_quote"></SPAN><BLOCKQUOTE class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">I was just bitten yesterday by a problem that I've known about for a <BR>while but had never gotten around to looking into (I could have sworn<BR>that there was an open trac ticket on this, but I can't find one<BR>anywhere).<BR><BR>I have 2 hosts: one with 3 active ports and one with 2 active ports. <BR>If I run an MPI job between them, the openib BTL wireup got badly and<BR>it aborts.  So handling a heterogeneous number of ports is not<BR>currently handled properly in the code.<BR><BR>I don't know if Gleb's patch addresses this situation or not; I'll <BR>look at his patch this afternoon.<BR><BR></BLOCKQUOTE></DIV><BR><BR>There is a ticket (closed) here: <A href="https://svn.open-mpi.org/trac/ompi/ticket/548">https://svn.open-mpi.org/trac/ompi/ticket/548</A><BR>It was fixed by Galen for 1.2. There is a FAQ entry also about this  <A href="http://www.open-mpi.org/faq/?category=openfabrics#ofa-port-wireup">http://www.open-mpi.org/faq/?category=openfabrics#ofa-port-wireup</A></BLOCKQUOTE><DIV><BR class="khtml-block-placeholder"></DIV>I think Gleb's patch addresses a potential race condition when both sides attempt to connect at the same time. </DIV><DIV><BR><BR><BLOCKQUOTE type="cite"><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">_______________________________________________</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">devel mailing list</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="mailto:devel@open-mpi.org">devel@open-mpi.org</A></DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><A href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</A></DIV> </BLOCKQUOTE></DIV><BR></BODY></HTML>
