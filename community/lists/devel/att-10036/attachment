<html><body><div style="color:#000; background-color:#fff; font-family:arial, helvetica, sans-serif;font-size:12pt"><div><span>Hello Larry,</span></div><div><br><span></span></div><div><span>I thank you for this helpful tip!</span></div><div><br><span></span></div><div><span>Regards and have a nice day,</span></div><div><span>Lukas<br></span></div><div><br><blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; margin-top: 5px; padding-left: 5px;">  <div style="font-family: arial,helvetica,sans-serif; font-size: 12pt;"> <div style="font-family: times new roman,new york,times,serif; font-size: 12pt;"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight: bold;">Von:</span></b> Larry Baker &lt;baker@usgs.gov&gt;<br> <b><span style="font-weight: bold;">An:</span></b> Open MPI Developers &lt;devel@open-mpi.org&gt; <br><b><span style="font-weight: bold;">Cc:</span></b> Lukas Razik &lt;linux@razik.name&gt;; Roland
 Dreier &lt;roland@purestorage.com&gt; <br> <b><span style="font-weight: bold;">Gesendet:</span></b> 20:10 Mittwoch, 23.November 2011<br> <b><span style="font-weight: bold;">Betreff:</span></b> Re: [OMPI devel] [BUG?] OpenMPI with openib on SPARC64: Signal: Bus error (10)<br> </font> <br><div id="yiv1464920023"><div>I think of -m32 (and -m64) as really selecting a different compiler. &nbsp;My practice is to put those flags in the compiler/linker environment variables. &nbsp;For example:<div><br></div><div><blockquote type="cite"><div><font class="yiv1464920023Apple-style-span" color="#000000"># ./configure &gt;configure.log 2&gt;&amp;1 \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;--prefix=/usr/local/openmpi --with-sge \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;CC="gcc -m32" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp;
 &nbsp;CFLAGS="-g -O3" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;CXX="g++ -m32" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;CXXFLAGS="-g -O3" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;FC="gfortran -m32" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;FCFLAGS="-g -O3" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;F77="gfortran -m32" \</font></div><div><font class="yiv1464920023Apple-style-span" color="#000000">&nbsp; &nbsp;FFLAGS="-g -O3"</font></div></blockquote><div><br></div><div><div> <div style="word-wrap: break-word;"><div><div><div><div><div><div><div><div><div><div>Larry Baker</div><div>US Geological Survey</div><div>650-329-5608</div><div><a rel="nofollow" ymailto="mailto:baker@usgs.gov" target="_blank"
 href="mailto:baker@usgs.gov">baker@usgs.gov</a></div></div></div></div></div></div></div></div></div></div></div> </div><br><div><div>On 23 Nov 2011, at 10:52 AM, TERRY DONTJE wrote:</div><br class="yiv1464920023Apple-interchange-newline"><blockquote type="cite">           <div>    On 11/23/2011 1:45 PM, Lukas Razik wrote:    <blockquote type="cite">      <pre>TERRY DONTJE <a rel="nofollow" class="yiv1464920023moz-txt-link-rfc2396E" ymailto="mailto:terry.dontje@oracle.com" target="_blank" href="mailto:terry.dontje@oracle.com">&lt;terry.dontje@oracle.com&gt;</a> wrote

</pre>      <blockquote type="cite">        <pre>Can you build OMPI as a 32 bit library and see if that works any better?
</pre>      </blockquote>      <pre>So you mean I shall leave the whole OFED stack as 64 bit and build only openmpi as 32 bit?
</pre>    </blockquote>    I believe the OFED user libraries will need to be 32 bit also or the    32 bit MPI libraries will not be able to use them.<br>    <blockquote type="cite">      <pre>How must I configure openmpi that it'll be definitely built as 32bit?
</pre>    </blockquote>    You need to change the CFLAGS, CXXFLAGS, FFLAGS and FCFLAGS in the    configure line such that you replace "-m64" with "-m32" or just    "-m32" if "-m64" is not there?<br>    <blockquote type="cite">      <pre>Regards,
Lukas

</pre>    </blockquote>    <br>    <div class="yiv1464920023moz-signature">-- <br>            <div class="yiv1464920023moz-signature">                <title></title>        <span>&lt;mime-attachment.gif&gt;</span><br>        <div class="yiv1464920023moz-signature">          <div class="yiv1464920023moz-signature">            <div class="yiv1464920023moz-signature">              <div class="yiv1464920023moz-signature">Terry D. Dontje | Principal                Software Engineer<br>                <div class="yiv1464920023moz-signature"><font color="#666666" face="Verdana" size="2">Developer                    Tools                    Engineering | +1.781.442.2631<br>                  </font>                  <font color="#ff0000" face="Verdana" size="2">Oracle                  </font><font color="#666666" face="Verdana" size="2"><b>                      - Performance                      Technologies</b></font><br>                  <font color="#666666"
 face="Verdana" size="2">                    95 Network Drive, Burlington, MA 01803<br>                    Email <a rel="nofollow" ymailto="mailto:terry.dontje@oracle.com" target="_blank" href="mailto:terry.dontje@oracle.com">terry.dontje@oracle.com</a><br>                  </font><br>                </div>              </div>            </div>          </div>        </div>      </div>      <br>      <br>    </div>  </div>  _______________________________________________<br>devel mailing list<br><a rel="nofollow" ymailto="mailto:devel@open-mpi.org" target="_blank" href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></div></div></div><br><br> </div> </div> </blockquote></div>   </div></body></html>
