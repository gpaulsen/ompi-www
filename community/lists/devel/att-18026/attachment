<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">I don’t think Jeff is pulling up the right configure line. I don’t have Solaris compilers on this system, I can’t find anything remotely resembling the configure line he is quoting, etc.<div class=""><br class=""></div><div class="">I wonder if MTT is confused because I am using the “as provided” option for OMPI - i.e., MTT isn’t building OMPI and just uses my “already installed” build?</div><div class=""><br class=""></div><div class="">Or else Jeff is just clicking on the wrong button :-)</div><div class=""><br class=""></div><div class="">Either way, I think this is just a red herring</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Sep 12, 2015, at 8:27 AM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">In case it helps: those "-x..." switches and "%all" syntax are sure signs of the Solaris Studio compilers.<div class=""><br class=""></div><div class=""><div class="">$ suncc -xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5 hello.c</div><div class="">cc: Warning: -xarch=amd64a is deprecated, use -m64 -xarch=sse2a instead</div></div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Sat, Sep 12, 2015 at 8:14 AM, Jeff Squyres (jsquyres) <span dir="ltr" class="">&lt;<a href="mailto:jsquyres@cisco.com" target="_blank" class="">jsquyres@cisco.com</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">FWIW, I have various versions of gcc from 4.4.7 to 5.2 -- I don't have 4.8.3, but I do have 4.8.1, and I can't get it to recognize the -xO5 switch that you're using:<br class="">
<br class="">
-----<br class="">
$ gcc --version<br class="">
gcc (GCC) 4.8.1<br class="">
Copyright (C) 2013 Free Software Foundation, Inc.<br class="">
This is free software; see the source for copying conditions.&nbsp; There is NO<br class="">
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.<br class="">
<br class="">
$ gcc -xO5 hello.c -o hello<br class="">
gcc: error: language O5 not recognized<br class="">
gcc: error: language O5 not recognized<br class="">
-----<br class="">
<div class=""><div class="h5"><br class="">
<br class="">
&gt; On Sep 12, 2015, at 11:09 AM, Jeff Squyres (jsquyres) &lt;<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a>&gt; wrote:<br class="">
&gt;<br class="">
&gt; Sorry; I should have been clear -- the configure line I was specifying was from building Open MPI itself.<br class="">
&gt;<br class="">
&gt; I.e., it's your MTT infrastructure/ini file that is adding those flags.<br class="">
&gt;<br class="">
&gt; The config.log you show below looks like it is for one of the test suites (i.e., it's using the wrappers, which could not have been done for the main OMPI build itself).<br class="">
&gt;<br class="">
&gt;<br class="">
&gt;&gt; On Sep 12, 2015, at 10:59 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class="">
&gt;&gt;<br class="">
&gt;&gt; I searched around, and I can’t for the life of me see where all that cruft is coming from. Any suggestions?<br class="">
&gt;&gt;<br class="">
&gt;&gt; Here is the top of the config.log from that build:<br class="">
&gt;&gt;<br class="">
&gt;&gt; This file contains any messages produced by compilers while<br class="">
&gt;&gt; running configure, to aid debugging if configure makes a mistake.<br class="">
&gt;&gt;<br class="">
&gt;&gt; It was created by ompi-ibm configure 10.0, which was<br class="">
&gt;&gt; generated by GNU Autoconf 2.69.&nbsp; Invocation command line was<br class="">
&gt;&gt;<br class="">
&gt;&gt; $ ./configure CC=mpicc CXX=mpic++ F77=mpif77<br class="">
&gt;&gt;<br class="">
&gt;&gt; ## --------- ##<br class="">
&gt;&gt; ## Platform. ##<br class="">
&gt;&gt; ## --------- ##<br class="">
&gt;&gt;<br class="">
&gt;&gt; hostname = bend001<br class="">
&gt;&gt; uname -m = x86_64<br class="">
&gt;&gt; uname -r = 3.10.0-229.7.2.el7.x86_64<br class="">
&gt;&gt; uname -s = Linux<br class="">
&gt;&gt; uname -v = #1 SMP Tue Jun 23 22:06:11 UTC 2015<br class="">
&gt;&gt;<br class="">
&gt;&gt; Do you want to see the log itself? I’m at a loss as to why it would add that stuff.<br class="">
&gt;&gt;<br class="">
&gt;&gt;<br class="">
&gt;&gt;&gt; On Sep 12, 2015, at 7:38 AM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class="">
&gt;&gt;&gt;<br class="">
&gt;&gt;&gt; Note that I didn’t set any of those flags outside of the CC and friends - they are being set by our MTT test configure itself. The compiler is just gcc 4.8.3, and I suspect O5 is asking a bit from it.<br class="">
&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; On Sep 12, 2015, at 6:08 AM, Jeff Squyres (jsquyres) &lt;<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a>&gt; wrote:<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; I notice that your configure line in the MTT tests is this:<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; CC=cc CXX=CC FC=f90 F77=f77 --with-wrapper-cflags="-xtarget=opteron -xprefetch -xprefetch_level=2<br class="">
&gt;&gt;&gt;&gt; -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5" CFLAGS="-xtarget=opteron<br class="">
&gt;&gt;&gt;&gt; -xprefetch -xprefetch_level=2 -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5"<br class="">
&gt;&gt;&gt;&gt; --with-wrapper-cxxflags="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib<br class="">
&gt;&gt;&gt;&gt; -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5" CXXFLAGS="-xtarget=opteron -xprefetch<br class="">
&gt;&gt;&gt;&gt; -xprefetch_level=2 -xvector=simd,lib -xdepend=yes -xbuiltin=%all -xarch=amd64a -xO5"<br class="">
&gt;&gt;&gt;&gt; --with-wrapper-fflags="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib -stackvar<br class="">
&gt;&gt;&gt;&gt; -xarch=amd64a -xO5" FFLAGS="-xtarget=opteron -xprefetch -xprefetch_level=2 -xvector=simd,lib<br class="">
&gt;&gt;&gt;&gt; -stackvar -xarch=amd64a -xO5" --with-wrapper-fcflags="-xtarget=opteron -xprefetch -xprefetch_level=2<br class="">
&gt;&gt;&gt;&gt; -xvector=simd,lib -stackvar -xarch=amd64a -xO5" FCFLAGS="-xtarget=opteron -xprefetch<br class="">
&gt;&gt;&gt;&gt; -xprefetch_level=2 -xvector=simd,lib -stackvar -xarch=amd64a -xO5"<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; What compiler suite is that?&nbsp; Is -xO5 really safe to use?<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; On Sep 11, 2015, at 8:51 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:<br class="">
&gt;&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; Hi folks<br class="">
&gt;&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; I’ve closed all the holes I can find in the PMIx integration, and things look pretty good overall. There are a handful of failures still being seen - most of them involving what appear to be unrelated code. I’m not entirely sure I understand the source of the errors, and could really use some help to determine (a) if these are in any way related to PMIx, and if so (b) how.<br class="">
&gt;&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; The errors from my MTT run are here:&nbsp; <a href="http://mtt.open-mpi.org/index.php?do_redir=2256" rel="noreferrer" target="_blank" class="">http://mtt.open-mpi.org/index.php?do_redir=2256</a><br class="">
&gt;&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; Any help diagnosing these problems would be greatly appreciated<br class="">
&gt;&gt;&gt;&gt;&gt; Ralph<br class="">
&gt;&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;&gt; _______________________________________________<br class="">
&gt;&gt;&gt;&gt;&gt; devel mailing list<br class="">
&gt;&gt;&gt;&gt;&gt; <a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
&gt;&gt;&gt;&gt;&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
&gt;&gt;&gt;&gt;&gt; Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/18013.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/09/18013.php</a><br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; --<br class="">
&gt;&gt;&gt;&gt; Jeff Squyres<br class="">
&gt;&gt;&gt;&gt; <a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">
&gt;&gt;&gt;&gt; For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/" rel="noreferrer" target="_blank" class="">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br class="">
&gt;&gt;&gt;&gt;<br class="">
&gt;&gt;&gt;&gt; _______________________________________________<br class="">
&gt;&gt;&gt;&gt; devel mailing list<br class="">
&gt;&gt;&gt;&gt; <a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
&gt;&gt;&gt;&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
&gt;&gt;&gt;&gt; Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/18018.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/09/18018.php</a><br class="">
&gt;&gt;&gt;<br class="">
&gt;&gt;<br class="">
&gt;&gt; _______________________________________________<br class="">
&gt;&gt; devel mailing list<br class="">
&gt;&gt; <a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
&gt;&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
&gt;&gt; Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/18020.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/09/18020.php</a><br class="">
&gt;<br class="">
&gt;<br class="">
&gt; --<br class="">
&gt; Jeff Squyres<br class="">
&gt; <a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">
&gt; For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/" rel="noreferrer" target="_blank" class="">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br class="">
&gt;<br class="">
&gt; _______________________________________________<br class="">
&gt; devel mailing list<br class="">
&gt; <a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
&gt; Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
&gt; Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/18021.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/09/18021.php</a><br class="">
<br class="">
<br class="">
--<br class="">
Jeff Squyres<br class="">
<a href="mailto:jsquyres@cisco.com" class="">jsquyres@cisco.com</a><br class="">
For corporate legal information go to: <a href="http://www.cisco.com/web/about/doing_business/legal/cri/" rel="noreferrer" target="_blank" class="">http://www.cisco.com/web/about/doing_business/legal/cri/</a><br class="">
<br class="">
_______________________________________________<br class="">
devel mailing list<br class="">
<a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
</div></div>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/18022.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/09/18022.php</a></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/09/18025.php</div></blockquote></div><br class=""></div></body></html>
