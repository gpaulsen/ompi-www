<div dir="ltr">If there is a size_t vs PRIsize_t mismatch then it is probably a result of less-than-perfect integration in the Clang private headers (stddef.h in particular).<div>I will make a point not to trust Clang for this class of warning in the future.</div><div><br></div><div>What about the sharedfp warnings such as the following:</div><div><br></div><div><div><font face="monospace, monospace">/scratch/phargrov/OMPI/openmpi-v2.x-dev-1410-g81e0924-linux-x86_64-clang-m32/openmpi-gitclone/ompi/mca/sharedfp/lockedfile/sharedfp_lockedfile_seek.c:68:113: warning: format specifies type &#39;long long&#39; but the argument has type &#39;long&#39; [-Wformat]</font></div><div><font face="monospace, monospace">                opal_output(0,&quot;sharedfp_lockedfile_seek - MPI_SEEK_SET, offset must be &gt; 0, got offset=%lld.\n&quot;,offset);</font></div><div><font face="monospace, monospace">                                                                                                       ~~~~     ^~~~~~</font></div><div><br></div></div><div>In that case the &quot;%lld&quot; is 64-bits (long long) but the argument is only 32-bits (long).</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, May 11, 2016 at 9:42 AM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">I took a look at this, and the problem isn’t in the print statements. The problem is that PRIsize_t is being incorrectly set to “unsigned long” instead of something correct for the -m32 directive in that environment<div><br></div><div><br><div><blockquote type="cite"><div><div class="h5"><div>On May 6, 2016, at 9:48 AM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div><br></div></div><div><div><div class="h5"><div dir="ltr">The 96 printf format warnings in the attachment come from an Linux/x86-64 system w/ Clang and &quot;-m32&quot;.<div><br></div><div>Some of the warnings are &quot;size_t&quot; vs &quot;unigned long&quot;, which is harmless since both are 32-bits.</div><div><br></div><div>However, there are several cases in sharedfp/sm where a 64-bit (long long) format has a 32-bit (long) argument.</div><div><br></div><div>-Paul</div><div><br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</div></div>
</div></div><span>&lt;format_warn_m32.txt&gt;</span>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/05/18932.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/05/18932.php</a></div></blockquote></div><br></div></div><br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/05/18970.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/05/18970.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

