<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">Ick - usually tools support some kind of version option. :-(<div><br></div><div>I'll give Nathan a chance to work on this tonight. If we can't resolve the problem, I'll revert the m4 check as well.</div><div><br></div><div><br><div><div>On Nov 14, 2012, at 5:41 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div>On Wed, Nov 14, 2012 at 6:26 PM, Larry Baker&nbsp;<span dir="ltr">&lt;<a href="mailto:baker@usgs.gov" target="_blank">baker@usgs.gov</a>&gt;</span>&nbsp;wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
<div id=":1ze">m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div></blockquote><div><br></div><div>&nbsp;</div></div>There are STILL problems with this approach as it is TWICE specific to GNU software:<div>
<br></div><div>1) M4 on OpenBSD (maybe others) doesn't support a "--version" flag:</div><div><div>$ m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div>
<div>m4: unknown option -- -</div><div>usage: m4 [-gPs] [-Dname[=value]] [-d flags] [-I dirname] [-o filename]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; [-t macro] [-Uname] [file ...]</div></div><div><br></div><div>2) sed on Solaris (maybe others) doesn't support a "-E" flag:</div>
<div><div>$ m4 --version | sed -n -E -e '1s/^.*[^A-Za-z0-9_-]?([0-9]+[.][0-9]+[.][0-9]+)[^A-Za-z0-9_-]?.*$/\1/p'</div><div>/bin/sed: illegal option -- E</div></div><div><br></div><div>-Paul</div><div><div><br></div>
-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div>
<div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font><br>
</div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
