<div dir="ltr">I tried last nights v1.8 tarball (openmpi-v1.8.3-272-g4e4f997.tar.bz2) with the Studio Compilers (v12.3) on a Solaris/x86-64 system.<div>Configure args (other than prefix) were:<blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div>--enable-debug --with-verbs \</div><div>CC=cc CXX=CC FC=f90 \</div><div>CFLAGS=-m64 --with-wrapper-cflags=-m64 \</div><div>FCFLAGS=-m64 --with-wrapper-fcflags=-m64 \</div><div>CXXFLAGS=&#39;-m64 -library=stlport4&#39; --with-wrapper-cxxflags=&#39;-m64 -library=stlport4&#39;</div></blockquote><div>   </div><div>When running ring_c I see the following</div><div><br></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><font face="monospace">$ mpirun -mca btl sm,self,openib -np 2 -host pcp-j-19,pcp-j-20 examples/ring_c&#39;</font></div><div><div><font face="monospace">[pcp-j-20:24250] mca_oob_tcp_accept: accept() failed: Error 0 (0).</font></div></div><div><div><font face="monospace">[pcp-j-20:24250] *** Process received signal ***</font></div></div><div><div><div><font face="monospace">[pcp-j-20:24250] Signal: Segmentation Fault (11)</font></div></div></div><div><div><div><font face="monospace">[pcp-j-20:24250] Signal code: Address not mapped (1)</font></div></div></div><div><div><div><font face="monospace">[pcp-j-20:24250] Failing at address: fffffd7fe45bf227</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;opal_backtrace_print+0x2d [0xfffffd7fe450a91d]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;show_stackframe+0xafd [0xfffffd7fe450066d]</font></div></div></div><div><div><div><font face="monospace">/lib/amd64/libc.so.1&#39;__sighndlr+0x6 [0xfffffd7fff202cc6]</font></div></div></div><div><div><div><font face="monospace">/lib/amd64/libc.so.1&#39;call_user_handler+0x2aa [0xfffffd7fff1f648e]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;opal_hwloc172_hwloc_get_obj_by_depth+0x1d7 [0xfffffd7fe45bf227] [Signal 11 (SEGV)]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;opal_hwloc172_hwloc_get_root_obj+0x24 [0xfffffd7fe4560504]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;opal_hwloc_base_get_nbobjs_by_type+0xec [0xfffffd7fe45653ec]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/openmpi/mca_rmaps_round_robin.so&#39;orte_rmaps_rr_byobj+0x252 [0xfffffd7fe1c9ddd2]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/openmpi/mca_rmaps_round_robin.so&#39;orte_rmaps_rr_map+0x65e [0xfffffd7fe1c912be]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-rte.so.7.0.5&#39;orte_rmaps_base_map_job+0xdce [0xfffffd7fe276aace]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;event_process_ac</font></div></div></div><div><div><div><font face="monospace">tive_single_queue+0x1dc [0xfffffd7fe453afbc]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;event_process_active+0xb1 [0xfffffd7fe453b361]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/lib/libopen-pal.so.6.2.1&#39;opal_libevent2021_event_base_loop+0x339 [0xfffffd7fe453bc79]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/bin/orterun&#39;orterun+0x1d0e [0x4101fe]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/bin/orterun&#39;main+0x20 [0x408ca0]</font></div></div></div><div><div><div><font face="monospace">/shared/OMPI/openmpi-1.8-latest-solaris11-x64-ib-ss12u3-nightly/INST/bin/orterun&#39;0x8b0b [0x408b0b]</font></div></div></div><div><div><div><font face="monospace">[pcp-j-20:24250] *** End of error message ***</font></div></div></div></blockquote><div><div><br></div><div>Dbx gives me</div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><div><font face="monospace">t@1 (l@1) terminated by signal SEGV (no mapping at the fault address)</font></div></div></div><div><div><div><font face="monospace">Current function is opal_hwloc172_hwloc_get_obj_by_depth</font></div></div></div><div><div><div><font face="monospace">   74     return topology-&gt;levels[depth][idx];</font></div></div></div><div><div><div><font face="monospace">(dbx) where</font></div></div></div><div><div><div><font face="monospace">current thread: t@1</font></div></div></div><div><div><div><font face="monospace">=&gt;[1] opal_hwloc172_hwloc_get_obj_by_depth(topology = 0x4d49e0, depth = 0, idx = 0), line 74 in &quot;traversal.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [2] opal_hwloc172_hwloc_get_root_obj(topology = 0x4d49e0), line 118 in &quot;helper.h&quot;</font></div></div></div><div><div><div><font face="monospace">  [3] opal_hwloc_base_get_nbobjs_by_type(topo = 0x4d49e0, target = OPAL_HWLOC172_hwloc_OBJ_CORE, cache_level = 0, rtype = &#39;\003&#39;), line 833 in &quot;hwloc_base_util.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [4] orte_rmaps_rr_byobj(jdata = 0x43c940, app = 0x483fe0, node_list = 0xfffffd7fffdff4b0, num_slots = 2, num_procs = 2U, target = OPAL_HWLOC172_hwloc_OBJ_CORE, cache_level = 0), line 495 in &quot;rmaps_rr_mappers.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [5] orte_rmaps_rr_map(jdata = 0x43c940), line 165 in &quot;rmaps_rr.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [6] orte_rmaps_base_map_job(fd = -1, args = 4, cbdata = 0x4a3300), line 277 in &quot;rmaps_base_map_job.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [7] event_process_active_single_queue(0x0, 0x0, 0x0, 0x0, 0x0, 0x0), at 0xfffffd7fe453afbc </font></div></div></div><div><div><div><font face="monospace">  [8] event_process_active(0x0, 0x0, 0x0, 0x0, 0x0, 0x0), at 0xfffffd7fe453b361 </font></div></div></div><div><div><div><font face="monospace">  [9] opal_libevent2021_event_base_loop(0x0, 0x0, 0x0, 0x0, 0x0, 0x0), at 0xfffffd7fe453bc79 </font></div></div></div><div><div><div><font face="monospace">  [10] orterun(argc = 9, argv = 0xfffffd7fffdffa58), line 1081 in &quot;orterun.c&quot;</font></div></div></div><div><div><div><font face="monospace">  [11] main(argc = 9, argv = 0xfffffd7fffdffa58), line 13 in &quot;main.c&quot;</font></div></div></div><div><div><div><font face="monospace">(dbx) print depth</font></div></div></div><div><div><div><font face="monospace">depth = 0</font></div></div></div><div><div><div><font face="monospace">(dbx) print index</font></div></div></div><div><div><div><font face="monospace">index = 0xfffffd7fff19c174</font></div></div></div></blockquote><div><div><br></div><div>Pretty sure that index value is bogus.</div><div><br></div><div>-Paul</div><div><br></div><div><br></div><div><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div></div></div>

