<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Hi Vish<div class=""><br class=""></div><div class="">We talked about this on today’s telecon and people are generally supportive of the concept. However, the feeling was that this will take some thought and fair amount of work to modify mpool and the allocators properly to do this the “right way”.</div><div class=""><br class=""></div><div class="">So people asked if you could come to the Jan devel meeting in Dallas where we could hammer out the right way to integrate this, and maybe parcel out the work?</div><div class=""><br class=""></div><div class="">The meeting is detailed here:</div><div class=""><br class=""></div><div class=""><a href="https://github.com/open-mpi/ompi/wiki" class="">https://github.com/open-mpi/ompi/wiki</a></div><div class=""><br class=""></div><div class="">Hope you can come! Hope the wedding went well!</div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Nov 18, 2014, at 4:38 PM, Vishwanath Venkatesan &lt;<a href="mailto:vvenkates@gmail.com" class="">vvenkates@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class=""><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class="">Hello all,</div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><br class=""></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">I have been working on an implementation for supporting the use of MPI_Alloc_mem with our&nbsp;</span><span style="line-height:1.5" class="">new allocator library called memkind (</span><a href="https://github.com/memkind/" style="line-height:1.5" class="">https://github.com/memkind/</a><span style="line-height:1.5" class="">). The memkind library allows to allocate from&nbsp;</span><span style="line-height:1.5" class="">different kinds of memory where,&nbsp;</span><span style="font-size:16.3636360168457px;line-height:21.8181819915772px" class="">kinds implemented within the library enable the control of NUMA and page size features.&nbsp; This could be leveraged conveniently with MPI_Alloc_mem.&nbsp;</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="font-size:16.3636360168457px;line-height:21.8181819915772px" class=""></span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class=""><br class=""></span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">I was hoping to trigger the use of the memkind component by using either an info object or an mca parameter (mpirun -np x --mca mpool memkind ).</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="font-size:16.3636360168457px;line-height:21.8181819915772px" class="">The modules of the mpool framework are loaded from components in the btl framework and not in the base of mpool. But in the case of my implementation, the component can remain independent from the btl framework. Is there a way to introduce priority for mpool component selection?&nbsp;</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="font-size:16.3636360168457px;line-height:21.8181819915772px" class=""><br class=""></span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">Also, with the use of info objects in mpool_base_alloc.c,</span><span style="line-height:1.5" class="">&nbsp;i</span><span style="line-height:1.5" class="">t looks like the same code path is taken irrespective of whether the info is null or not, as the branch conditions seem to be commented out. Could this be un-commented or will there be a different patch for this?</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class=""><br class=""></span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">Please let me know,</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">Thanks,</span></div><div style="font-family: 'Helvetica Neue', Helvetica, sans-serif; font-size: 16.3636360168457px; line-height: 20.3636360168457px;" class=""><span style="line-height:1.5" class="">Vish</span></div></div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2014/11/16320.php</div></blockquote></div><br class=""></div></body></html>
