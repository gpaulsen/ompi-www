<html><head><base href="x-msg://34/"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; ">If you srun a job, then there is no "mpirun" to provide a proc_table. So running a &nbsp;job directly via srun means you cannot run TV on it.<div><div><br></div><div><br><div><div>On Feb 10, 2011, at 8:34 AM, Nikolay Piskun wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><span class="Apple-style-span" style="border-collapse: separate; font-family: Helvetica; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium; "><div lang="EN-US" link="blue" vlink="purple"><div class="WordSection1" style="page: WordSection1; "><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">&nbsp; &nbsp;Hi,<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">I am trying to use Totalview with srun and hit interesting problem. Looks like if OMPI is started by “srun &nbsp;&nbsp;–mpi=ompi ”, mpi job is hang in ompi_wait_for_debugger() subroutine. What happen, I think is ompi was compiled without ORTE_DISABLE_FULL_SUPPORT and as result rank 0 is waiting for message from HNP (by the way what is HNP?)&nbsp; that was supposed to be send by orterun. The problem is that orterun was never invoked because MPI was initiated by srun, not orterun. &nbsp;So what is the solution? Should we always compile OMPI with &nbsp;ORTE_DISABLE_FULL_SUPPORT=true for anything that uses different starters like srun from SLURM?<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Thanks<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; ">Nikolay<o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><span lang="FR" style="font-family: 'Arial Narrow', sans-serif; color: rgb(0, 61, 107); ">Nikolay Piskun</span></b><b><span lang="FR" style="font-size: 9pt; font-family: 'Arial Narrow', sans-serif; color: rgb(0, 102, 153); "><span class="Apple-converted-space">&nbsp;</span></span></b><span lang="FR" style="font-size: 9pt; font-family: 'Arial Narrow', sans-serif; color: rgb(102, 102, 102); ">|<b><span class="Apple-converted-space">&nbsp;</span></b>Director of Continuing Engineering | Totalview Technologies |<o:p></o:p></span></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><b><span style="font-family: 'Arial Narrow', sans-serif; color: rgb(0, 102, 153); ">Rogue Wave Software Inc&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></b><span style="font-size: 9pt; font-family: 'Arial Narrow', sans-serif; color: rgb(102, 102, 102); ">| &nbsp;</span><span lang="FR" style="font-size: 8pt; font-family: 'Arial Narrow', sans-serif; color: rgb(102, 102, 102); ">24 Prime Parkway, Natick, MA 01760 | p 508-652-7739|</span><span lang="FR"></span><o:p></o:p></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><a href="mailto:nikolay@totalviewtech.com" style="color: blue; text-decoration: underline; ">nikolay.piskun@roguewave.com</a><span lang="FR" style="font-size: 8pt; font-family: 'Arial Narrow', sans-serif; color: rgb(102, 102, 102); "><o:p></o:p></span></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><span style="font-size: 10pt; font-family: 'Courier New'; color: black; "><a href="http://www.roguewave.com" style="color: blue; text-decoration: underline; ">www.roguewave.com</a><o:p></o:p></span></div><div style="margin-top: 0in; margin-right: 0in; margin-bottom: 0.0001pt; margin-left: 0in; font-size: 11pt; font-family: Calibri, sans-serif; "><o:p>&nbsp;</o:p></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" style="color: blue; text-decoration: underline; ">devel@open-mpi.org</a><br><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: blue; text-decoration: underline; ">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a></div></span></blockquote></div><br></div></div></body></html>
