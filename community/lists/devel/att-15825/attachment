<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">Try adding --hetero-nodes to your mpirun cmd line<div><br><div><div>On Sep 14, 2014, at 8:25 AM, Alina Sklarevich &lt;<a href="mailto:alinas@dev.mellanox.co.il">alinas@dev.mellanox.co.il</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr"><p class="MsoNormal"><span style="color:rgb(31,73,125)">Hello,</span></p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="color:rgb(31,73,125)">I am using
ompi-v1.8 and have come across the following error:</span></p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal">--------------------------------------------------------------------------</p><p class="MsoNormal">Open MPI tried to bind a new process, but something went
wrong.&nbsp; The</p><p class="MsoNormal">process was killed without launching the target
application.&nbsp; Your job</p><p class="MsoNormal">will now abort.</p><div>&nbsp;<br class="webkit-block-placeholder"></div><p class="MsoNormal">&nbsp; Local host:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vegas17</p><p class="MsoNormal">&nbsp; Application
name:&nbsp; trivial/test_get__trivial/c_hello</p><p class="MsoNormal">&nbsp; Error message:&nbsp;&nbsp;&nbsp;&nbsp; hwloc_set_cpubind returned
"Error" for bitmap "0,16"</p><p class="MsoNormal">&nbsp; Location:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; odls_default_module.c:551</p><p class="MsoNormal">--------------------------------------------------------------------------</p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="color:rgb(31,73,125)">This happens
when running a simple trivial test with the following command line:</span></p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal">mpirun --map-by node --bind-to core -display-map -np 2 -mca
pml ob1 …/trivial/test_get__trivial/c_hello</p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="color:rgb(31,73,125)">What seems
to eliminate this error is changing the binding policy from core to none (--bind-to
none).</span></p><p class="MsoNormal"><span style="color:rgb(31,73,125)">The only nodes
which are issuing this error are always the nodes which have GPUs in them. </span></p><p class="MsoNormal"><span style="color:rgb(31,73,125)">When running the same command line on other non-GPU nodes, there is no error.</span></p><p class="MsoNormal"><span style="color:rgb(31,73,125)">I’m using
Slurm to allocate the nodes.</span></p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="color:rgb(31,73,125)">Has anyone
seen this issue or knows what’s wrong here?</span></p><div><span style="color:rgb(31,73,125)">&nbsp;</span><br class="webkit-block-placeholder"></div><p class="MsoNormal"><span style="color:rgb(31,73,125)">Thanks,</span></p><p class="MsoNormal"><span style="color:rgb(31,73,125)">Alina.</span></p></div>
_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br>Link to this post: http://www.open-mpi.org/community/lists/devel/2014/09/15824.php</blockquote></div><br></div></body></html>
