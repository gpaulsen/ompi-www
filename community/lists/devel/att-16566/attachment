<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">All right - I’ll surrender and remove the timeout. Will release rc4 later tonight.<div class=""><br class=""></div><div class="">Sorry for putting you thru this Paul - for some reason, these problems aren’t showing up elsewhere.</div><div class=""><br class=""></div><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Dec 12, 2014, at 3:37 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><div class="gmail_extra"><br class="Apple-interchange-newline"><br class=""><div class="gmail_quote">On Fri, Dec 12, 2014 at 2:58 PM, Ralph Castain<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div style="word-wrap: break-word;" class="">Aha! You are the first to fall thru the timeout. How interesting.</div></blockquote><div class=""><br class=""></div><div class="">When it comes to the release candidates, I seem to own a lot of "firsts".</div><div class="">It is not as fun as one might imagine :-).</div><div class=""><br class=""></div><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div style="word-wrap: break-word;" class=""><div class="">Can you please try adding “-mca&nbsp;<span style="background-color: rgb(254, 244, 156);" class=""><font face="Menlo" class=""><span style="font-size: 11px;" class="">oob_tcp_connect_timeout 5:0”?</span></font></span></div></div></blockquote><div class=""><br class=""></div><div class=""><div class="">That appeared to produce a timeout of about 5 SECONDS ("time mpirun" reports 5.8s elapsed).&nbsp; Was that really the intent? &nbsp; No difference if I change "5:0" to "5:00".&nbsp; So, you might have an "extra" bug lurking there.</div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">New stderr attached for</div><div class=""><font face="monospace" class="">&nbsp; $&nbsp;mpirun -mca oob_tcp_if_include bge0 -mca oob_tcp_connect_timeout 5:0 -mca oob_base_verbose 20 -mca btl sm,self,openib -np 2 -host pcp-j-19,pcp-j-20 examples/ring_c</font></div><div class=""><br class=""></div><div class="">Assuming "5:0" was intended to get a 5 MINUTE timeout, I also tried "-mca oob_tcp_connect_timeout<span class="Apple-converted-space">&nbsp;</span><span style="background-color: rgb(255, 255, 0);" class="">300</span>", and have also attached the resulting stderr.</div><div class=""><br class=""></div><div class=""><div class="">No joy for either timeout value.</div></div><div class=""><br class=""></div><div class="">-Paul</div><div class=""><br class=""></div><div class="">&nbsp;</div><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div style="word-wrap: break-word;" class=""><div class=""><br class=""></div><div class=""><div class=""><div class="h5">On Dec 12, 2014, at 8:53 AM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt; wrote:</div></div><div class=""><blockquote type="cite" class=""><br class=""><div class=""><div class=""><div class="h5"><div dir="ltr" class=""><div class=""><br class=""></div><div class="">First, I want to ask what became of the issue discussed in this thread?</div><div class="">&nbsp; &nbsp;<a href="http://www.open-mpi.org/community/lists/devel/2014/11/16160.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16160.php</a></div><div class="">I though we had concluded that one just needed -D_REENTRANT.</div><div class="">I mention that only for completeness, because I think my current problem is different.</div><div class=""><br class=""></div><div class="">The following works fine with 1.8.3, making the current behavior a regression.</div><div class=""><br class=""></div><div class="">I am still on the same system as that previous report, and still/again see a message like the following:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div><div class=""><font face="monospace" class="">A process or daemon was unable to complete a TCP connection</font></div><div class=""><font face="monospace" class="">to another process:</font></div><div class=""><font face="monospace" class="">&nbsp; Local host: &nbsp; &nbsp;pcp-j-19</font></div><div class=""><font face="monospace" class="">&nbsp; Remote host: &nbsp; 172.18.0.120</font></div><div class=""><font face="monospace" class="">This is usually caused by a firewall on the remote host. Please</font></div><div class=""><font face="monospace" class="">check that any firewall (e.g., iptables) has been disabled and</font></div><div class=""><font face="monospace" class="">try again.</font></div><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div></div><div class=""><div class=""><font face="monospace" class="">--------------------------------------------------------------------------</font></div><div class=""><font face="monospace" class="">ORTE was unable to reliably start one or more daemons.</font></div><div class=""><font face="monospace" class="">This usually is caused by:</font></div></div><div class=""><font face="monospace" class="">[...etc...]</font></div><div class=""><br class=""></div><div class="">It may be worth noting that the hostname pcp-j-19 (172.16.0.119) and the address 172.18.0.120 are on different subnets.</div><div class=""><br class=""></div><div class="">I CANNOT resolve the issue this time by adding -D_REENTRANT to CFLAGS at configure time (I didn't bother to check if it there by default now or not).<br class=""></div><div class=""><br class=""></div><div class="">NOR can I resolve it by using "-mca oob_tcp_if_include bge0" to allow only the 172.16.0.120 subnet.</div><div class="">IN FACT, the message is the same with that option, other than "172.18" changing to "172.16".</div><div class=""><br class=""></div><div class="">I've attached the output generated by "-mca&nbsp;oob_base_verbose 20" both with and without the oob_tcp_if_include.</div><div class=""><br class=""></div><div class="">I should also note that that the following is my full mpirun command, which excludes the tcp BTL.</div><div class=""><font face="monospace" class="">pcp-j-20$&nbsp;mpirun -mca oob_tcp_if_include bge0 -mca oob_base_verbose 20 -mca btl sm,self,openib -np 2 -host pcp-j-19,pcp-j-20 examples/ring_c</font></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">-Paul<br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div></div></div></div></div><span class="">&lt;stdout-inc.txt&gt;</span><span class="">&lt;stderr-2if.txt&gt;</span>_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/12/16551.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/12/16551.php</a></div></blockquote></div><br class=""></div></div><br class="">_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/12/16561.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/12/16561.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div></div></div><span id="cid:2704789E-64E5-43F7-99CE-2A9718B98E95">&lt;stderr-inc-5_0.txt&gt;</span><span id="cid:6C8DFD6B-850E-42FC-94DF-6A6F375282D7">&lt;stderr-inc-300.txt&gt;</span><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">_______________________________________________</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">devel mailing list</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><a href="mailto:devel@open-mpi.org" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">devel@open-mpi.org</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Subscription:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/community/lists/devel/2014/12/16565.php" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/community/lists/devel/2014/12/16565.php</a></div></blockquote></div><br class=""></div></body></html>
