<div dir="ltr">Abhishek,<div><br></div><div>That frequency variable doesn&#39;t need to be the CPU frequency.</div><div><br></div><div>If you look at opal/mca/timer/linux/timer_linux_component.c:opal_timer_linux_find_freq() you will see the initialization for opal_timer_linux_freq.</div><div>In the case of PPC the time stamp counter runs at a frequency, distinct from that of the CPU, known as the timebase.</div><div>The code checks for that setting in /proc/cpuinfo before looking for the cpu frequency (also in /proc/cpuinfo).</div><div>Of course, something like sysctl() or ioctl() might be needed on some platforms to find the same information.</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, May 20, 2016 at 2:25 AM, Abhishek Joshi <span dir="ltr">&lt;<a href="mailto:abhishek.joshi@broadcom.com" target="_blank">abhishek.joshi@broadcom.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi,<div><br><div>In amd64, we have rdtsc instruction which uses a timer updated at cpu frequency.  The frequency is given by variable, opal_timer_linux_freq <font color="#333333" face="Arial, sans-serif"><span style="font-size:14px;line-height:20px">which is the cpu frequency.</span></font></div><div><br></div><div>Consider the case where a timer updated at non-cpu frequency is to be used.</div><div><br></div><div>Question: In this case, how do we specify the frequency of the timer? </div><span class="HOEnZb"><font color="#888888"><div><br></div><div><br></div><div>-- </div><div><div><div dir="ltr">Abhishek</div></div>
</div></font></span></div></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/05/19006.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/05/19006.php</a><br></blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

