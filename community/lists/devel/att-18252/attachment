<div dir="ltr"><div><div dir="ltr"><div>Hi Adrian and Gilles,</div><div><br></div><div><font color="#222222">first of all thank you for your responses. I&#39;m working with Gianmario on this ambitious project.</font></div></div></div><div class="gmail_extra">
<br><div class="gmail_quote">2015-10-22 13:17 GMT+02:00 Gilles Gouaillardet <span dir="ltr">&lt;<a href="mailto:gilles.gouaillardet@gmail.com" target="_blank">gilles.gouaillardet@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">Gianmario,<div><br></div><div>there was c/r support in the v1.6 series but it has been removed.</div><div>the current trend is to do application level checkpointing</div><div>(much more efficient and much smaller checkpoint file size)</div><div><br></div><div>iirc, ompi took care of closing/restoring all communication, and a third party checkpoint was required to checkpoint/restart *standalone* processes.</div><div><br></div><div>generally speaking, mpirun and orted communicate via tcp</div><div>orted and MPI (intra node comms) currently use tcp but we are moving to unix sockets</div><div>MPI tasks communicate via btl (infiniband, tcp, shared memory, ...)</div><div><br></div></blockquote><div><br></div><div><div>We have also seen that orted opens 2 pipe to each child, is it correct? Does orted use them to communicate with children?  </div><div><br></div><span class="im" style="font-size:11.1999998092651px"></span></div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div></div><div>imho, moving only one MPI task to an other node is much harder, not to say impossible, than moving orted and its children MPI tasks to an other node</div><div><br></div></blockquote><div><br></div><div><div>Mmm, I can ask you why? I mean, if we migrate the entire orted we need to close/reopen <i>mpirun-orted</i> and <i>task-task</i> (btl) sockets, and if we migrate the single task we need to close/reopen <i>orte-task</i> and <i>task-task </i>sockets. In both cases we have to broadcast the information of &quot;changing location&quot; of the task or orted.</div><div><br></div><span class="im" style="font-size:11.1999998092651px"></span></div><div> </div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div></div><div>Cheers,</div><div><br></div><div>Gilles<div><div class="h5"><br><br>On Thursday, October 22, 2015, Gianmario Pozzi &lt;<a href="mailto:pozzigmario@gmail.com" target="_blank">pozzigmario@gmail.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr">Hi everyone!<div><br></div><div>My team and I are working on the possibility to checkpoint a process and restarting it on another node. We are using CRIU framework for the checkpoint/restart part, but we are facing some issues related to migration.</div><div><br></div><div>First of all: we found out that some attempts to C/R an OMPI process have been already made in the past. Is anything related to that still supported/available/working?</div><div><br></div><div>Then, we need to know which network communications are used at any time, in order to &quot;pause&quot; them during migrations (at least the ones involving the migrating node). Our code analysis makes us think that:</div><div>-OpenMPI runtime (HNP&lt;-&gt;orteds) uses orte/OOB</div><div>-Running applications exchange data via ompi/BTL</div><div><br></div><div>Is that correct? If not, can someone give us a hint?</div><div><br></div><div>Questions on how to update topology info may be yet to come.</div><div><br></div><div>Thank you guys!</div><div><br></div><div>Gianmario</div></div>
</blockquote></div></div></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/10/18242.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/10/18242.php</a><br></blockquote></div><br></div><div class="gmail_extra"><br></div><div class="gmail_extra">Cheers,<br class="">Federico<br clear="all"><div><div class="gmail_signature"><div dir="ltr"><div dir="ltr"><div>__</div>Federico Reghenzani<div><font size="1">M.Eng. Student @ Politecnico di Milano</font></div><div><span style="font-size:x-small">Computer Science and Engineering</span></div><div><span style="font-size:x-small"><br></span></div></div></div></div></div></div></div>

