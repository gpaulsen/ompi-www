<div dir="ltr">NEVERMIND.<div><br></div><div>I have determined that there was a configuration change between my testing of 1.10.3rc4 and 2.0.0rc3.</div><div>Specifically TMPDIR=$XDG_RUNTIME_DIR currently, but did not just a couple of weeks ago.</div><div>Unsetting TMPDIR allows btl:sm to run as it did before.</div><div><br></div><div>-Paul</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Fri, Jun 17, 2016 at 8:00 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">I am testing the 2.0.0rc3 tarball PLUS the patch from PR1232 to fix the dependence on 64-bit atomics.<div>On an ARM system with only 256MB of memory, I am seeing the following failure which did NOT occur in my testing of 1.10.3rc4.<div><div><br></div><div><br></div><div><div><font face="monospace, monospace">$ mpirun -mca btl sm,self -np 2 examples/ring_c&#39;</font></div><div><font face="monospace, monospace">[armel-jessie:03953] create_and_attach: unable to create shared memory BTL coordinating structure :: size 134217728</font></div><div><font face="monospace, monospace">--------------------------------------------------------------------------</font></div><div><font face="monospace, monospace">It appears as if there is not enough space for /run/user/19214/openmpi-sessions-19214@armel-jessie_0/34799/1/shared_mem_pool.armel-jessie (the shared-memory backing</font></div><div><font face="monospace, monospace">file). It is likely that your MPI job will now either abort or experience</font></div><div><font face="monospace, monospace">performance degradation.</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">  Local host:  armel-jessie</font></div><div><font face="monospace, monospace">  Space Requested: 134217736 B</font></div><div><font face="monospace, monospace">  Space Available: 25968640 B</font></div><div><font face="monospace, monospace">--------------------------------------------------------------------------</font></div></div><div><font face="monospace, monospace">[...]</font></div><div><font face="monospace, monospace">Your MPI job is now going to abort; sorry.<br></font></div><div><font face="monospace, monospace">[...]</font></div><div><br></div><div><div>I already determined that changing &quot;-mca btl sm,self&quot; to &quot;-mca btl tcp,self&quot; works, but would rather not go that route if &quot;sm&quot; can be preserved.<br></div><div>So, if there are other MCA parameters I could/should be setting to avoid this please let me know.</div></div><div><br></div><div>If this system is now &quot;officially too small&quot; to run btl:sm, then I will just have to accept that.</div><div>However, I wanted to bring this to the attention of the devel list in case this change in behavior relative to v1.10 was *not* expected behavior.</div><div><br></div><div>BTW: The awkward line break between &quot;backing&quot; and &quot;file&quot; is in the original output (not an artifact of my email).</div><div><br></div><div>-Paul [who still remembers owning an i486 with a 40MB hard drive]</div><span class="HOEnZb"><font color="#888888"><div><br></div>-- <br><div data-smartmail="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div></div></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature" data-smartmail="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

