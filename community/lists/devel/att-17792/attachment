<div dir="ltr">Oops!  I spoke too soon.<div><br></div><div>The configuration with &quot;--with-libfabric=[path] --enable-static --disable-shared&quot; is still causing problems.</div><div>Previously (<a href="http://www.open-mpi.org/community/lists/devel/2015/08/17752.php">http://www.open-mpi.org/community/lists/devel/2015/08/17752.php</a>) I was seeing a failure to link otfmerge-mpi during the build of Open MPI.</div><div>Now I am instead seeing the (essentially identical) linker errors when compiling the examples:</div><div><br></div><div><div><font face="monospace, monospace" size="1">$ mpicc -g    hello_c.c   -o hello_c</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `fi_allocinfo&#39;:/usr/common/ftg/libfabric/1.1.0/include/rdma/fabric.h:366: undefined reference to `fi_dupinfo&#39;/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `ompi_mtl_ofi_component_init&#39;:</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:260: undefined reference to `fi_getinfo&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:267: undefined reference to `fi_strerror&#39;/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:291: undefined reference to `fi_fabric&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:295: undefined reference to `fi_strerror&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:311: undefined reference to `fi_strerror&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:329: undefined reference to `fi_strerror&#39;/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:350: undefined reference to `fi_strerror&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:363: undefined reference to `fi_strerror&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_compone</font></div><div><font face="monospace, monospace" size="1">nt.o):/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/</font></div><div><font face="monospace, monospace" size="1">mtl/ofi/mtl_ofi_component.c:376: more undefined references to `fi_strerror&#39; follow</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `ompi_mtl_ofi_component_init&#39;:</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:407: undefined reference to `fi_freeinfo&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:409: undefined reference to `fi_freeinfo&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:418: undefined reference to `fi_strerror&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:457: undefined reference to `fi_freeinfo&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:460: undefined reference to `fi_freeinfo&#39;</font></div><div><font face="monospace, monospace" size="1">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi.o): In function `ompi_mtl_ofi_del_procs&#39;:</font></div></div><div><font face="monospace, monospace" size="1">[and many more]</font></div><div><br></div><div>Since this is certainly not my first rodeo, I&#39;ll jump right to the --show output:</div><div><br></div><div><div><font face="monospace, monospace" size="1">$ mpicc --show -g hello_c.c -o hello_c&#39;</font></div><div><font face="monospace, monospace" size="1">gcc -g hello_c.c -o hello_c -I/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/include -pthread -L/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -L/usr/common/ftg/ptl4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/common/ftg/ptl4/lib -Wl,-rpath -Wl,/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib -Wl,--enable-new-dtags -L/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib -lmpi -lopen-rte -lopen-pal -lm -ldl -lrt -ltorque -libverbs -lportals -lrdmacm -lutil</font></div></div><div><br></div><div>I can send config.log and configure output off-list to whomever asks.</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Sat, Aug 22, 2015 at 3:59 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">At this point I can confirm that all of my configurations that experienced failures with rc3 have passed with rc4.<div>I will report again after all tests have completed (likely on Sunday).</div><div><br></div><div>-Paul</div></div><div class="gmail_extra"><div><div class="h5"><br><div class="gmail_quote">On Sat, Aug 22, 2015 at 1:46 PM, Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Final release candidate for v1.10.0:<br>
<br>
<a href="http://www.open-mpi.org/software/ompi/v1.10/" rel="noreferrer" target="_blank">http://www.open-mpi.org/software/ompi/v1.10/</a><br>
<br>
Please let me know immediately if you see a problem - scheduled for release after the Tues telecon<br>
<br>
Ralph<br>
<br>
_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/08/17790.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/08/17790.php</a><br>
</blockquote></div><br><br clear="all"><div><br></div></div></div><span class="HOEnZb"><font color="#888888">-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div>

