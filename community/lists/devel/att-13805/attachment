<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">ouch - will fix. Thanks Paul!<div><br><div><div>On Jan 17, 2014, at 6:38 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">I just noticed that I get unknown compiler family in all my builds:<div><div><font face="courier new, monospace"><br></font></div><div><font face="courier new, monospace">checking for compiler familyid... 0</font></div>
<div><font face="courier new, monospace">checking for compiler familyname... UNKNOWN</font></div></div><div><br></div><div><div>The following in config.log shows why:</div><div><br></div><div><div><font face="courier new, monospace">configure:27774: checking for compiler familyid</font></div>
<div><font face="courier new, monospace">configure:27804: xlc -o conftest -q64 -g -I/home/hargrove/SCRATCH/OMPI/openmpi-1.7-latest-linux-ppc64-xlc-12.1/openmpi-1.7.4rc2r30303/ompi/include &nbsp; conftest.c &nbsp;&gt;&amp;5</font></div>
<div><font face="courier new, monospace">"conftest.c", line 190.10: 1506-296 (S) #include file "mpi_portable_platform.h" not found.</font></div><div><font face="courier new, monospace">"conftest.c", line 197.23: 1506-045 (S) Undeclared identifier PLATFORM_COMPILER_FAMILYID.</font></div>
<div><font face="courier new, monospace">configure:27804: $? = 1</font></div><div><font face="courier new, monospace">configure: program exited with status 1</font></div></div><div><br></div><div>Meanwhile:</div><div><br>
</div><div><div><font face="courier new, monospace">$ tar tvfj openmpi-1.7.4rc2r30303.tar.bz2 | grep portable_platform</font></div><div><font face="courier new, monospace">-rw-r--r-- mpiteam/projects &nbsp; 16055 2014-01-17 02:33 openmpi-1.7.4rc2r30303/opal/include/opal/opal_portable_platform.h</font></div>
</div><div><br></div><div><br></div><div>So, it appears the probe for compiler family didn't keep up with the change in name and location of the portable_platform header (r29618).</div><div><br></div><div>Inspection of my tests on both v1.7 and trunk seems to show the same issue in both.</div>
<div><br></div><div>The attached patch is an untested shot at fixing the problem.</div><div><br></div><div>-Paul</div><div><br></div><div><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department &nbsp; &nbsp; Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font>
</div></div></div>
<span>&lt;family-probe.patch&gt;</span>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
