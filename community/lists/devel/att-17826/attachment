<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">So you think this will resolve the problem:<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/ompi/debuggers/Makefile.am b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 93a3046..069c3e6 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/ompi/debuggers/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(37, 178, 191); background-color: rgb(254, 244, 156);" class="">@@ -44,14 +44,14 @@<span style="font-variant-ligatures: no-common-ligatures; color: #000000" class=""> headers = \</span></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;# Simple checks to ensure that the DSOs are functional</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_SOURCES = dlopen_test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-dlopen_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+dlopen_test_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;dlopen_test_DEPENDENCIES = $(ompi_predefined_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_SOURCES = predefined_gap_test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-predefined_gap_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+predefined_gap_test_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_LDADD = $(top_builddir)/ompi/libmpi.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;predefined_gap_test_DEPENDENCIES = $(ompi_predefined_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/test/datatype/Makefile.am b/test/datatype/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 7683c34..7c14ec7 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/test/datatype/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/test/datatype/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><span style="font-variant-ligatures: no-common-ligatures; color: #25b2bf" class="">@@ -21,46 +21,46 @@</span> TESTS = opal_datatype_test $(MPI_TESTS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;check_PROGRAMS = $(TESTS) $(MPI_CHECKS)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_test_SOURCES = ddt_test.c ddt_lib.c ddt_lib.h</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-ddt_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+ddt_test_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_raw_SOURCES = ddt_raw.c ddt_lib.c ddt_lib.h</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-ddt_raw_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+ddt_raw_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_raw_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_pack_SOURCES = ddt_pack.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-ddt_pack_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+ddt_pack_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;ddt_pack_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;checksum_SOURCES = checksum.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-checksum_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+checksum_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;checksum_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;position_SOURCES = position.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-position_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+position_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;position_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;position_noncontig_SOURCES = position_noncontig.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-position_noncontig_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+position_noncontig_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;position_noncontig_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/ompi/libmpi.la \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;to_self_SOURCES = to_self.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-to_self_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+to_self_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;to_self_LDADD = $(top_builddir)/ompi/libmpi.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;opal_datatype_test_SOURCES = opal_datatype_test.c opal_ddt_lib.c opal_ddt_lib.h</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-opal_datatype_test_LDFLAGS = $(OMPI_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+opal_datatype_test_LDFLAGS = $(OMPI_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;opal_datatype_test_LDADD = $(top_builddir)/opal/libopen-pal.la</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">diff --git a/test/event/Makefile.am b/test/event/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">index 168d6bf..a133f2f 100644</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">--- a/test/event/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><b class="">+++ b/test/event/Makefile.am</b></div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class=""><span style="font-variant-ligatures: no-common-ligatures; color: #25b2bf" class="">@@ -27,19 +27,19 @@</span> check_PROGRAMS = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;TESTS = $(check_PROGRAMS)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;signal_test_SOURCES = signal-test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-signal_test_LDFLAGS = $(OPAL_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+signal_test_LDFLAGS = $(OPAL_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;signal_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;signal_test_DEPENDENCIES = $(signal_test_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;time_test_SOURCES = time-test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-time_test_LDFLAGS = $(OPAL_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+time_test_LDFLAGS = $(OPAL_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;time_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;time_test_DEPENDENCIES = $(time_test_LDADD)</div><p style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156); min-height: 13px;" class="">&nbsp;<br class="webkit-block-placeholder"></p><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;event_test_SOURCES = event-test.c</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(188, 50, 28); background-color: rgb(254, 244, 156);" class="">-event_test_LDFLAGS = $(OPAL_WRAPPER_EXTRA_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; color: rgb(39, 180, 28); background-color: rgb(254, 244, 156);" class="">+event_test_LDFLAGS = $(OPAL_PKG_CONFIG_LDFLAGS)</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;event_test_LDADD = \</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $(top_builddir)/opal/libopen-pal.la</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;event_test_DEPENDENCIES = $(event_test_LDADD)</div><div class=""><br class=""></div><div class=""><br class=""></div><div><blockquote type="cite" class=""><div class="">On Aug 24, 2015, at 11:04 AM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class=""><div class=""><br class=""></div><div class="">This is from testing the Studio compilers on a Solaris-11.1/amd64 platform, in a configuration that passed my testing of rc5.</div><div class="">I have configured with</div><blockquote style="margin:0 0 0 40px;border:none;padding:0px" class=""><div class=""><font size="1" face="monospace, monospace" class="">--prefix=[...] --enable-debug CC=cc CXX=CC FC=f90 --with-verbs \</font></div><div class=""><font size="1" face="monospace, monospace" class="">CXXFLAGS='-library=stlport4' --with-wrapper-cxxflags='-library=stlport4'</font></div></blockquote><div class=""><br class=""></div><div class="">Note that there is nothing but TCP and Verbs on this platform.</div><div class="">This is not yet another problem with mx or ofi.</div><div class=""><br class=""></div><div class="">My "make check" step fails as shown below, apparently choking on the $(OMPI_WRAPPER_EXTRA_LDFLAGS) that Ralph had to add to resolve the problems I saw in rc5:<br class=""></div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" class="">gmake[3]: Entering directory `/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/BLD/ompi/debuggers'</font></div><div class=""><font face="monospace, monospace" class="">source='/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/ompi/debuggers/predefined_gap_test.c' object='predefined_gap_test.o' libtool=no \</font></div><div class=""><font face="monospace, monospace" class="">&nbsp; &nbsp; &nbsp; &nbsp; DEPDIR=.deps depmode=none /bin/sh /shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/config/depcomp \</font></div><div class=""><font face="monospace, monospace" class="">&nbsp; &nbsp; &nbsp; &nbsp; cc -DHAVE_CONFIG_H -I. -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/ompi/debuggers -I../../opal/include -I../../orte/include -I../../ompi/include -I../../oshmem/include -I../../opal/mca/hwloc/hwloc191/hwloc/include/private/autogen -I../../opal/mca/hwloc/hwloc191/hwloc/include/hwloc/autogen &nbsp; -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6 -I../.. -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/opal/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/orte/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/ompi/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/oshmem/include &nbsp;-D_REENTRANT &nbsp;-I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/opal/mca/hwloc/hwloc191/hwloc/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/BLD/opal/mca/hwloc/hwloc191/hwloc/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/opal/mca/event/libevent2021/libevent -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/opal/mca/event/libevent2021/libevent/include -I/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/BLD/opal/mca/event/libevent2021/libevent/include &nbsp;-D_REENTRANT -g -c -o predefined_gap_test.o /shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/ompi/debuggers/predefined_gap_test.c</font></div><div class=""><font face="monospace, monospace" class="">"/shared/OMPI/openmpi-1.10.0rc6-solaris11-x86-ib-ss12u3/openmpi-1.10.0rc6/opal/include/opal/sys/ia32/atomic.h", line 173: warning: parameter in inline asm statement unused: %3</font></div><div class=""><font face="monospace, monospace" class="">/bin/sh ../../libtool &nbsp;--tag=CC &nbsp; --mode=link cc &nbsp;-D_REENTRANT -g <span style="background-color:rgb(255,255,0)" class="">-R@{libdir}</span> &nbsp; -o predefined_gap_test predefined_gap_test.o ../../ompi/<a href="http://libmpi.la/" class="">libmpi.la</a> -lm -lsocket -lnsl &nbsp;</font></div><div class=""><font face="monospace, monospace" class="">libtool: link: only absolute run-paths are allowed</font></div><div class=""><br class=""></div><div class="">I am going to venture a guess that libtool is complaining about "-R@{libdir}".</div><div class="">Looking at config/opal_setup_wrappers.m4 I find:</div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px" class=""><div class=""><div class=""><div class=""><font face="monospace, monospace" size="1" class=""># Called to find all -L arguments in the LDFLAGS and add in RPATH args</font></div></div></div><div class=""><div class=""><div class=""><font face="monospace, monospace" size="1" class=""># for each of them.&nbsp; Then also add in an RPATH for @{libdir} (which</font></div></div></div><div class=""><div class=""><div class=""><font face="monospace, monospace" size="1" class=""># will be replaced by the wrapper compile to the installdir libdir at</font></div></div></div><div class=""><div class=""><div class=""><font face="monospace, monospace" size="1" class=""># runtime), and the RUNPATH args, if we have them.</font></div></div></div></blockquote><div class=""><div class=""><br class=""></div><div class="">So, since it sounds like the wrapper compiler (not autoconf, automake or libtool) is expected to perform the expansion, it sounds to me like the $(*_WRAPPER_EXTRA_LDFLAGS) are *not* suitable for linking the tests.</div><div class="">This means that Ralph and I wasted our Sunday iterating to the wrong fix for the mx+static problem I encountered in rc5.</div><div class=""><br class=""></div><div class="">The good news (I hope) is the following comment in the same .m4 file:</div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">&nbsp; &nbsp; # Note that we have to setup &lt;package&gt;_PKG_CONFIG_LDFLAGS for the</font></div><div class=""><font face="monospace, monospace" size="1" class="">&nbsp; &nbsp; # pkg-config files to parallel the</font></div><div class=""><font face="monospace, monospace" size="1" class="">&nbsp; &nbsp; # &lt;package&gt;_WRAPPER_EXTRA_LDFLAGS.&nbsp; This is because pkg-config</font></div><div class=""><font face="monospace, monospace" size="1" class="">&nbsp; &nbsp; # will not understand the @{libdir} notation in</font></div><div class=""><font face="monospace, monospace" size="1" class="">&nbsp; &nbsp; # *_WRAPPER_EXTRA_LDFLAGS; we have to translate it to ${libdir}.</font></div></div><div class=""><br class=""></div><div class="">So, Ralph, I suspect that use of {OMPI,OPAL}_PKG_CONFIG_LDFLAGS is the proper replacement for WRAPPER_LD_FLAGS.</div><div class="">I tried manually making this change in the three affected generated Makefiles and was able to pass my testing on this platform.</div><div class=""><br class=""></div><div class="">-Paul</div><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2015/08/17824.php</div></blockquote></div><br class=""></div></body></html>
