<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br><div><div>On Jun 6, 2014, at 12:50 PM, Rolf vandeVaart &lt;<a href="mailto:rvandevaart@nvidia.com">rvandevaart@nvidia.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">Thanks for trying Ralph.&nbsp;&nbsp; Looks like my issues has to do with coll ml interaction.&nbsp; If I exclude coll ml, then all my tests pass.&nbsp; Do you know if there is a bug for this issue?</span></div></div></div></blockquote><div><br></div>There is a known issue with coll ml for intercomm_create - Nathan is working on a fix. It was reported by Gilles (yesterday?)</div><div><br><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);"><o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">If so, then I can run my nightly tests with coll ml disabled and wait for the bug to be fixed.<o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">Also, where does simple_spawn and spawn_multiple live?</span></div></div></div></blockquote><div><br></div>I have a copy/version in my orte/test/mpi directory that I use - that's where these came from. Note that I left coll ml "on" for those as they weren't having troubles.</div><div><br></div><div><br><blockquote type="cite"><div lang="EN-US" link="blue" vlink="purple" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div class="WordSection1" style="page: WordSection1;"><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp; I was running “spawn” and “spawn_multiple” from the ibm/dynamic test suite.&nbsp;<o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">Your output for spawn_multiple looks different than mine.<o:p></o:p></span></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><span style="font-size: 11pt; font-family: Calibri, sans-serif; color: rgb(31, 73, 125);">&nbsp;</span></div><div style="border-style: none none none solid; border-left-color: blue; border-left-width: 1.5pt; padding: 0in 0in 0in 4pt;"><div><div style="border-style: solid none none; border-top-color: rgb(181, 196, 223); border-top-width: 1pt; padding: 3pt 0in 0in;"><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><b><span style="font-size: 10pt; font-family: Tahoma, sans-serif;">From:</span></b><span style="font-size: 10pt; font-family: Tahoma, sans-serif;"><span class="Apple-converted-space">&nbsp;</span>devel [<a href="mailto:devel-bounces@open-mpi.org">mailto:devel-bounces@open-mpi.org</a>]<span class="Apple-converted-space">&nbsp;</span><b>On Behalf Of<span class="Apple-converted-space">&nbsp;</span></b>Ralph Castain<br><b>Sent:</b><span class="Apple-converted-space">&nbsp;</span>Friday, June 06, 2014 3:19 PM<br><b>To:</b><span class="Apple-converted-space">&nbsp;</span>Open MPI Developers<br><b>Subject:</b><span class="Apple-converted-space">&nbsp;</span>Re: [OMPI devel] Strange intercomm_create, spawn, spawn_multiple hang on trunk<o:p></o:p></span></div></div></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;">Works fine for me:<o:p></o:p></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div><div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[rhc@bend001 mpi]$ mpirun -n 3 --host bend001 ./simple_spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[pid 22777] starting up!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[pid 22778] starting up!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[pid 22779] starting up!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">1 completed MPI_Init<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22778] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">2 completed MPI_Init<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22779] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">0 completed MPI_Init<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22777] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[pid 22783] starting up!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[pid 22784] starting up!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent sending message to child<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">0 completed MPI_Init<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Hello from the child 0 of 2 on host bend001 pid 22783<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 0 received msg: 38<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">1 completed MPI_Init<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Hello from the child 1 of 2 on host bend001 pid 22784<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 1 disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 0 disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">22784: exiting<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">22778: exiting<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">22779: exiting<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">22777: exiting<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">22783: exiting<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[rhc@bend001 mpi]$ make spawn_multiple<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">mpicc -g --openmpi:linkall&nbsp; &nbsp; spawn_multiple.c &nbsp; -o spawn_multiple<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[rhc@bend001 mpi]$ mpirun -n 3 --host bend001 ./spawn_multiple<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22797] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22798] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent [pid 22799] about to spawn!<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent sending message to children<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent done with spawn<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Hello from the child 0 of 2 on host bend001 pid 22803: argv[1] = foo<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 0 received msg: 38<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Hello from the child 1 of 2 on host bend001 pid 22804: argv[1] = bar<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 1 disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Parent disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">Child 0 disconnected<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[rhc@bend001 mpi]$ mpirun -n 3 --host bend001 -mca coll ^ml ./intercomm_create<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: MPI_Intercomm_create( intra, 0, intra, MPI_COMM_NULL, 201, &amp;inter) [rank 3]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: MPI_Intercomm_create( intra, 0, intra, MPI_COMM_NULL, 201, &amp;inter) [rank 4]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: MPI_Intercomm_create( intra, 0, intra, MPI_COMM_NULL, 201, &amp;inter) [rank 5]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: MPI_Intercomm_create( MPI_COMM_WORLD, 0, intra, 0, 201, &amp;inter) [rank 3]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: MPI_Intercomm_create( MPI_COMM_WORLD, 0, intra, 0, 201, &amp;inter) [rank 4]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: MPI_Intercomm_create( MPI_COMM_WORLD, 0, intra, 0, 201, &amp;inter) [rank 5]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: MPI_Intercomm_create( ab_intra, 0, ac_intra, 3, 201, &amp;inter) (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: MPI_Intercomm_create( ab_intra, 0, ac_intra, 3, 201, &amp;inter) (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: MPI_Intercomm_create( ab_intra, 0, ac_intra, 3, 201, &amp;inter) (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_create (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - before<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier on inter-comm - after<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_merge(0) (0) [rank 2]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_merge(0) (0) [rank 8]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_merge(0) (0) [rank 0]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: intercomm_merge(0) (0) [rank 1]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_merge(0) (0) [rank 7]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_merge(1) (0) [rank 4]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_merge(1) (0) [rank 5]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: intercomm_merge(0) (0) [rank 6]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: intercomm_merge(1) (0) [rank 3]<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">a: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">c: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">b: barrier (0)<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 0<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 0<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 1<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">dpm_base_disconnect_init: error -12 in isend to process 3<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif; background-color: rgb(254, 244, 156);"><span style="font-size: 8.5pt; font-family: Menlo;">[rhc@bend001 mpi]$&nbsp;<o:p></o:p></span></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div><div><div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;">On Jun 6, 2014, at 11:26 AM, Rolf vandeVaart &lt;<a href="mailto:rvandevaart@nvidia.com" style="color: purple; text-decoration: underline;">rvandevaart@nvidia.com</a>&gt; wrote:<o:p></o:p></div></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><br><br><o:p></o:p></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;">I am seeing an interesting failure on trunk. &nbsp;intercomm_create, spawn, and spawn_multiple from the IBM tests hang if I explicitly list the hostnames to run on. &nbsp;For example:<br><br>Good:<br>$ mpirun -np 2 --mca btl self,sm,tcp spawn_multiple<br>Parent: 0 of 2,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(0 in init)<br>Parent: 1 of 2,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(0 in init)<br>Child: 0 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 1) (1 in init)<br>Child: 1 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 1) (1 in init)<br>Child: 2 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 2) (1 in init)<br>Child: 3 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 2) (1 in init)<br>$<span class="Apple-converted-space">&nbsp;</span><br><br>Bad:<br>$ mpirun -np 2 --mca btl self,sm,tcp -host drossetti-ivy0,drossetti-ivy0 spawn_multiple<br>Parent: 0 of 2,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(1 in init)<br>Parent: 1 of 2,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(1 in init)<br>Child: 0 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 1) (1 in init)<br>Child: 1 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 1) (1 in init)<br>Child: 2 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 2) (1 in init)<br>Child: 3 of 4,<span class="Apple-converted-space">&nbsp;</span><a href="http://drossetti-ivy0.nvidia.com/" style="color: purple; text-decoration: underline;">drossetti-ivy0.nvidia.com</a><span class="Apple-converted-space">&nbsp;</span>(this is job 2) (1 in init)<br>[..and we are hung here...]<br><br>I see the exact same behavior for spawn and spawn_multiple. &nbsp;Ralph, any thoughts? &nbsp;Open MPI 1.8 is fine. &nbsp;I can provide more information if needed, but I assume this is reproducible.<span class="Apple-converted-space">&nbsp;</span><br><br>Thanks,<br>Rolf<br>-----------------------------------------------------------------------------------<br>This email message is for the sole use of the intended recipient(s) and may contain<br>confidential information. &nbsp;Any unauthorized review, use, disclosure or distribution<br>is prohibited. &nbsp;If you are not the intended recipient, please contact the sender by<br>reply email and destroy all copies of the original message.<br>-----------------------------------------------------------------------------------<br>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" style="color: purple; text-decoration: underline;">devel@open-mpi.org</a><br>Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/06/14990.php" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/community/lists/devel/2014/06/14990.php</a><o:p></o:p></div></div><div style="margin: 0in 0in 0.0001pt; font-size: 12pt; font-family: 'Times New Roman', serif;"><o:p>&nbsp;</o:p></div></div></div></div>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org" style="color: purple; text-decoration: underline;">devel@open-mpi.org</a><br>Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/06/14992.php" style="color: purple; text-decoration: underline;">http://www.open-mpi.org/community/lists/devel/2014/06/14992.php</a></div></blockquote></div><br></body></html>
