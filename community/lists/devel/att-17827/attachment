<div dir="ltr"><div class="gmail_extra"><br><div class="gmail_quote">On Mon, Aug 24, 2015 at 10:52 AM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div>Thus if this newly reported problem is (as I am going to guess) in config/ompi_check_mx.m4 then it may go unfixed.</div><div>You say you and I are the only ones to care, and I think we both care for reasons related to software quality rather than any desire to use MX.</div></blockquote></div><br>I looked to see where the -rpath options are coming from.</div><div class="gmail_extra">I am 95% certain that libtool is constructing them from the network-specific .la files (such as <a href="http://libfabric.la">libfabric.la</a>).</div><div class="gmail_extra">That is also the reason why libfabric gets linked by full path instead of a &quot;-l&quot; option.<br><br>So, my conclusions:</div><div class="gmail_extra"><br></div><div class="gmail_extra">1. Since there is no <a href="http://libmyriexpress.la">libmyriexpress.la</a>, one should either</div><div class="gmail_extra">   1a.  add the MX libdir to LD_LIBRARY_PATH</div><div class="gmail_extra">   1b.  use the wrapper-ldflags family of configure arguments to add an rpath</div><div class="gmail_extra"><br></div><div class="gmail_extra">2. There is *probably* no Open MPI bug here assuming the authors of MX support assumed &quot;1a&quot;.</div><div class="gmail_extra"><br></div><div class="gmail_extra">In support of these conclusion, the following is quoted from the MX installation instructions:</div><div class="gmail_extra"><div class="gmail_extra"><font face="monospace, monospace">        For Linux, FreeBSD and Solaris, add the MX library directory to the</font></div><div class="gmail_extra"><font face="monospace, monospace">        system library search path. Otherwise, individual users will have to</font></div><div class="gmail_extra"><font face="monospace, monospace">        either manage their LD_LIBRARY_PATH(_64) environment variable or link</font></div><div class="gmail_extra"><font face="monospace, monospace">        their program with an &quot;-rpath/-R&quot; option for the dynamic linker to</font></div><div class="gmail_extra"><font face="monospace, monospace">        locate the MX shared library.</font></div></div><div class="gmail_extra"><br></div><div class="gmail_extra">So, I am actually wondering if Ralph&#39;s changes yesterday to &quot;fix&quot; $(WRAPPER_EXTRA_LDFLAGS) might have been unnecessary.</div><div class="gmail_extra">Instead, I think *removing* those [testname]_LDFLAGS lines may be the correct solution - they were *empty* until rc6.</div><div class="gmail_extra"><br></div><div class="gmail_extra">IMHO:  dropping MX support in 1.10 is probably wise given the lack of vendor support .</div><div class="gmail_extra"><br></div><div class="gmail_extra">-Paul</div><div class="gmail_extra"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>

