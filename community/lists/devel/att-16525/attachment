<div dir="ltr">Ralph,<div><br></div><div>Sorry to be the bearer of more bad news.</div><div>The &quot;good&quot; news is I&#39;ve seen the new warning regarding the lack of a loopback interface.</div><div>The BAD news is that it is occurring on a Linux cluster that I&#39;ver verified DOES have &#39;lo&#39; configured on the front-end and compute nodes (UP and RUNNING according to ifconfig).</div><div><br></div><div>Though run with &quot;-np 2&quot; the warning appears FIVE times.</div><div>ADDITIONALLY, there is a SEGV at exit!</div><div><br></div><div>Unfortunately, despite configuring with --enable-debug, I didn&#39;t get line numbers from the core (and there was no backtrace printed).</div><div><br></div><div>All of this appears below (and no, &quot;-mca mtl psm&quot; is not a typo or a joke).</div><div><br></div><div>Let me know what tracing flags to apply to gather the info needed to debug this.</div><div><br></div><div>-Paul</div><div><br></div><div><br></div><div><font face="monospace">$ mpirun -mca btl sm,self -np 2 -host n15,n16 -mca mtl psm examples/ring_c</font></div><div><font face="monospace">--------------------------------------------------------------------------</font></div><div><font face="monospace">WARNING: No loopback interface was found. This can cause problems</font></div><div><font face="monospace">when we spawn processes as they are likely to be unable to connect</font></div><div><font face="monospace">back to their host daemon. Sadly, it may take awhile for the connect</font></div><div><font face="monospace">attempt to fail, so you may experience a significant hang time.</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">You may wish to ctrl-c out of your job and activate loopback support</font></div><div><font face="monospace">on at least one interface before trying again.</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">--------------------------------------------------------------------------</font></div><div><font face="monospace">[... above message FOUR more times ...]</font></div><div><div><font face="monospace">Process 1 exiting</font></div><div><font face="monospace">Process 0 sending 10 to 1, tag 201 (2 processes in ring)</font></div><div><font face="monospace">Process 0 sent to 1</font></div><div><font face="monospace">Process 0 decremented value: 9</font></div><div><font face="monospace">Process 0 decremented value: 8</font></div><div><font face="monospace">Process 0 decremented value: 7</font></div><div><font face="monospace">Process 0 decremented value: 6</font></div><div><font face="monospace">Process 0 decremented value: 5</font></div><div><font face="monospace">Process 0 decremented value: 4</font></div><div><font face="monospace">Process 0 decremented value: 3</font></div><div><font face="monospace">Process 0 decremented value: 2</font></div><div><font face="monospace">Process 0 decremented value: 1</font></div><div><font face="monospace">Process 0 decremented value: 0</font></div><div><font face="monospace">Process 0 exiting</font></div><div><font face="monospace">--------------------------------------------------------------------------</font></div><div><font face="monospace">mpirun noticed that process rank 0 with PID 0 on node n15 exited on signal 11 (Segmentation fault).</font></div><div><font face="monospace">--------------------------------------------------------------------------</font></div></div><div><font face="monospace"><br></font></div><div><div><font face="monospace">$ /sbin/ifconfig lo</font></div><div><font face="monospace">lo        Link encap:Local Loopback  </font></div><div><font face="monospace">          inet addr:127.0.0.1  Mask:255.0.0.0</font></div><div><font face="monospace">          inet6 addr: ::1/128 Scope:Host</font></div><div><font face="monospace">          UP LOOPBACK RUNNING  MTU:16436  Metric:1</font></div><div><font face="monospace">          RX packets:481228 errors:0 dropped:0 overruns:0 frame:0</font></div><div><font face="monospace">          TX packets:481228 errors:0 dropped:0 overruns:0 carrier:0</font></div><div><font face="monospace">          collisions:0 txqueuelen:0 </font></div><div><font face="monospace">          RX bytes:81039065 (77.2 MiB)  TX bytes:81039065 (77.2 MiB)</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">$ ssh n15 /sbin/ifconfig lo</font></div><div><font face="monospace">lo        Link encap:Local Loopback  </font></div><div><font face="monospace">          inet addr:127.0.0.1  Mask:255.0.0.0</font></div><div><font face="monospace">          inet6 addr: ::1/128 Scope:Host</font></div><div><font face="monospace">          UP LOOPBACK RUNNING  MTU:16436  Metric:1</font></div><div><font face="monospace">          RX packets:24885 errors:0 dropped:0 overruns:0 frame:0</font></div><div><font face="monospace">          TX packets:24885 errors:0 dropped:0 overruns:0 carrier:0</font></div><div><font face="monospace">          collisions:0 txqueuelen:0 </font></div><div><font face="monospace">          RX bytes:1509940 (1.4 MiB)  TX bytes:1509940 (1.4 MiB)</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">$ ssh n16 /sbin/ifconfig lo</font></div><div><font face="monospace">lo        Link encap:Local Loopback  </font></div><div><font face="monospace">          inet addr:127.0.0.1  Mask:255.0.0.0</font></div><div><font face="monospace">          inet6 addr: ::1/128 Scope:Host</font></div><div><font face="monospace">          UP LOOPBACK RUNNING  MTU:16436  Metric:1</font></div><div><font face="monospace">          RX packets:24938 errors:0 dropped:0 overruns:0 frame:0</font></div><div><font face="monospace">          TX packets:24938 errors:0 dropped:0 overruns:0 carrier:0</font></div><div><font face="monospace">          collisions:0 txqueuelen:0 </font></div><div><font face="monospace">          RX bytes:1543408 (1.4 MiB)  TX bytes:1543408 (1.4 MiB)</font></div><div><font face="monospace"><br></font></div></div><div><font face="monospace">$ gdb examples/ring_c core.29728</font></div><div><font face="monospace">[...]</font></div><div><div><font face="monospace">(gdb) where</font></div><div><font face="monospace">#0  0x0000002a97a19980 in ?? ()</font></div><div><font face="monospace">#1  &lt;signal handler called&gt;</font></div><div><font face="monospace">#2  0x0000003a6d40607c in _Unwind_FindEnclosingFunction () from /lib64/libgcc_s.so.1</font></div><div><font face="monospace">#3  0x0000003a6d406b57 in _Unwind_RaiseException () from /lib64/libgcc_s.so.1</font></div><div><font face="monospace">#4  0x0000003a6d406c4c in _Unwind_ForcedUnwind () from /lib64/libgcc_s.so.1</font></div><div><font face="monospace">#5  0x0000003a6c30ac50 in __pthread_unwind () from /lib64/tls/libpthread.so.0</font></div><div><font face="monospace">#6  0x0000003a6c305202 in sigcancel_handler () from /lib64/tls/libpthread.so.0</font></div><div><font face="monospace">#7  &lt;signal handler called&gt;</font></div><div><font face="monospace">#8  0x0000003a6b6bd9a2 in poll () from /lib64/tls/libc.so.6</font></div><div><font face="monospace">#9  0x0000002a978f8f7d in ?? ()</font></div><div><font face="monospace">#10 0x002000010000000e in ?? ()</font></div><div><font face="monospace">#11 0x0000000000000000 in ?? ()</font></div></div><div><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>

