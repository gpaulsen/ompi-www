<html><head><meta http-equiv="Content-Type" content="text/html charset=utf-8"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Iâ€™m seeing similar failures in the master from several collectives. Looking at the stack, here is what I see on all of them:<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">(gdb) where</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#0&nbsp; 0x00007fe49931a5d7 in raise () from /usr/lib64/libc.so.6</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#1&nbsp; 0x00007fe49931be08 in abort () from /usr/lib64/libc.so.6</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#2&nbsp; 0x00007fe49935ae07 in __libc_message () from /usr/lib64/libc.so.6</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#3&nbsp; 0x00007fe4993621fd in _int_free () from /usr/lib64/libc.so.6</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#4&nbsp; 0x00007fe498cfec95 in opal_list_destruct (list=0x25b06d0) at class/opal_list.c:108</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#5&nbsp; 0x00007fe48f0d0fb0 in opal_obj_run_destructors (object=0x25b06d0) at ../../../../opal/class/opal_object.h:460</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#6&nbsp; 0x00007fe48f0d132a in mca_pml_ob1_comm_proc_destruct (proc=0x25b05a0) at pml_ob1_comm.c:42</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#7&nbsp; 0x00007fe48f0d0fb0 in opal_obj_run_destructors (object=0x25b05a0) at ../../../../opal/class/opal_object.h:460</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#8&nbsp; 0x00007fe48f0d17c7 in mca_pml_ob1_comm_destruct (comm=0x25a0b40) at pml_ob1_comm.c:71</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#9&nbsp; 0x00007fe48f0cdcd5 in opal_obj_run_destructors (object=0x25a0b40) at ../../../../opal/class/opal_object.h:460</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#10 0x00007fe48f0cfb05 in mca_pml_ob1_del_comm (comm=0x259db90) at pml_ob1.c:277</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#11 0x00007fe4998ef19f in ompi_comm_destruct (comm=0x259db90) at communicator/comm_init.c:418</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#12 0x00007fe4998efa02 in opal_obj_run_destructors (object=0x259db90) at ../opal/class/opal_object.h:460</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#13 0x00007fe4998f2bed in ompi_comm_free (comm=0x7ffdb43a6940) at communicator/comm.c:1532</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#14 0x00007fe49993c858 in PMPI_Comm_disconnect (comm=0x7ffdb43a6940) at pcomm_disconnect.c:75</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">#15 0x00000000004014a6 in main (argc=1, argv=0x7ffdb43a6a58) at ibarrier_inter.c:68</div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">This is with 16 procs on 2 nodes. Any ideas?</div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><br class=""></div><div><blockquote type="cite" class=""><div class="">On Oct 27, 2015, at 12:32 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" class="">rhc@open-mpi.org</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><meta http-equiv="Content-Type" content="text/html charset=us-ascii" class=""><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Anyone have an idea of what this is all about?<div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&gt;&gt; Command: mpirun &nbsp; &nbsp; --hostfile /home/common/hosts -np 16 --prefix /home/common/openmpi/build/foobar/ collective/alltoall_in_place&nbsp;</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; Elapsed: &nbsp; &nbsp; &nbsp; 00:00:00 0.00u 0.00s</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; Test: alltoall_in_place, np=16, variant=1: Passed</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">*** Error in `collective/alltoallv_somezeros': free(): invalid pointer: 0x000000000127a180 ***</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">======= Backtrace: =========</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/usr/lib64/libc.so.6(+0x7d1fd)[0x7f46e2fda1fd]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libopen-pal.so.0(+0x2cd05)[0x7f46e2976d05]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(+0x6f74)[0x7f46dcefaf74]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(+0x72ee)[0x7f46dcefb2ee]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(+0x6f74)[0x7f46dcefaf74]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(+0x76e8)[0x7f46dcefb6e8]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(+0x3c73)[0x7f46dcef7c73]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/openmpi/mca_pml_ob1.so(mca_pml_ob1_del_comm+0xcf)[0x7f46dcef9acc]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libmpi.so.0(+0x2d1df)[0x7f46e35671df]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libmpi.so.0(+0x2b473)[0x7f46e3565473]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libmpi.so.0(ompi_comm_finalize+0x23f)[0x7f46e3566bbd]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libmpi.so.0(ompi_mpi_finalize+0x5fd)[0x7f46e3593df7]</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">/home/common/openmpi/build/foobar/lib/libmpi.so.0(PMPI_Finalize+0x59)[0x7f46e35bd6e5]</div></div><div class=""><br class=""></div><div class="">Then I see a bunch of dump info, followed by:</div><div class=""><br class=""></div><div class=""><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&gt;&gt; Command: mpirun &nbsp; &nbsp; --hostfile /home/common/hosts -np 16 --prefix /home/common/openmpi/build/foobar/ collective/alltoallv_somezeros&nbsp;</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; Elapsed: &nbsp; &nbsp; &nbsp; 00:00:01 0.00u 0.00s</div><div style="margin: 0px; font-size: 11px; line-height: normal; font-family: Menlo; background-color: rgb(254, 244, 156);" class="">&nbsp;&nbsp; Test: alltoallv_somezeros, np=16, variant=1: Passed</div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">Ralph</div><div class=""><br class=""></div><div class=""><br class=""></div></div></div></blockquote></div><br class=""></div></body></html>
