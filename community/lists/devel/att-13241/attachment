<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">This was resolved off-list, but I'm reposting it here so it (a) resides in our archives, and (b) is available for others with similar questions about the revised Java bindings.<div><br></div><div>Ralph</div><div><br><div><br><div>Begin forwarded message:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span style="font-family:'Helvetica'; color:rgba(0, 0, 0, 1.0);"><b>From: </b></span><span style="font-family:'Helvetica';">"Jose E. Roman" &lt;<a href="mailto:jroman@dsic.upv.es">jroman@dsic.upv.es</a>&gt;<br></span></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span style="font-family:'Helvetica'; color:rgba(0, 0, 0, 1.0);"><b>Subject: </b></span><span style="font-family:'Helvetica';"><b>Fwd: [OMPI devel] Bug in MPI.MINLOC with Java binding</b><br></span></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span style="font-family:'Helvetica'; color:rgba(0, 0, 0, 1.0);"><b>Date: </b></span><span style="font-family:'Helvetica';">November 11, 2013 at 11:05:12 PM PST<br></span></div><div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span style="font-family:'Helvetica'; color:rgba(0, 0, 0, 1.0);"><b>To: </b></span><span style="font-family:'Helvetica';">Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt;<br></span></div><br><div><br><br>Inicio del mensaje reenviado:<br><br><blockquote type="cite">De: Oscar Vega-Gisbert &lt;<a href="mailto:ovega@dsic.upv.es">ovega@dsic.upv.es</a>&gt;<br>Fecha: 12 de noviembre de 2013 00:08:41 GMT+01:00<br>Para: <a href="mailto:esaliya@gmail.com">esaliya@gmail.com</a><br>Cc: Jose Roman &lt;<a href="mailto:jroman@dsic.upv.es">jroman@dsic.upv.es</a>&gt;, Jeff Squyres &lt;<a href="mailto:jsquyres@cisco.com">jsquyres@cisco.com</a>&gt;<br>Asunto: Re: Fwd: [OMPI devel] Bug in MPI.MINLOC with Java binding<br><br>Hi Saliya,<br><br>In the in the previous versions of the library, MAXLOC and MINLOC were implemented in Java and it was possible to use Java int arrays. But now the implementation is native and you can not use Java int because on some platforms the int size (in the C side) may be different.<br><br>You must use the struct 'mpi.Int2' as you can see in your corrected example.<br><br>Regards,<br>Oscar<br><br><br><blockquote type="cite">From: Saliya Ekanayake &lt;<a href="mailto:esaliya@gmail.com">esaliya@gmail.com</a>&lt;<a href="mailto:esaliya@gmail.com">mailto:esaliya@gmail.com</a>&gt;&gt;<br>Subject: [OMPI devel] Bug in MPI.MINLOC with Java binding<br>Date: November 11, 2013 3:35:23 PM EST<br>To: &lt;<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a>&lt;<a href="mailto:devel@open-mpi.org">mailto:devel@open-mpi.org</a>&gt;&gt;<br>Reply-To: Open MPI Developers &lt;<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a>&lt;<a href="mailto:devel@open-mpi.org">mailto:devel@open-mpi.org</a>&gt;&gt;<br><br>Hi,<br><br>I've been using nightly tarball openmpi-1.9a1r28919 with Java binding and it had a bug in its MINLOC implementation (Minloc.java). Essentially, the following line,<br><br>out_array [outdisp + 1] = in_array [outdisp + 1] ;<br><br>should be changed to<br><br>out_array [outdisp + 1] = in_array [indisp + 1] ;<br><br>The same should be done for MAXLOC (Maxloc.java) implementation as well. I tested with the change and both MINLOC and MAXLOC worked as expected afterwards.<br><br>However, these files are no longer available in the latest trunk and it seems the API for collective operations have changed as well. Still MINLOC (and MAXLOC) does not work as expected. I've attached a sample code to reproduce the issue and an output from it (for MINLOC).<br><br>I am running on 64bit Ubuntu 12.04.<br><br>Any suggestions?<br><br>Thank you in advance,<br>Saliya<br><br>--<br>Saliya Ekanayake <a href="mailto:esaliya@gmail.com">esaliya@gmail.com</a>&lt;<a href="mailto:esaliya@gmail.com">mailto:esaliya@gmail.com</a>&gt;<br><a href="http://saliya.org&lt;http://saliya.org/&gt;">http://saliya.org&lt;http://saliya.org/&gt;</a><br>_______________________________________________<br>devel mailing list<br>devel@open-mpi.org&lt;mailto:devel@open-mpi.org&gt;<br>http://www.open-mpi.org/mailman/listinfo.cgi/devel<br><br><br>--<br>Jeff Squyres<br>jsquyres@cisco.com&lt;mailto:jsquyres@cisco.com&gt;<br>For corporate legal information go to: http://www.cisco.com/web/about/doing_business/legal/cri/<br><br><br></blockquote><br><br><br>----------------------------------------------------------------<br>This message was sent using IMP, the Internet Messaging Program.<br></blockquote></div></blockquote></div></div></body></html>
