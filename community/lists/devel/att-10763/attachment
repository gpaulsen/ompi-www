<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><base href="data:"><div style="font-family: 'Helvetica Neue'; font-size: 12px; color: black; text-align: left; ">I was reading the FAQs for the ClamAV anti-virus program (included on Mac OS X) at&nbsp;<span class="Apple-style-span" style="font-size: medium; "><a href="http://www.clamav.net/lang/en/faq/faq-upgrade/">http://www.clamav.net/lang/en/faq/faq-upgrade/</a>. &nbsp;At the end is a note that caught my eye about problem compilers.</span></div><div style="font-family: 'Helvetica Neue'; font-size: 12px; color: black; text-align: left; "><span class="Apple-style-span" style="font-size: medium; "><br></span></div><div style="font-family: 'Helvetica Neue'; font-size: 12px; color: black; text-align: left; "><span class="Apple-style-span" style="font-size: medium; "><blockquote type="cite"><span class="Apple-style-span" style="color: rgb(46, 46, 46); font-family: Arial, Tahoma, Helvetica, sans-serif; font-size: 12px; line-height: 17px; ">ClamAV supports a wide variety of compilers, hardware and operating systems. Our core compiler is gcc with Linux on 32 and 64 bit Intel platforms, though we also test using other compilers, including Sun’s C compiler, Microsoft’s Visual Studio, Intel’s C compiler, LLVM-GCC, and others. To date we have only found one compiler that we do not support, GCC version 4.0.0 to 4.0.1 inclusive. We have found that version of the compiler produces incorrect code on all of the platforms and operating systems on which we have tested it. ClamAV will not work using that compiler and you MUST switch to an alternative, such as GCC3.4 or GCC4.1. Please contact your vendor for further information. Please refer to&nbsp;<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=26763" style="font-family: Arial, Tahoma, Helvetica, sans-serif; color: rgb(27, 159, 224); font-weight: normal; text-decoration: none; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">gcc’s bugzilla</a>&nbsp;for further information. If you want to see a proof of why gcc 4.0.1 generates wrong code for the kernel read the&nbsp;<a href="http://kerneltrap.org/Linux/Compiler_Optimization_Bugs_and_World_Domination" style="font-family: Arial, Tahoma, Helvetica, sans-serif; color: rgb(27, 159, 224); font-weight: normal; text-decoration: none; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">relevant article</a>&nbsp;on kerneltrap. More information about this bug is also available in our&nbsp;<a href="https://wwws.clamav.net/bugzilla/show_bug.cgi?id=613" style="font-family: Arial, Tahoma, Helvetica, sans-serif; color: rgb(27, 159, 224); font-weight: normal; text-decoration: none; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">bugzilla</a>&nbsp;. Our configure scripts will detect if your compiler is affected by this bug and refuse to generate a non working binary with the following error message:&nbsp;<em>your compiler has gcc PR26763-2 bug, use a different compiler</em>&nbsp;. If you are on MacOS X, you can try an alternative compiler, LLVM-GCC4.2-2.2, which has&nbsp;<a href="http://llvm.org/releases/download.html#2.2" style="font-family: Arial, Tahoma, Helvetica, sans-serif; color: rgb(27, 159, 224); font-weight: normal; text-decoration: none; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">official binaries available</a><p style="font-family: Arial, Tahoma, Helvetica, sans-serif; font-size: 12px; color: rgb(46, 46, 46); text-align: left; margin-top: 0px; line-height: 17px; ">Last update: Apr 15, 2010</p></span></blockquote></span></div><div style="font-family: 'Helvetica Neue'; font-size: 12px; color: black; text-align: left; "><span class="Apple-style-span" style="font-size: medium; ">Two things occurred to me that might be appropriate for OpenMPI:</span></div><div style="font-family: 'Helvetica Neue'; font-size: 12px; color: black; text-align: left; "><br class="webkit-block-placeholder"></div>1) If GCC4.0.1 is as bad as it sounds, that might be worth mentioning in the OpenMPI README.<div>2) OpenMPI might borrow ClamAV's configuration logic to recognize GCC 4.0.1 (and, maybe the faulty Intel V12.x compiler) and balk.<br><br><div apple-content-edited="true"> <span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Helvetica Neue'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div><div><div><div><div><div><div><div><div>Larry Baker</div><div>US Geological Survey</div><div>650-329-5608</div><div><a href="mailto:baker@usgs.gov">baker@usgs.gov</a></div></div></div></div></div></div></div></div></div></div></div></span> </div><br></div></body></html>
