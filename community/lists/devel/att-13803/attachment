<div dir="ltr">I just noticed that I get unknown compiler family in all my builds:<div><div><font face="courier new, monospace"><br></font></div><div><font face="courier new, monospace">checking for compiler familyid... 0</font></div>
<div><font face="courier new, monospace">checking for compiler familyname... UNKNOWN</font></div></div><div><br></div><div><div>The following in config.log shows why:</div><div><br></div><div><div><font face="courier new, monospace">configure:27774: checking for compiler familyid</font></div>
<div><font face="courier new, monospace">configure:27804: xlc -o conftest -q64 -g -I/home/hargrove/SCRATCH/OMPI/openmpi-1.7-latest-linux-ppc64-xlc-12.1/openmpi-1.7.4rc2r30303/ompi/include   conftest.c  &gt;&amp;5</font></div>
<div><font face="courier new, monospace">&quot;conftest.c&quot;, line 190.10: 1506-296 (S) #include file &quot;mpi_portable_platform.h&quot; not found.</font></div><div><font face="courier new, monospace">&quot;conftest.c&quot;, line 197.23: 1506-045 (S) Undeclared identifier PLATFORM_COMPILER_FAMILYID.</font></div>
<div><font face="courier new, monospace">configure:27804: $? = 1</font></div><div><font face="courier new, monospace">configure: program exited with status 1</font></div></div><div><br></div><div>Meanwhile:</div><div><br>
</div><div><div><font face="courier new, monospace">$ tar tvfj openmpi-1.7.4rc2r30303.tar.bz2 | grep portable_platform</font></div><div><font face="courier new, monospace">-rw-r--r-- mpiteam/projects   16055 2014-01-17 02:33 openmpi-1.7.4rc2r30303/opal/include/opal/opal_portable_platform.h</font></div>
</div><div><br></div><div><br></div><div>So, it appears the probe for compiler family didn&#39;t keep up with the change in name and location of the portable_platform header (r29618).</div><div><br></div><div>Inspection of my tests on both v1.7 and trunk seems to show the same issue in both.</div>
<div><br></div><div>The attached patch is an untested shot at fixing the problem.</div><div><br></div><div>-Paul</div><div><br></div><div><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div></div>

