<html><head><meta http-equiv="Content-Type" content="text/html charset=iso-8859-1"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">I'm lost - where were you making a change? &nbsp;I'm unaware of Minloc.java or Maxloc.java files in the MPI bindings, so I assume the change was being made to the Intracomm.java file?<div><br></div><div><br><div><div>On Nov 11, 2013, at 12:35 PM, Saliya Ekanayake &lt;<a href="mailto:esaliya@gmail.com">esaliya@gmail.com</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite"><div dir="ltr">Hi,<div><br></div><div>I've been using nightly tarball&nbsp;openmpi-1.9a1r28919 with Java binding and it had a bug in its MINLOC implementation (Minloc.java). Essentially, the following line,</div><div><br></div>
<div><font face="courier new, monospace">out_array [outdisp + 1] = in_array [<b>outdisp</b> + 1] ;</font></div><div><b><br></b></div><div>should be changed to&nbsp;</div><div><br></div><div><font face="courier new, monospace">out_array [outdisp + 1] = in_array [<b>indisp</b> + 1] ;</font></div>
<div><font face="courier new, monospace"><br></font></div><div><font face="arial, helvetica, sans-serif">The same should be done for MAXLOC (Maxloc.java) implementation as well. I tested with the change and both MINLOC and MAXLOC worked as expected afterwards.&nbsp;</font></div>
<div><font face="arial, helvetica, sans-serif"><br></font></div><div><font face="arial, helvetica, sans-serif">However, these files are no longer available in the latest trunk and it seems the API for collective operations have changed as well. Still MINLOC (and MAXLOC) does not work as expected. I've attached a sample code to reproduce the issue and an output from it (for MINLOC).&nbsp;</font></div>
<div><font face="arial, helvetica, sans-serif"><br></font></div><div><font face="arial, helvetica, sans-serif">I am running on 64bit Ubuntu 12.04.</font></div><div><font face="arial, helvetica, sans-serif"><br></font></div>
<div><font face="arial, helvetica, sans-serif">Any suggestions?</font></div><div><font face="arial, helvetica, sans-serif"><br></font></div><div><font face="arial, helvetica, sans-serif">Thank you in advance,</font></div>
<div><font face="arial, helvetica, sans-serif">Saliya<br clear="all"></font><div><br></div>-- <br><div dir="ltr"><span style="color:rgb(136,136,136)">Saliya Ekanayake <a href="mailto:esaliya@gmail.com" target="_blank">esaliya@gmail.com</a></span><span style="color:rgb(136,136,136)">&nbsp;</span><br style="color:rgb(136,136,136)">
<a href="http://saliya.org/" target="_blank">http://saliya.org</a><br></div>
</div></div>
<span>&lt;Minlocbug.bzip2&gt;</span>_______________________________________________<br>devel mailing list<br><a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>http://www.open-mpi.org/mailman/listinfo.cgi/devel</blockquote></div><br></div></body></html>
