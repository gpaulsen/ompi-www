r32236 is a suspect<br><br>i am afk<br><br>I just read the code and a class is initialized with opal_class_initialize the first time an object is instantiated with OBJ_NEW<br><br>I would simply revert r32236 or update opal_class_finalize and free(cls-&gt;cls_construct_array); only if cls-&gt;cls_construct_array is not NULL<br><br>I hope this helps<br><br>Gilles<br><br>Ralph Castain &lt;rhc@open-mpi.org&gt; wrote:<br>Hi folks<div><br></div><div>The changes to opal_class_finalize are generating 100% segfaults on the trunk:</div><div><br></div><div><pre><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">175<span class="Apple-tab-span">	</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; free(cls-&gt;cls_construct_array);</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">Missing separate debuginfos, use: debuginfo-install glibc-2.12-1.132.el6_5.2.x86_64 libgcc-4.4.7-4.el6.x86_64 numactl-2.0.7-8.el6.x86_64</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">(gdb) where</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#0&nbsp; 0x00007f93e3206385 in opal_class_finalize () at class/opal_object.c:175</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#1&nbsp; 0x00007f93e320b62f in opal_finalize_util () at runtime/opal_finalize.c:110</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#2&nbsp; 0x00007f93e320b73b in opal_finalize () at runtime/opal_finalize.c:175</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#3&nbsp; 0x00007f93e350e05f in orte_finalize () at runtime/orte_finalize.c:79</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#4&nbsp; 0x00000000004057e2 in orterun (argc=4, argv=0x7fffe27ea718) at orterun.c:1098</div><div style="margin: 0px; font-size: 11px; font-family: Menlo; background-color: rgb(254, 244, 156);">#5&nbsp; 0x0000000000403a04 in main (argc=4, argv=0x7fffe27ea718) at main.c:13</div>
</pre></div><div><br></div><div>Can someone please fix this?</div><div>Ralph</div><div><br></div>