<div dir="ltr">On a Linux/PPC64 system I see the failure below from a build of the current master tarball.<div>This build was configured with</div><div><font face="monospace, monospace">   --prefix=... --enable-debug \</font></div><div><font face="monospace, monospace">  CFLAGS=-m64 --with-wrapper-cflags=-m64 \</font></div><div><font face="monospace, monospace">  CXXFLAGS=-m64 --with-wrapper-cxxflags=-m64 \</font></div><div><font face="monospace, monospace">  FCFLAGS=-m64 --with-wrapper-fcflags=-m64</font><br><div><br></div><div>I am not sure if putting &quot;-m64&quot; in both the *FLAGS and wrapper flags is required, but am confident the error is unrelated.</div><div><br></div><div>-Paul</div><div><br></div><div>$ mpirun -mca btl sm,self -np 2 examples/ring_c&#39;<div>[pcp-k-422:08534] mca: base: components_open: component coll / libnbc open function failed</div><div>ring_c: /home/phargrov/OMPI/openmpi-master-linux-ppc64/openmpi-dev-803-g5919b63/ompi/mca/coll/libnbc/coll_libnbc_component.c:118: libnbc_close: Assertion `((0xdeafbeedULL &lt;&lt; 32) + 0xdeafbeedULL) == ((opal_object_t *) (&amp;mca_coll_libnbc_component.active_requests))-&gt;obj_magic_id&#39; failed.</div><div>[pcp-k-422:08534] *** Process received signal ***</div><div>[pcp-k-422:08534] Signal: Aborted (6)</div><div>[pcp-k-422:08534] Signal code:  (-6)</div><div>[pcp-k-422:08534] [ 0] [0x3fff8bd90478]</div><div>[pcp-k-422:08534] [ 1] /lib64/libc.so.6(gsignal-0x155030)[0x3fff8b9fc510]</div><div>[pcp-k-422:08534] [ 2] /lib64/libc.so.6(abort-0x150094)[0x3fff8ba01be4]</div><div>[pcp-k-422:08534] [ 3] /lib64/libc.so.6(+0x572ac)[0x3fff8b9f22ac]</div><div>[pcp-k-422:08534] [ 4] /lib64/libc.so.6(__assert_fail-0x15ddac)[0x3fff8b9f239c]</div><div>[pcp-k-422:08534] [ 5] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/openmpi/mca_coll_libnbc.so(+0x9088)[0x3fff8a190088]</div><div>[pcp-k-422:08534] [ 6] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_component_close-0xed5e8)[0x3fff8b758308]</div><div>[pcp-k-422:08534] [ 7] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(+0xa9c5c)[0x3fff8b757c5c]</div><div>[pcp-k-422:08534] [ 8] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_framework_components_open-0xee088)[0x3fff8b757778]</div><div>[pcp-k-422:08534] [ 9] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_framework_open-0xdc3f8)[0x3fff8b76a620]</div><div>[pcp-k-422:08534] [10] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libmpi.so.0(ompi_mpi_init-0x12d5fc)[0x3fff8bc33d14]</div><div>[pcp-k-422:08534] [11] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libmpi.so.0(MPI_Init-0xe4734)[0x3fff8bc821bc]</div><div>[pcp-k-422:08534] [12] examples/ring_c[0x10000a20]</div><div>[pcp-k-422:08534] [13] /lib64/libc.so.6(+0x47b6c)[0x3fff8b9e2b6c]</div><div>[pcp-k-422:08534] [14] /lib64/libc.so.6(__libc_start_main-0x16caf8)[0x3fff8b9e2d98]</div><div><div>[pcp-k-422:08534] *** End of error message ***</div><div>[pcp-k-422:08535] mca: base: components_open: component coll / libnbc open function failed</div><div>ring_c: /home/phargrov/OMPI/openmpi-master-linux-ppc64/openmpi-dev-803-g5919b63/ompi/mca/coll/libnbc/coll_libnbc_component.c:118: libnbc_close: Assertion `((0xdeafbeedULL &lt;&lt; 32) + 0xdeafbeedULL) == ((opal_object_t *) (&amp;mca_coll_libnbc_component.active_requests))-&gt;obj_magic_id&#39; failed.</div><div>[pcp-k-422:08535] *** Process received signal ***</div><div>[pcp-k-422:08535] Signal: Aborted (6)</div><div>[pcp-k-422:08535] Signal code:  (-6)</div><div>[pcp-k-422:08535] [ 0] [0x3fff99e30478]</div><div>[pcp-k-422:08535] [ 1] /lib64/libc.so.6(gsignal-0x155030)[0x3fff99a9c510]</div><div>[pcp-k-422:08535] [ 2] /lib64/libc.so.6(abort-0x150094)[0x3fff99aa1be4]</div><div>[pcp-k-422:08535] [ 3] /lib64/libc.so.6(+0x572ac)[0x3fff99a922ac]</div><div>[pcp-k-422:08535] [ 4] /lib64/libc.so.6(__assert_fail-0x15ddac)[0x3fff99a9239c]</div><div>[pcp-k-422:08535] [ 5] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/openmpi/mca_coll_libnbc.so(+0x9088)[0x3fff98230088]</div><div>[pcp-k-422:08535] [ 6] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_component_close-0xed5e8)[0x3fff997f8308]</div><div>[pcp-k-422:08535] [ 7] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(+0xa9c5c)[0x3fff997f7c5c]</div><div>[pcp-k-422:08535] [ 8] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_framework_components_open-0xee088)[0x3fff997f7778]</div><div>[pcp-k-422:08535] [ 9] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libopen-pal.so.0(mca_base_framework_open-0xdc3f8)[0x3fff9980a620]</div><div>[pcp-k-422:08535] [10] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libmpi.so.0(ompi_mpi_init-0x12d5fc)[0x3fff99cd3d14]</div><div>[pcp-k-422:08535] [11] /home/phargrov/OMPI/openmpi-master-linux-ppc64/INST/lib/libmpi.so.0(MPI_Init-0xe4734)[0x3fff99d221bc]</div><div>[pcp-k-422:08535] [12] examples/ring_c[0x10000a20]</div><div>[pcp-k-422:08535] [13] /lib64/libc.so.6(+0x47b6c)[0x3fff99a82b6c]</div><div>[pcp-k-422:08535] [14] /lib64/libc.so.6(__libc_start_main-0x16caf8)[0x3fff99a82d98]</div><div>[pcp-k-422:08535] *** End of error message ***</div></div><div><div>--------------------------------------------------------------------------</div><div>mpirun noticed that process rank 1 with PID 0 on node pcp-k-422 exited on signal 6 (Aborted).</div><div>--------------------------------------------------------------------------</div></div><div><br></div><div><br clear="all"><div><br></div>-- <br><div class="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div></div></div>

