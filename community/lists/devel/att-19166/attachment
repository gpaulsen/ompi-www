<div dir="ltr">I don&#39;t think a ticket or PR was filed for this. I was able to reproduce on a Power8 machine, and filed the issue below:<div>  <a href="https://github.com/open-mpi/ompi/issues/1854">https://github.com/open-mpi/ompi/issues/1854</a></div><div><br></div><div>Nathan I added you to the ticket since it sounded like you had an idea where the problem was.</div></div><div class="gmail_extra"><br><div class="gmail_quote">On Thu, Jul 7, 2016 at 12:48 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Josh,<div><br></div><div>Big-endian Power7:</div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font face="monospace, monospace">$ xlc -qversion</font></div><div><font face="monospace, monospace">IBM XL C/C++ for Linux, V13.1</font></div><div><font face="monospace, monospace">Version: 13.01.0000.0000</font></div><div><font face="monospace, monospace"><br></font></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font face="monospace, monospace">$ export OBJECT_MODE=64</font></div></blockquote><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><font face="monospace, monospace">$ [...]/configure -prefix=[....] --enable-debug \</font></div><div><font face="monospace, monospace">       CC=xlc  CFLAGS=&quot;-q64&quot;   --with-wrapper-cflags=&quot;-q64&quot;   \</font></div><div><div><font face="monospace, monospace">       CXX=xlC CXXFLAGS=&quot;-q64&quot; --with-wrapper-cxxflags=&quot;-q64&quot; \ </font></div></div><div><div><font face="monospace, monospace">       FC=xlf  FCFLAGS=&quot;-q64&quot;  --with-wrapper-fcflags=&quot;-q64&quot;  \</font></div></div><div><div><font face="monospace, monospace">      --disable-oshmem-fortran --with-hwloc=$HOME/hwloc-1.11.3</font></div></div></blockquote><div><br></div><div>Note the --with-hwloc is there because this is the xlc version that was crashing building the embedded hwloc.</div><div>Am retesting now without that flag, but don&#39;t expect it has any relation to the SEGV in the patcher code.</div><div><br></div><div>Little-endian Power8:</div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div><font face="monospace, monospace">$ xlc -qversion</font></div></div><div><div><font face="monospace, monospace">IBM XL C/C++ for Linux, V13.1.2 (5725-C73, 5765-J08)</font></div></div><div><div><font face="monospace, monospace">Version: 13.01.0002.0000</font></div></div><div><font face="monospace, monospace"><br></font></div><div><div><font face="monospace, monospace">$ [...]/configure -prefix=[....] --enable-debug \</font></div><div><font face="monospace, monospace">       CC=xlc CXX=xlC FC=xlf --disable-mpi-fortran</font></div></div></blockquote><div><br></div><div>There is no xlf installation on this system.</div><div><br></div><div>-Paul</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div class="h5">On Thu, Jul 7, 2016 at 8:39 AM, Josh Hursey <span dir="ltr">&lt;<a href="mailto:jjhursey@open-mpi.org" target="_blank">jjhursey@open-mpi.org</a>&gt;</span> wrote:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr">Paul,<div><br></div><div>What was the configure string you used for this?</div><div><br></div><div>We have a Jenkins CI mechanism for XL, but it is using XLC 13.1.3 on that system and we haven&#39;t been runing &#39;make check&#39;. I have another system that has XLC 13.1.2 that I can test on as well. I&#39;m not sure if I&#39;ll be able to fix without Nathan&#39;s help, but I can at least try to reproduce.</div><div><br></div><div>Thanks,</div><div>Josh</div><div><br></div></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div>On Wed, Jul 6, 2016 at 4:58 PM, Paul Hargrove <span dir="ltr">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank">phhargrove@lbl.gov</a>&gt;</span> wrote:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div><div dir="ltr">The issue reported in <a href="https://www.open-mpi.org/community/lists/devel/2016/06/19107.php" target="_blank">https://www.open-mpi.org/community/lists/devel/2016/06/19107.php</a> is still present on both my little-endian Power8 and big-endian Power7 systems.<div>I know Nathan had been working on this, but I&#39;ve lost track of the issue and/or pr number(s).<span><font color="#888888"><br><div><br></div><div>-Paul<br><div><div><br></div>-- <br><div data-smartmail="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</div></div></font></span></div></div>
<br></div></div>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/07/19156.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/07/19156.php</a><br></blockquote></div><br></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org" target="_blank">devel@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/07/19163.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/07/19163.php</a><br></blockquote></div><span class=""><br><br clear="all"><div><br></div>-- <br><div data-smartmail="gmail_signature"><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank">+1-510-495-2352</a></div><div>Lawrence Berkeley National Laboratory     Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank">+1-510-486-6900</a></div></font></div></div></div>
</span></div>
<br>_______________________________________________<br>
devel mailing list<br>
<a href="mailto:devel@open-mpi.org">devel@open-mpi.org</a><br>
Subscription: <a href="https://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank">https://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2016/07/19164.php" rel="noreferrer" target="_blank">http://www.open-mpi.org/community/lists/devel/2016/07/19164.php</a><br></blockquote></div><br></div>

