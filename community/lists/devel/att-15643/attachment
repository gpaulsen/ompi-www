<div dir="ltr">The following is NOT a bug report.<div>This is just an observation that may deserve some text in the README.</div><div><br></div><div>I&#39;ve reported issues in the past with some Fortran compilers (mostly older XLC and PGI) which either cannot build the &quot;use mpi_f08&quot; module, or cannot correctly link to it (and sometimes this fails only if configured with --enable-debug).</div>
<div><br></div><div>Testing the OSHMEM Fortran bindings (enabled by default on Linux) I have found several compilers which fail to link the examples (hello_oshmemfh and ring_oshmemfh).  I reported one specific instance (with xlc-11/xlf-13) back in February: <a href="http://www.open-mpi.org/community/lists/devel/2014/02/14057.php">http://www.open-mpi.org/community/lists/devel/2014/02/14057.php</a></div>
<div><br></div><div>So far I have these failures only on platforms where the Fortran compiler is *known* to be broken for the MPI f90 and/or f08 bindings.  Specifically, all the failing platforms are ones on which either:</div>
<div><div>+ Configure determines (without my help) that FC cannot build the F90 and/or F08 modules.</div></div><div>OR</div><div>+ I must pass --enable-mpi-fortran=usempi or --enable-mpi-fortran=mpifh for cases configure cannot detect.</div>
<div><br></div><div>So, I do *not* believe there is anything wrong with the OSHMEM code, which is why I started this post with &quot;The following is NOT a bug report&quot;.  However, I have two recommendations to make:</div>
<div><br></div><div>1) Documentation</div><div><br></div><div>The README says just:</div><div><br></div><div><div>--disable-oshmem-fortran</div><div>  Disable building only the Fortran OSHMEM bindings.</div><div><br></div>
<div>So, I recommend adding a sentence there referencing the &quot;Compiler Notes&quot; section of the README which has details on some known bad Fortran compilers.</div><div><br></div><div>2) Configure: </div><div><br></div>
<div>As I noted above, at least some of the failures are on platforms where configure has determined it cannot build the f08 MPI bindings.  So, maybe there is something that could be done at configure time to disqualify some Fortran compilers from building the OSHMEM fotran bindings, too.</div>
<div><br></div><div>-Paul</div><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div><div>
Future Technologies Group</div><div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div>

