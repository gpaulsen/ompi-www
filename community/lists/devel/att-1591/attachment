<HTML><BODY style="word-wrap: break-word; -khtml-nbsp-mode: space; -khtml-line-break: after-white-space; "><DIV><DIV>On May 28, 2007, at 10:59 AM, Jack Howarth wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite"><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><SPAN class="Apple-converted-space">   </SPAN>On MacOS X, the current v1.1.5 and v1.2.2 sources for openmpi</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">create shared libraries with undefined environ symbols. This</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">problem on MacOS X and the available workarounds are discussed</DIV><DIV style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">on the fink wiki section on Porting Notes...</DIV></BLOCKQUOTE></DIV><BR><DIV>I understand the problem, but am curious how you are running into it.  Open MPI's shared libraries are built with a flat namespace and undefined errors suppressed.  An application will always have environ defined, so this could only happen when linking a dynamic library against the Open MPI libraries.  When testing this, however, I wasn't able to have create a situation where the linker complained that environ wasn't defined unless the new (MPI-using) library also included environ.  Do you have an example where Open MPI using environ causes problems?  If so, could you send the link command and output from this error?  Or even better, a test case?</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>While I agree that long term this wouldn't be a bad thing to fix, I really hate making OS-specific hacks in the Open MPI source code if we don't absolutely have to.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Thanks,</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Brian</DIV><BR><DIV><SPAN class="Apple-style-span" style="border-collapse: separate; border-spacing: 0px 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-align: auto; -khtml-text-decorations-in-effect: none; text-indent: 0px; -apple-text-size-adjust: auto; text-transform: none; orphans: 2; white-space: normal; widows: 2; word-spacing: 0px; "><DIV>-- </DIV><DIV>  Brian W. Barrett</DIV><DIV>  Open MPI Team, CCS-1</DIV><DIV>  Los Alamos National Laboratory</DIV><BR class="Apple-interchange-newline"></SPAN> </DIV><BR></BODY></HTML>
