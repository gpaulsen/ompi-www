<html><head><meta http-equiv="Content-Type" content="text/html charset=windows-1252"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">No need - looks like I just need to fail faster and add this possibility to the error message.<div class=""><br class=""></div><div class="">Thanks!</div><div class=""><br class=""><div class=""><br class=""><div><blockquote type="cite" class=""><div class="">On Nov 25, 2014, at 4:50 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class="">Ralph,<div class=""><br class=""></div><div class="">I had a look at the problem via "mpirun -np 1 strace -o trace -ff ./hello"</div><div class="">I find that there is an attempt (by a secondary thread) to establish a TCP socket from the rank process to the eth0 address of localhost (I am guessing to reach the orted/mpirun).</div><div class="">However, when the "lo" interface is down, the Linux kernel apparently cannot establish that socket.</div><div class=""><br class=""></div><div class="">In fact, if I am sufficiently patient, it turns out the "hang" is bounded, and eventually one sees:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">phargrov@blcr-armv7:~$ time mpirun -np 1 ./a.out</font></div><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div><div class=""><font face="monospace" class="">A process or daemon was unable to complete a TCP connection</font></div><div class=""><font face="monospace" class="">to another process:</font></div><div class=""><font face="monospace" class="">&nbsp; Local host: &nbsp; &nbsp;blcr-armv7</font></div><div class=""><font face="monospace" class="">&nbsp; Remote host: &nbsp; 10.0.2.15</font></div><div class=""><font face="monospace" class="">This is usually caused by a firewall on the remote host. Please</font></div><div class=""><font face="monospace" class="">check that any firewall (e.g., iptables) has been disabled and</font></div><div class=""><font face="monospace" class="">try again.</font></div><div class=""><font face="monospace" class="">------------------------------------------------------------</font></div><div class=""><font face="monospace" class=""><br class=""></font></div><div class=""><font face="monospace" class="">real &nbsp; &nbsp;2m8.151s</font></div><div class=""><font face="monospace" class="">user &nbsp; &nbsp;0m5.360s</font></div><div class=""><font face="monospace" class="">sys &nbsp; &nbsp; 0m57.430s</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">Where blcr-armv7 and 10.0.2.15 are *both* the local (only) host.</div><div class=""><br class=""></div><div class="">There is no firewall, but in case you doubt me on that, here is a demonstration using ping to show that 10.0.2.15 is only reachable when the loopback interface is enabled:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace" class="">phargrov@blcr-armv7:~$ sudo ifconfig lo <span style="background-color:rgb(255,255,0)" class="">up</span></font></div><div class=""><font face="monospace" class="">phargrov@blcr-armv7:~$ ping -q -c2 10.0.2.15</font></div><div class=""><font face="monospace" class="">PING 10.0.2.15 (10.0.2.15) 56(84) bytes of data.</font></div><div class=""><font face="monospace" class=""><br class=""></font></div><div class=""><font face="monospace" class="">--- 10.0.2.15 ping statistics ---</font></div><div class=""><font face="monospace" class="">2 packets transmitted, 2 received, <span style="background-color:rgb(255,255,0)" class="">0% packet loss</span>, time 1002ms</font></div><div class=""><font face="monospace" class="">rtt min/avg/max/mdev = 0.527/0.534/0.542/0.024 ms</font></div><div class=""><br class=""></div><div class=""><br class=""></div><div class=""><font face="monospace" class="">phargrov@blcr-armv7:~$ sudo ifconfig lo <span style="background-color:rgb(255,255,0)" class="">down</span></font></div><div class=""><font face="monospace" class="">phargrov@blcr-armv7:~$ ping -q -c2 10.0.2.15</font></div><div class=""><font face="monospace" class="">PING 10.0.2.15 (10.0.2.15) 56(84) bytes of data.</font></div><div class=""><font face="monospace" class=""><br class=""></font></div><div class=""><font face="monospace" class="">--- 10.0.2.15 ping statistics ---</font></div><div class=""><font face="monospace" class="">2 packets transmitted, 0 received, <span style="background-color:rgb(255,255,0)" class="">100% packet loss</span>, time 1006ms</font></div></div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">So, there is no "hang" -- just a 2 minute pause before the error message is generated.</div><div class="">However, it may still be possible to present a better/earlier error message when there is no loopback interface (and at least one rank process is to be launched locally).</div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 4:19 PM, Ralph Castain <span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word" class="">I’ll have to look - there isn’t supposed to be such a requirement, and I certainly haven’t seen it before.<div class=""><br class=""></div><div class=""><br class=""><div class=""><blockquote type="cite" class=""><div class=""><div class="h5"><div class="">On Nov 25, 2014, at 3:26 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class=""></div></div><div class=""><div class=""><div class="h5"><div dir="ltr" class="">Allan,<div class=""><br class=""></div><div class="">I am glad things are working for you now.</div><div class="">I can confirm (on a QEMU-emulated Versatile Express A9 board running Ubuntu 14.04) that disabling the "lo" interface reproduces the problem.</div><div class="">I imagine this is true on other architectures, though I did not attempt to verify.</div><div class=""><br class=""></div><div class="">Ralph,</div><div class=""><br class=""></div><div class="">If oob:tcp really does need the loopback interface, shouldn't its lack be something that could/should be detected and reported instead of hanging as Allan saw?</div><div class=""><br class=""></div><div class="">FWIW, neither of the following resolved the problem:</div><div class="">&nbsp; &nbsp;&nbsp;-mca oob_tcp_if_exclude lo</div><div class="">&nbsp; &nbsp;&nbsp;-mca oob_tcp_if_include eth0</div><div class=""><br class=""></div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 2:58 PM, Allan Wu <span dir="ltr" class="">&lt;<a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr" class=""><font face="arial, helvetica, sans-serif" class="">I think I have found the problem. After inspecting the output with<span class=""><div class="gmail_default" style="font-size:small;display:inline">&nbsp;</div>"-mca state_base_verbose 10 -mca odls_base_verbose 10 -mca oob_base_verbose 10</span><div class="gmail_default" style="font-size:small;display:inline">0</div>"<div class="gmail_default" style="font-size:small;display:inline">&nbsp;</div>on both the old system and the new system, I noticed there is one line<div class="gmail_default" style="font-size:small;display:inline">&nbsp;</div>that is<div class="gmail_default" style="font-size:small;display:inline">&nbsp;</div>different<div class="gmail_default" style="font-size:small;display:inline">:</div>&nbsp;<div class="gmail_default" style="font-size:small;display:inline">o</div>n the old system where it works correctly, there is a line that says: "oob:tcp:init rejecting loopback interface lo"<div class="gmail_default" style="font-size:small;display:inline">,&nbsp;</div>while<div class="gmail_default" style="font-size:small;display:inline"> </div>on the new system there is no such line. Both system proceed to open interface eth0 afterwards. Then I checked the new system, and found out that somehow the loopback interface is not up by default. After I opened the lo interface, the mpirun executes normally.<br class=""><br class="">Does it means that OpenMPI will use lo for some initial setup? Since the actual socket was created on eth0 I did not think of checking the lo interface. Anyway, thanks everyone for all of your kind help. Let me know if you want me to provide any more information for future references. <br class=""><br class="">Regards,<br class="">Allan</font></div><div class="gmail_extra"><span class=""><br clear="all" class=""><div class=""><div class=""><div dir="ltr" class="">--<br class="">Di Wu (Allan)<br class="">PhD student,&nbsp;<a href="http://vast.cs.ucla.edu/" target="_blank" class="">VAST&nbsp;Laboratory</a>,<br class="">Department of Computer Science, UC Los Angeles<br class="">Email: <a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a><br class=""></div></div></div>
<br class=""></span><div class=""><div class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 11:55 AM, Allan Wu <span dir="ltr" class="">&lt;<a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr" class="">Thanks Ralph!<br class=""><br class="">I did not compile my openmpi with --enable-debug, and I am compiling it now. But your suggested command already provide<div class="gmail_default" style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline">d</div> some output, which I attached with this email. <br class=""><br class="">It seems the process was stuck on the line:<br class="">"[fpga2:00962] [[44848,1],0] waiting for connect completion to [[44848,0],0] - activating send event"<br class=""><br class="">Then it got stuck and I CTRL+C'ed it. Previous to that line, it said something about 'orte_tcp_peer_try_connect: attempting to connect to proc [[44848,0],0] via interface eth0'<div class="gmail_default" style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline">.</div><br class=""><br class="">Regards,<br class="">Di<br class=""><div class=""><br class="">On Tue, Nov 25, 2014 at 2:25 PM, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt; wrote:<div class="gmail_extra"><div class="gmail_quote"><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr" class=""><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><div class="gmail_default" style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline"></div><span style="font-family:verdana,arial,helvetica;font-size:12px" class="">This is all running on a single node, correct? If so, did you configure OMPI with â€”enable-debug?&nbsp;</span></div><p style="font-family:verdana,arial,helvetica;font-size:12px" class="">If you can do that, or already have, then letâ€™s add the following to the mpirun cmd line:&nbsp;<br class=""></p><p style="font-family:verdana,arial,helvetica;font-size:12px" class="">-mca state_base_verbose 10 -mca odls_base_verbose 10 -mca oob_base_verbose 10&nbsp;<br class=""></p><p style="font-family:verdana,arial,helvetica;font-size:12px" class="">Youâ€™ll get a bunch of output, but hopefully it will tell us where mpirun is encountering a problem.&nbsp;<br class="">Ralph&nbsp;</p></div><div class=""><div class=""><div class="gmail_extra"><div class=""><div class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 11:20 AM, Paul Hargrove <span dir="ltr" class="">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr" class="">Allan,<div class=""><br class=""></div><div class="">If you send me the .config from your build of the kernel I can compare it against, for instance, my .config for a Raspberry Pi.</div><div class="">There will certainly be many differences, but I am hoping my own experience configuring linux kernels will help me filter the "noise" from any differences that might be significant.</div><span class=""><font color="#888888" class=""><div class=""><br class=""></div><div class="">-Paul</div></font></span></div><div class=""><div class=""><div class="gmail_extra"><br class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 11:11 AM, Allan Wu <span dir="ltr" class="">&lt;<a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr" class=""><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">Thanks Paul! Unfortunately '/boot' is not available in my embedded linux, and I do not have the configuration file for the old kernel since it is provided as is. However, I have the new kernel configuration since I compiled it myself. Would it be helpful if I provide you the .config file when I compile the kernel? It maybe quite painful to look through that file though. Is there any other way that I can obtain the configuration?&nbsp;</div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><br class=""></div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">I checked my config for the new kernel, and UNIX-domain sockets and Sys V IPC are both enabled in the build. Are there any other possibilities I can check?</div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><br class=""></div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">Thanks,</div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">Di</div></div><div class="gmail_extra"><span class=""><br clear="all" class=""><div class=""><div class=""><div dir="ltr" class="">--<br class="">Di Wu (Allan)<br class="">PhD student,&nbsp;<a href="http://vast.cs.ucla.edu/" target="_blank" class="">VAST&nbsp;Laboratory</a>,<br class="">Department of Computer Science, UC Los Angeles<br class="">Email: <a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a><br class=""></div></div></div>
<br class=""></span><div class=""><div class=""><div class="gmail_quote">On Tue, Nov 25, 2014 at 10:45 AM, Paul Hargrove <span dir="ltr" class="">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr" class="">Allan,<div class=""><br class=""></div><div class="">A likely possibility is that some important kernel feature (that Open MPI assumes is present) is missing.</div><div class="">That includes not only "kernel modules" as you mention, but also features configure in (or out) of the base kernel.</div><div class="">For instance, some embedded kernels omit UNIX-domain sockets and SysV IPC support.</div><div class=""><br class=""></div><div class="">If you can send me (preferably off-list) the kernel config files for the old an new kernels I may be able to spot something.</div><div class="">If present, you are looking for /boot/config-[VERSION]</div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><br class=""><div class="gmail_quote"><div class=""><div class="">On Tue, Nov 25, 2014 at 10:25 AM, Allan Wu <span dir="ltr" class="">&lt;<a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a>&gt;</span> wrote:<br class=""></div></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div class=""><div class=""><div dir="ltr" class=""><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">I'm sorry I forgot to change the subject when I reply to the digest issue. Please find my original email below.&nbsp;</div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><br class=""></div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">Regards,</div><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class="">Di</div><div class="gmail_extra"><div class=""><div class=""><div dir="ltr" class=""><br class=""></div></div></div><div class="gmail_quote">On Tue, Nov 25, 2014 at 10:19 AM, Allan Wu <span dir="ltr" class="">&lt;<a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a>&gt;</span> wrote:<br class=""><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div dir="ltr" class=""><div style="font-size:small" class=""><font face="arial, helvetica, sans-serif" class="">Thanks Ralph for the reply. Sorry about the log file, I think I forgot to put an extension to the file. Please find a new one attached with this email.&nbsp;</font></div><div class="gmail_extra"><font face="arial, helvetica, sans-serif" class=""><br class=""></font></div><div class="gmail_extra"><div style="font-size:small" class=""><font face="arial, helvetica, sans-serif" class="">I'm sorry for not enough debugging information, but 'omp_info' and '--debug-devel' are the only ways I know for collecting information, are there any other things I can try to provide more info?</font></div><div style="font-size:small" class=""><font face="arial, helvetica, sans-serif" class=""><br class=""></font></div><div style="font-size:small" class=""><font face="arial, helvetica, sans-serif" class="">When I execute 'mpirun --debug-devel -np 1 ./helloworld', all the output is the logging information in my last email. It got stuck at&nbsp;<div style="display:inline" class=""></div><span style="font-size:12.7272720336914px" class="">&nbsp;"[fpga1:00718] tmp: /tmp", and nothing from my helloworld program is printed out to the screen. So I think it is mpirun failing to start my executable, not failing to terminate.</span></font></div><div style="font-size:small" class=""><span style="font-size:12.7272720336914px" class=""><font face="arial, helvetica, sans-serif" class=""><br class=""></font></span></div><div style="font-size:small" class=""><span style="font-size:12.7272720336914px" class=""><font face="arial, helvetica, sans-serif" class="">I was wondering if this has anything to do with my newer kernel version, since it works well in the old case.&nbsp;</font></span></div><div style="font-size:small" class=""><span style="font-size:12.7272720336914px" class=""><font face="arial, helvetica, sans-serif" class=""><br class=""></font></span></div><div style="font-size:small" class=""><span style="font-size:12.7272720336914px" class=""><font face="arial, helvetica, sans-serif" class="">Thanks,</font></span></div><span class=""><div class=""><div class=""><div dir="ltr" class="">--<br class="">Di Wu (Allan)<br class="">PhD student,&nbsp;<a href="http://vast.cs.ucla.edu/" target="_blank" class="">VAST&nbsp;Laboratory</a>,<span class=""><br class="">Department of Computer Science, UC Los Angeles<br class="">Email: <a href="mailto:allwu@cs.ucla.edu" target="_blank" class="">allwu@cs.ucla.edu</a><br class=""></span></div></div></div>
<div class="gmail_extra"><br class=""></div></span><div class=""><div class=""><br class=""><div class="gmail_quote"><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">Date: Tue, 25 Nov 2014 07:29:51 -0800</span></div><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">From: <div style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline" class=""></div><div style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline" class=""></div>Ralph Castain &lt;</span><a href="mailto:rhc@open-mpi.org" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">rhc@open-mpi.org</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">To: Open MPI Developers &lt;</span><a href="mailto:devel@open-mpi.org" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">devel@open-mpi.org</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">Subject: Re: [OMPI devel] OpenMPI v1.8 and v1.8.3 mpirun hangs at</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&nbsp; &nbsp; &nbsp; &nbsp; execution&nbsp; &nbsp; &nbsp; &nbsp;on an embedded ARM Linux kernel version 3.15.0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">Message-ID: &lt;</span><a href="mailto:898CB117-F6A6-4569-89C3-49B75D65B314@open-mpi.org" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">898CB117-F6A6-4569-89C3-49B75D65B314@open-mpi.org</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">Content-Type: text/plain; charset="utf-8"</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">I don?t know what you put in that log file, but it was an executable and I?m not feeling that trusting :-)</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">I?m afraid there isn?t enough debug output there to really tell anything. From what little I can see, I?m guessing that the application ran fine and you got the usual ?hello? output and the helloworld process exited safely - is that correct? And so it is solely mpirun that is failing to cleanly terminate?</span><span class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; On Nov 24, 2014, at 11:24 PM, Allan Wu &lt;</span><a href="mailto:allwu@cs.ucla.edu" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">allwu@cs.ucla.edu</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; wrote:</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Hello everyone,</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""></span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; I have cross-compiled OpenMPI for an embedded ARM Linux. Everything works fine for my system based on Linux 3.8.0. I have previously submitted a post related to my compilation, which can be found here:&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/04/14440.php" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/04/14440.php</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&nbsp;&lt;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/04/14440.php" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/04/14440.php</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;. When I recently upgraded my Linux kernel to 3.15.0, mpirun begins to stuck at even the helloworld program. The program consists only simple APIs: MPI_Init, MPI_Comm_size, MPI_Comm_rank, MPI_Finalize. The problem occurs even at 'mpirun -np 1 ./helloworld', and below are the output with --debug-devel (before it got stuck):</span><span class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00716] sess_dir_finalize: job session dir not empty - leaving</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00716] procdir: /tmp/openmpi-sessions-root@</span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">fpga1_0/63813/0/0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00716] jobdir: /tmp/openmpi-sessions-root@</span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">fpga1_0/63813/0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00716] top: openmpi-sessions-root@fpga1_0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00716] tmp: /tmp</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00718] procdir: /tmp/openmpi-sessions-root@</span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">fpga1_0/63813/1/0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00718] jobdir: /tmp/openmpi-sessions-root@</span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">fpga1_0/63813/1</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; [fpga1:00718] top: openmpi-sessions-root@fpga1_0</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;<div style="font-family:'trebuchet ms',sans-serif;font-size:small;display:inline" class=""></div> [fpga1:00718] tmp: /tmp</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; I suspect maybe it is due to incompatible kernel version or some missing kernel modules. I tried also with the latest version 1.8.3, and had the same problem. Does anyone have any thoughts? I have attached the output of 'ompi-info --all' with this email.</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Please let me know if I need to provide more information. Thanks in advance!</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Regards,</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; --</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Di Wu (Allan)</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""></span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; PhD student, VAST?Laboratory &lt;</span><a href="http://vast.cs.ucla.edu/" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">http://vast.cs.ucla.edu/</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;,</span><span class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Department of Computer Science, UC Los Angeles</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""></span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Email:&nbsp;</span><a href="mailto:allwu@cs.ucla.edu" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">allwu@cs.ucla.edu</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&nbsp;&lt;mailto:</span><a href="mailto:allwu@cs.ucla.edu" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">allwu@cs.ucla.edu</a><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;</span><span class=""><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; &lt;log.tar.gz&gt;__________________</span><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">_____________________________</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; devel mailing list</span><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt;&nbsp;</span><a href="mailto:devel@open-mpi.org" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">devel@open-mpi.org</a><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><span style="font-family:arial,sans-serif;font-size:12.7272720336914px" class="">&gt; Subscription:&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="font-family:arial,sans-serif;font-size:12.7272720336914px" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br style="font-family:arial,sans-serif;font-size:12.7272720336914px" class=""><div style="font-family:'trebuchet ms',sans-serif;font-size:small" class=""><span style="font-size:12.7272720336914px;font-family:arial,sans-serif" class="">&gt; Link to this post:&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2014/11/16330.php" style="font-size:12.7272720336914px;font-family:arial,sans-serif" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16330.php</a></div><br class=""></span></div></div></div></div></div>
</blockquote></div><br class=""></div></div>
<br class="">_______________________________________________<br class="">
devel mailing list<br class="">
<a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class=""></div></div>
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16341.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16341.php</a><span class=""><font color="#888888" class=""><br class=""></font></span></blockquote></div><span class=""><font color="#888888" class=""><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div>
</font></span></div>
</blockquote></div><br class=""></div></div></div>
</blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div>
</div>
</div></div></blockquote></div><br class=""></div></div></div>
</div></div></blockquote></div><br class=""></div></div></div>
</blockquote></div><br class=""></div></div></div>
<br class="">_______________________________________________<br class="">
devel mailing list<br class="">
<a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16348.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16348.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: <a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: <a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div>
</div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class=""></div></div>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16349.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16349.php</a></div></blockquote></div><br class=""></div></div><br class="">_______________________________________________<br class="">
devel mailing list<br class="">
<a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">
Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">
Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2014/11/16350.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2014/11/16350.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>-- <br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div>
</div>
_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" class="">devel@open-mpi.org</a><br class="">Subscription: http://www.open-mpi.org/mailman/listinfo.cgi/devel<br class="">Link to this post: http://www.open-mpi.org/community/lists/devel/2014/11/16351.php</div></blockquote></div><br class=""></div></div></body></html>
