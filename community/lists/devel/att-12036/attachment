<br><div class="gmail_quote">On Mon, Jan 28, 2013 at 12:14 PM, Barrett, Brian W <span dir="ltr">&lt;<a href="mailto:bwbarre@sandia.gov" target="_blank">bwbarre@sandia.gov</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">

<div style="font-size:14px;font-family:Calibri,sans-serif;word-wrap:break-word"><div><span><div><div>On 1/28/13 11:54 AM, &quot;David Beer&quot; &lt;<a href="mailto:dbeer@adaptivecomputing.com" target="_blank">dbeer@adaptivecomputing.com</a>&gt; wrote:</div>

</div><div><br></div><blockquote style="BORDER-LEFT:#b5c4df 5 solid;PADDING:0 0 0 5;MARGIN:0 0 0 5"><div><div><div class="gmail_quote"><div><div><div>checking for tm_init in -ltorque... no</div><div>configure: error: TM support requested but not found.  Aborting</div>

</div></div><div><br></div><div>Oddly enough, if you have already configured with an older version of TORQUE, you can build open-mpi with TORQUE 4.2 installed, so it can find the function definitions when compiling, its just for some reason it doesn&#39;t find them in the configure script.
 This is why I think that something in the configure script is assuming that libtorque was compiled with gcc.</div></div></div></div></blockquote></span><div><br></div></div><div>Right, the configure output to stdout/stderr isn&#39;t very useful in diagnosing why a test failed.  The config.log file generated by configure will have much more information.</div>

</div></blockquote><div><br></div><div>All,</div><div><br></div><div>Thanks for your help. I found a way to resolve this by changing OpenMPI&#39;s configure script, but then someone who knows a bit more about these things showed me that we can solve this by defining some more things on our end, namely adding:</div>
<div><br></div><div><div>+LT_LANG([C++])</div><div>+AC_SUBST([LIBTOOL_DEPS])</div></div><div><br></div><div>and </div><div><br></div><div><div>+CCLD=&quot;$CXX&quot;</div><div>+AC_SUBST([CCLD])</div><div>+LIBTOOLFLAGS=&quot;--tag=CXX&quot;</div>
<div>+AC_SUBST([LIBTOOLFLAGS])</div></div><div><br></div><div>to our <a href="http://configure.ac">configure.ac</a> and </div><div><br></div><div><div>+LIBTOOL_DEPS = @LIBTOOL_DEPS@</div><div>+libtool: $(LIBTOOL_DEPS)</div>
<div>+ $(SHELL) ./config.status --recheck</div></div><div><br></div><div>to our Makefile.am. I&#39;m going to try to look some things up and see why this makes a difference, but I&#39;m guessing that we previously had an incomplete definition that confused OpenMPI&#39;s configure script. Thanks for all of your help and I&#39;m glad we could resolve this by fixing TORQUE.</div>
<div><br></div></div>-- <br><div>David Beer | Senior Software Engineer</div>
<div>Adaptive Computing</div>

