<div><div class="gmail_quote"><meta http-equiv="content-type" content="text/html; charset=utf-8">Thanks Ralph for your reply.</div><div class="gmail_quote"><br></div><div class="gmail_quote">2011/3/21 Ralph Castain <span dir="ltr">&lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt;</span><br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;"><div style="word-wrap:break-word">You should never access a pointer array&#39;s data area that way (i.e., by index against the raw data). You really should do:<div>
<br></div><div>if (NULL == (proc = (orte_proc_t*)opal_pointer_array_get_item(jdata-&gt;procs, vpid))) {</div><div>      /* error report */</div><div>}</div><div><br></div></div></blockquote><div><br></div><div><meta http-equiv="content-type" content="text/html; charset=utf-8"><div>
About this, i&#39;ve changed this in my code but i&#39;m getting the same result. Null when asking about a dead process.<br></div></div><div> </div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">
<div style="word-wrap:break-word"><div></div><div>The errmgr generally doesn&#39;t remove a process object upon failure - it just sets its state to some appropriate value. However, depending upon where you are trying to do this, and the history that got you down this code path, it is possible.</div>
</div></blockquote><div><br></div><div>I&#39;m writing this code into the errmgr_orted.c, and it is executed when a process fails. </div><div> </div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">
<div style="word-wrap:break-word"><div><br></div><div>Also, remember that if you are in a daemon, then the jdata objects are not populated. The daemons work exclusively from the orte_local_jobdata and orte_local_children lists, so you would have to find your process there.</div>
</div></blockquote><div><br></div><div>That&#39;s why i&#39;m asking to the hnp about the jdata using <span class="Apple-style-span" style="border-collapse: collapse; font-family: arial, sans-serif; font-size: 13px; "><b>ORTE_DAEMON_REPORT_JOB_INFO_CMD</b>, i assume that he has the information about the dead process.</span></div>
<div><span class="Apple-style-span" style="border-collapse: collapse; font-family: arial, sans-serif; font-size: 13px; "><br></span></div><div><span class="Apple-style-span" style="border-collapse: collapse; font-family: arial, sans-serif; font-size: 13px; ">Any idea?</span></div>
<div><font class="Apple-style-span" face="arial, sans-serif"><span class="Apple-style-span" style="border-collapse: collapse;"><br></span></font></div><div><font class="Apple-style-span" face="arial, sans-serif"><span class="Apple-style-span" style="border-collapse: collapse;">Best regards.</span></font></div>
<div><font class="Apple-style-span" face="arial, sans-serif"><span class="Apple-style-span" style="border-collapse: collapse;"><br></span></font></div><div><font class="Apple-style-span" face="arial, sans-serif"><span class="Apple-style-span" style="border-collapse: collapse;">Hugo Meyer</span></font></div>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></div></div>

