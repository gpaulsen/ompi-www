<div dir="ltr">I am testing Wednesday (Jan 29) night&#39;s trunk tarball (1.9a1r30495) on an SGI UV system.<div>Apologies if this has been fixed since then.</div><div><br><div>When I run &quot;make&quot; in the examples directory I find that the C and Fortran MPI examples link fine, but the Open SHMEM examples do not:</div>
<div><br></div><div><font face="courier new, monospace">$ make</font></div><div><div><font face="courier new, monospace">mpicc -g    hello_c.c   -o hello_c</font></div><div><font face="courier new, monospace">mpicc -g    ring_c.c   -o ring_c</font></div>
<div><font face="courier new, monospace">mpicc -g    connectivity_c.c   -o connectivity_c</font></div><div><font face="courier new, monospace">make[1]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[2]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div><div><font face="courier new, monospace">mpifort -g hello_mpifh.f -o hello_mpifh</font></div>
<div><font face="courier new, monospace">mpifort -g ring_mpifh.f -o ring_mpifh</font></div><div><font face="courier new, monospace">make[2]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[2]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div><div><font face="courier new, monospace">mpifort -g hello_usempi.f90 -o hello_usempi</font></div>
<div><font face="courier new, monospace">mpifort -g ring_usempi.f90 -o ring_usempi</font></div><div><font face="courier new, monospace">make[2]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[1]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div><div><font face="courier new, monospace">make[1]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[2]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div><div><font face="courier new, monospace">shmemcc -g hello_oshmem_c.c -o hello_oshmem</font></div>
<div><font face="courier new, monospace">/usr/lib64/gcc/x86_64-suse-linux/4.3/../../../../x86_64-suse-linux/bin/ld: cannot find -ltorque</font></div><div><font face="courier new, monospace">collect2: ld returned 1 exit status</font></div>
<div><font face="courier new, monospace">make[2]: *** [hello_oshmem] Error 1</font></div><div><font face="courier new, monospace">make[2]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[2]: Entering directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div><div><font face="courier new, monospace">shmemcc -g ring_oshmem_c.c -o ring_oshmem</font></div>
<div><font face="courier new, monospace">/usr/lib64/gcc/x86_64-suse-linux/4.3/../../../../x86_64-suse-linux/bin/ld: cannot find -ltorque</font></div><div><font face="courier new, monospace">collect2: ld returned 1 exit status</font></div>
<div><font face="courier new, monospace">make[2]: *** [ring_oshmem] Error 1</font></div><div><font face="courier new, monospace">make[2]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make[1]: *** [oshmem] Error 2</font></div><div><font face="courier new, monospace">make[1]: Leaving directory `/brashear/hargrove/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/BLD/examples&#39;</font></div>
<div><font face="courier new, monospace">make: *** [all] Error 2</font></div></div><div><br></div><div>Comparing the --show outputs (below) there are MANY more explicit -l options for oshcc than mpicc.</div><div>The torque lib directory appears in both commands as:</div>
<div><font face="courier new, monospace">   -Wl,-rpath -Wl,/usr/local/packages/torque/2.3.13_psc/lib </font></div><div><br></div><div><div><font face="courier new, monospace">$ mpicc --show -g hello_c.c</font></div><div><font face="courier new, monospace">gcc -g hello_c.c -I/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/include -pthread -Wl,-rpath -Wl,/usr/local/packages/torque/2.3.13_psc/lib -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath -Wl,/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/lib -Wl,--enable-new-dtags -L/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/lib -lmpi</font></div>
<div><font face="courier new, monospace"><br></font></div><div><font face="courier new, monospace">$ shmemcc --show -g hello_oshmem.c</font></div><div><font face="courier new, monospace">gcc -std=gnu99 -g hello_oshmem.c -I/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/include -pthread -Wl,-rpath -Wl,/usr/local/packages/torque/2.3.13_psc/lib -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath -Wl,/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/lib -Wl,--enable-new-dtags -L/usr/users/6/hargrove/SCRATCH/OMPI/openmpi-trunk-linux-x86_64-uv-trunk/INST/lib -loshmem -lmpi -lopen-rte -lopen-pal -lm -lnuma -lpciaccess -ldl -ltorque -lxpmem -llustreapi -lrt -lnsl -lutil</font></div>
</div><div><br></div><div><br></div><div>-Paul<br clear="all"><div><br></div>-- <br><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="mailto:PHHargrove@lbl.gov" target="_blank">PHHargrove@lbl.gov</a></div>
<div>Future Technologies Group</div><div>Computer and Data Sciences Department     Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font>
</div></div></div>

