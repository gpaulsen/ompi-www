<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">Okay, I found the missing flags and added them. Please try rc5<div class=""><br class=""></div><div class=""><br class=""><div style=""><blockquote type="cite" class=""><div class="">On Aug 22, 2015, at 5:25 PM, Paul Hargrove &lt;<a href="mailto:phhargrove@lbl.gov" class="">phhargrove@lbl.gov</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">FWIW: master is OK with identical configure arguments.<div class="">-Paul</div></div><div class="gmail_extra" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br class=""><div class="gmail_quote">On Sat, Aug 22, 2015 at 4:33 PM, Paul Hargrove<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div dir="ltr" class="">Oops!&nbsp; I spoke too soon.<div class=""><br class=""></div><div class="">The configuration with "--with-libfabric=[path] --enable-static --disable-shared" is still causing problems.</div><div class="">Previously (<a href="http://www.open-mpi.org/community/lists/devel/2015/08/17752.php" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17752.php</a>) I was seeing a failure to link&nbsp;otfmerge-mpi during the build of Open MPI.</div><div class="">Now I am instead seeing the (essentially identical) linker errors when compiling the examples:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">$ mpicc -g &nbsp; &nbsp;hello_c.c &nbsp; -o hello_c</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `fi_allocinfo':/usr/common/ftg/libfabric/1.1.0/include/rdma/fabric.h:366: undefined reference to `fi_dupinfo'/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `ompi_mtl_ofi_component_init':</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:260: undefined reference to `fi_getinfo'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:267: undefined reference to `fi_strerror'/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:291: undefined reference to `fi_fabric'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:295: undefined reference to `fi_strerror'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:311: undefined reference to `fi_strerror'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:329: undefined reference to `fi_strerror'/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:350: undefined reference to `fi_strerror'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:363: undefined reference to `fi_strerror'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_compone</font></div><div class=""><font face="monospace, monospace" size="1" class="">nt.o):/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/</font></div><div class=""><font face="monospace, monospace" size="1" class="">mtl/ofi/mtl_ofi_component.c:376: more undefined references to `fi_strerror' follow</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi_component.o): In function `ompi_mtl_ofi_component_init':</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:407: undefined reference to `fi_freeinfo'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:409: undefined reference to `fi_freeinfo'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:418: undefined reference to `fi_strerror'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:457: undefined reference to `fi_freeinfo'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/openmpi-1.10.0rc4/ompi/mca/mtl/ofi/mtl_ofi_component.c:460: undefined reference to `fi_freeinfo'</font></div><div class=""><font face="monospace, monospace" size="1" class="">/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib/libmpi.a(mtl_ofi.o): In function `ompi_mtl_ofi_del_procs':</font></div></div><div class=""><font face="monospace, monospace" size="1" class="">[and many more]</font></div><div class=""><br class=""></div><div class="">Since this is certainly not my first rodeo, I'll jump right to the --show output:</div><div class=""><br class=""></div><div class=""><div class=""><font face="monospace, monospace" size="1" class="">$ mpicc --show -g hello_c.c -o hello_c'</font></div><div class=""><font face="monospace, monospace" size="1" class="">gcc -g hello_c.c -o hello_c -I/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/include -pthread -L/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -L/usr/common/ftg/ptl4/lib -Wl,-rpath -Wl,/usr/syscom/opt/torque/4.1.4/lib -Wl,-rpath -Wl,/usr/common/ftg/ptl4/lib -Wl,-rpath -Wl,/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib -Wl,--enable-new-dtags -L/global/homes/h/hargrove/GSCRATCH/OMPI/openmpi-1.10.0rc4-linux-x86_64-static/INST/lib -lmpi -lopen-rte -lopen-pal -lm -ldl -lrt -ltorque -libverbs -lportals -lrdmacm -lutil</font></div></div><div class=""><br class=""></div><div class="">I can send config.log and configure output off-list to whomever asks.</div><span class="HOEnZb"><font color="#888888" class=""><div class=""><br class=""></div><div class="">-Paul</div></font></span></div><div class="HOEnZb"><div class="h5"><div class="gmail_extra"><br class=""><div class="gmail_quote">On Sat, Aug 22, 2015 at 3:59 PM, Paul Hargrove<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:phhargrove@lbl.gov" target="_blank" class="">phhargrove@lbl.gov</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;"><div dir="ltr" class="">At this point I can confirm that all of my configurations that experienced failures with rc3 have passed with rc4.<div class="">I will report again after all tests have completed (likely on Sunday).</div><div class=""><br class=""></div><div class="">-Paul</div></div><div class="gmail_extra"><div class=""><div class=""><br class=""><div class="gmail_quote">On Sat, Aug 22, 2015 at 1:46 PM, Ralph Castain<span class="Apple-converted-space">&nbsp;</span><span dir="ltr" class="">&lt;<a href="mailto:rhc@open-mpi.org" target="_blank" class="">rhc@open-mpi.org</a>&gt;</span><span class="Apple-converted-space">&nbsp;</span>wrote:<br class=""><blockquote class="gmail_quote" style="margin: 0px 0px 0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, 204); border-left-style: solid; padding-left: 1ex;">Final release candidate for v1.10.0:<br class=""><br class=""><a href="http://www.open-mpi.org/software/ompi/v1.10/" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/software/ompi/v1.10/</a><br class=""><br class="">Please let me know immediately if you see a problem - scheduled for release after the Tues telecon<br class=""><br class="">Ralph<br class=""><br class="">_______________________________________________<br class="">devel mailing list<br class=""><a href="mailto:devel@open-mpi.org" target="_blank" class="">devel@open-mpi.org</a><br class="">Subscription:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span><a href="http://www.open-mpi.org/community/lists/devel/2015/08/17790.php" rel="noreferrer" target="_blank" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17790.php</a><br class=""></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div></div></div><span class=""><font color="#888888" class="">--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div></font></span></div></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class=""><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-495-2352" value="+15104952352" target="_blank" class="">+1-510-495-2352</a></div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax:<span class="Apple-converted-space">&nbsp;</span><a href="tel:%2B1-510-486-6900" value="+15104866900" target="_blank" class="">+1-510-486-6900</a></div></font></div></div></div></div></div></div></blockquote></div><br class=""><br clear="all" class=""><div class=""><br class=""></div>--<span class="Apple-converted-space">&nbsp;</span><br class=""><div class="gmail_signature"><div dir="ltr" class=""><div class=""><font face="courier new, monospace" class=""><div class="">Paul H. Hargrove &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="mailto:PHHargrove@lbl.gov" target="_blank" class="">PHHargrove@lbl.gov</a></div><div class="">Computer Languages &amp; Systems Software (CLaSS) Group</div><div class="">Computer Science Department &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tel: +1-510-495-2352</div><div class="">Lawrence Berkeley National Laboratory &nbsp; &nbsp; Fax: +1-510-486-6900</div></font></div></div></div></div><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">_______________________________________________</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">devel mailing list</span><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><a href="mailto:devel@open-mpi.org" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">devel@open-mpi.org</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Subscription:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class=""><span style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;" class="">Link to this post:<span class="Apple-converted-space">&nbsp;</span></span><a href="http://www.open-mpi.org/community/lists/devel/2015/08/17793.php" style="font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" class="">http://www.open-mpi.org/community/lists/devel/2015/08/17793.php</a></div></blockquote></div><br class=""></div></body></html>
