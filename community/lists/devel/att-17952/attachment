Ralph,<div><br></div><div>just to be clear, your proposal is to abort if openmpi is configured with --without-hwloc, right ?</div><div>( the --with-hwloc option is not removed because we want to keep the option of using an external hwloc library )</div><div><br></div><div>if I understand correctly, Paul&#39;s point is that if openmpi is ported to a new architecture for which hwloc has not been ported yet (embedded hwloc or external hwloc), then the very first step is to port hwloc before ompi can be built.</div><div><br></div><div>did I get it right Paul ?</div><div><br></div><div>Brice, what would happen in such a case ?</div><div>embedded hwloc cannot be built ?</div><div>hwloc returns little or no information ?</div><div><br></div><div>for example, on Fujitsu FX10 node (single socket, 16 cores), hwloc reports 16 sockets with one core each and no cache. though this is not correct, that can be seen as equivalent to the real config by ompi, so this is not really an issue for ompi.</div><div><br></div><div>Cheers,</div><div><br></div><div>Gilles<br><br>On Friday, September 4, 2015, Ralph Castain &lt;<a href="mailto:rhc@open-mpi.org">rhc@open-mpi.org</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="word-wrap:break-word">No - hwloc is embedded in OMPI anyway.<div><br><div><blockquote type="cite"><div>On Sep 3, 2015, at 11:09 AM, Paul Hargrove &lt;<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;phhargrove@lbl.gov&#39;);" target="_blank">phhargrove@lbl.gov</a>&gt; wrote:</div><br><div><div dir="ltr"><div class="gmail_extra"><br><div class="gmail_quote">On Thu, Sep 3, 2015 at 8:03 AM, Ralph Castain <span dir="ltr">&lt;<a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;rhc@open-mpi.org&#39;);" target="_blank">rhc@open-mpi.org</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style="overflow:hidden">Does anyone know of a reason why we shouldn’t do this?<br></div></blockquote></div><br><br>Would doing this mean that a port to a new system would require that one first perform a full hwloc port?<br><br>-Paul<br clear="all"><div><br></div>-- <br><div><div dir="ltr"><div><font face="courier new, monospace"><div>Paul H. Hargrove                          <a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;PHHargrove@lbl.gov&#39;);" target="_blank">PHHargrove@lbl.gov</a></div><div>Computer Languages &amp; Systems Software (CLaSS) Group</div><div>Computer Science Department               Tel: +1-510-495-2352</div><div>Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900</div></font></div></div></div>
</div></div>
_______________________________________________<br>devel mailing list<br><a href="javascript:_e(%7B%7D,&#39;cvml&#39;,&#39;devel@open-mpi.org&#39;);" target="_blank">devel@open-mpi.org</a><br>Subscription: <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel" target="_blank">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a><br>Link to this post: <a href="http://www.open-mpi.org/community/lists/devel/2015/09/17942.php" target="_blank">http://www.open-mpi.org/community/lists/devel/2015/09/17942.php</a></div></blockquote></div><br></div></div></blockquote></div>

