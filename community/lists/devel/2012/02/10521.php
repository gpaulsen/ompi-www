<?
$subject_val = "Re: [OMPI devel] flex warning from flex-2.5.4";
include("../../include/msg-header.inc");
?>
<!-- received="Mon Feb 20 18:36:25 2012" -->
<!-- isoreceived="20120220233625" -->
<!-- sent="Mon, 20 Feb 2012 15:36:12 -0800" -->
<!-- isosent="20120220233612" -->
<!-- name="Paul H. Hargrove" -->
<!-- email="PHHargrove_at_[hidden]" -->
<!-- subject="Re: [OMPI devel] flex warning from flex-2.5.4" -->
<!-- id="4F42D8EC.4090600_at_lbl.gov" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="E6FE22AD-E031-4B6D-9235-60478D130B04_at_open-mpi.org" -->
<!-- expires="-1" -->
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<p class="headers">
<strong>Subject:</strong> Re: [OMPI devel] flex warning from flex-2.5.4<br>
<strong>From:</strong> Paul H. Hargrove (<em>PHHargrove_at_[hidden]</em>)<br>
<strong>Date:</strong> 2012-02-20 18:36:12
</p>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Previous message:</strong> <a href="10520.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>In reply to:</strong> <a href="10520.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Reply:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Reply:</strong> <a href="10525.php">Paul H. Hargrove: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<!-- reply="end" -->
</ul>
<hr>
<!-- body="start" -->
<p>
Ralph,
<br>
<p>The change below removes the warning, but very slightly changes the 
<br>
syntax that is parsed.
<br>
In the original, anything following the &quot;[tag]&quot; was considered trailing 
<br>
context.
<br>
However that made inputs like &quot;[tag]foo]&quot; ambiguous to the parser (hence 
<br>
the warning).
<br>
With the change below, both &quot;]&quot; will be in the matched string.
<br>
I am pretty sure that shouldn't ever happen in valid inputs anyway.
<br>
NOTE: I've not yet actually tested the resulting show_help utility [but 
<br>
soon].
<br>
<p>-Paul
<br>
<p>Index: opal/util/show_help_lex.l
<br>
===================================================================
<br>
--- opal/util/show_help_lex.l   (revision 25974)
<br>
+++ opal/util/show_help_lex.l   (working copy)
<br>
@@ -62,7 +62,7 @@
<br>
<p>&nbsp;&nbsp;#.*\n               ; /* comment line */
<br>
<p>-^\[.+\]/.*\n { BEGIN(CHOMP); return OPAL_SHOW_HELP_PARSE_TOPIC; }
<br>
+^\[.+\]/[^\]\n]*\n { BEGIN(CHOMP); return OPAL_SHOW_HELP_PARSE_TOPIC; }
<br>
<p>&lt;CHOMP&gt;.*\n { BEGIN(INITIAL); }
<br>
<p><p><p>On 2/20/2012 3:26 PM, Ralph Castain wrote:
<br>
<span class="quotelev1">&gt; My bad - didn't look closely enough. I'll take a look at it and see if there is anything we can do.
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt; On Feb 20, 2012, at 4:12 PM, Paul H. Hargrove wrote:
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev2">&gt;&gt; Ralph,
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt; Are you sure this is a flex-generated file?
</span><br>
<span class="quotelev2">&gt;&gt; I am looking at opal/util/show_help_lex.l in the svn trunk and it certainly looks human-generated to me.
</span><br>
<span class="quotelev2">&gt;&gt; Please clue me in if I am missing something.
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt; The warning is from flex when processing the .l file, NOT from the compilation of the flex-generated .c file.
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt; -Paul
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt; On 2/19/2012 7:55 PM, Ralph Castain wrote:
</span><br>
<span class="quotelev3">&gt;&gt;&gt; We get that everywhere, unfortunately - it comes from flex and is outside our control as the file it complains about is actually generated by flex itself. Unfortunately, flex is no longer maintained, and so nothing has been done to correct it.
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev3">&gt;&gt;&gt; On Feb 19, 2012, at 8:47 PM, Paul H. Hargrove wrote:
</span><br>
<span class="quotelev3">&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; I've not checked any other systems, but building the trunk on OpenBSD and FreeBSD (w/ flex-2.5.4) I see the following:
</span><br>
<span class="quotelev1">&gt;&gt;&gt;&gt;&gt;   LEX    show_help_lex.c
</span><br>
<span class="quotelev1">&gt;&gt;&gt;&gt;&gt; &quot;[srcdir]/opal/util/show_help_lex.l&quot;, line 65: warning, dangerous trailing context
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; I found this message in the flex documentation, and it mentions that the POSIX draft for LEX leaves such cases undefined.
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; <a href="http://flex.sourceforge.net/manual/Limitations.html">http://flex.sourceforge.net/manual/Limitations.html</a>
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; -Paul
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; -- 
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; Paul H. Hargrove                          PHHargrove_at_[hidden]
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; Future Technologies Group
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; HPC Research Department                   Tel: +1-510-495-2352
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt;
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; _______________________________________________
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; devel mailing list
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; devel_at_[hidden]
</span><br>
<span class="quotelev4">&gt;&gt;&gt;&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a>
</span><br>
<span class="quotelev3">&gt;&gt;&gt; _______________________________________________
</span><br>
<span class="quotelev3">&gt;&gt;&gt; devel mailing list
</span><br>
<span class="quotelev3">&gt;&gt;&gt; devel_at_[hidden]
</span><br>
<span class="quotelev3">&gt;&gt;&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a>
</span><br>
<span class="quotelev2">&gt;&gt; -- 
</span><br>
<span class="quotelev2">&gt;&gt; Paul H. Hargrove                          PHHargrove_at_[hidden]
</span><br>
<span class="quotelev2">&gt;&gt; Future Technologies Group
</span><br>
<span class="quotelev2">&gt;&gt; HPC Research Department                   Tel: +1-510-495-2352
</span><br>
<span class="quotelev2">&gt;&gt; Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900
</span><br>
<span class="quotelev2">&gt;&gt;
</span><br>
<span class="quotelev2">&gt;&gt; _______________________________________________
</span><br>
<span class="quotelev2">&gt;&gt; devel mailing list
</span><br>
<span class="quotelev2">&gt;&gt; devel_at_[hidden]
</span><br>
<span class="quotelev2">&gt;&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a>
</span><br>
<span class="quotelev1">&gt;
</span><br>
<span class="quotelev1">&gt; _______________________________________________
</span><br>
<span class="quotelev1">&gt; devel mailing list
</span><br>
<span class="quotelev1">&gt; devel_at_[hidden]
</span><br>
<span class="quotelev1">&gt; <a href="http://www.open-mpi.org/mailman/listinfo.cgi/devel">http://www.open-mpi.org/mailman/listinfo.cgi/devel</a>
</span><br>
<p><pre>
-- 
Paul H. Hargrove                          PHHargrove_at_[hidden]
Future Technologies Group
HPC Research Department                   Tel: +1-510-495-2352
Lawrence Berkeley National Laboratory     Fax: +1-510-486-6900
</pre>
<!-- body="end" -->
<hr>
<ul class="links">
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Previous message:</strong> <a href="10520.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>In reply to:</strong> <a href="10520.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Reply:</strong> <a href="10522.php">Ralph Castain: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<li><strong>Reply:</strong> <a href="10525.php">Paul H. Hargrove: "Re: [OMPI devel] flex warning from flex-2.5.4"</a>
<!-- reply="end" -->
</ul>
<div class="center">
<table border="2" width="100%" class="links">
<tr>
<th><a href="date.php">Date view</a></th>
<th><a href="index.php">Thread view</a></th>
<th><a href="subject.php">Subject view</a></th>
<th><a href="author.php">Author view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<? include("../../include/msg-footer.inc") ?>
